(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{3932:function(e,t,i){e.exports='<div class="filterable-users-list"\n     ng-style="{height: freezedHeight}"\n     ng-class="{\'filterable-users-list--squared-avatars\': squaredAvatars}"\n     no-prevent-default="true">\n    <div class="search-panel" ng-class="{\'search-panel--focused\': focused}">\n        <div class="check" ng-class="{\'check__invisible\': list.filterValue.length, \'check_too-much\': list.tooMuch()}">\n            <rtb-checkbox\n                checked="list.checkValue"\n                on-change="list.onCheck($value)"\n                label="\'All\'"></rtb-checkbox>\n        </div>\n        <input class="filter"\n               type="text"\n               ng-model="list.filterValue"\n               ng-change="list.onFilter()"\n               ng-focus="focused = true"\n               ng-blur="focused = false"\n               ng-attr-placeholder="{{searchPlaceholder || \'Search\'}}"/>\n        <button class="search-panel__button" hm-tap="list.setFocusOnSearch()">\n            <svg  class="search-panel__icon"  ><use xlink:href="'+i(3933)+'"></use></svg>\n        </button>\n    </div>\n    <scrollable on-scroll="list.onScroll({$elemHeight, $elemScrollHeight, $elemScrollTop})">\n        <label class="filterable-list__item" ng-repeat="item in list.filteredItems track by list.trackByFn(item)">\n            <rtb-checkbox\n                    data-item-id="{{item.id}}"\n                    checked="item.checked"\n                    on-change="list.onItemChecked($value)"\n                    off="item.disabled"></rtb-checkbox>\n            <img class="filterable-list__avatar" ng-src="{{item.avatarUrl || item.picture.size44 || list.getDefaultAvatar() }}">\n            <div class="filterable-list__column filterable-list__column--primary">\n                \x3c!-- todo\n                \u0443\u044f\u0437\u0432\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u0443\u0442 ng-bind-html="list.highlightName(item.name)"\n                item.name \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c html-\u0442\u0435\u0433\u0438\n                 --\x3e\n                <span class="text filterable-list__column-name" ng-show="item.name" ng-bind-html="list.highlightName(item.name)"></span>\n                <span class="text text--gray filterable-list__column-invited" ng-hide="item.name">Invited</span>\n                <span class="text text--gray filterable-list__column-email" title="{{item.email}}" ng-bind-html="list.highlightEmail(item.email)"></span>\n            </div>\n            <div class="filterable-list__column filterable-list__column--secondary" ng-if="twoColumns">\n                <span class="text text--blue">{{item.info.name}}</span>\n                <span class="text text--gray">{{item.info.label}}</span>\n            </div>\n        </label>\n    </scrollable>\n</div>'},3933:function(e,t){e.exports="#img__search-24-medium"},3934:function(e,t,i){var n=i(3935);"string"===typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};i(24)(n,l);n.locals&&(e.exports=n.locals)},3935:function(e,t,i){(e.exports=i(23)(!1)).push([e.i,".filterable-users-list {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n}\n.filterable-users-list input[type='checkbox'] {\n  cursor: pointer;\n}\n.filterable-users-list .search-panel {\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row;\n      flex-direction: row;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  border-bottom: 1px solid rgba(202, 210, 210, 0.5);\n  transition: border-bottom 0.15s cubic-bezier(0.2, 0.3, 0.25, 0.9);\n}\n.filterable-users-list .search-panel--focused {\n  border-bottom: 1px solid #4262ff;\n}\n.filterable-users-list .search-panel label {\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n}\n.filterable-users-list .search-panel input[type='checkbox'] {\n  vertical-align: top;\n  margin: 2px 30px 0 0;\n  transition: opacity 0.15s cubic-bezier(0.2, 0.3, 0.25, 0.9);\n}\n.filterable-users-list .search-panel input[type='text'] {\n  width: 100%;\n  height: 36px;\n  line-height: 36px;\n  font-size: 14px;\n  text-indent: 24px;\n}\n.filterable-users-list .search-panel input[type='text']::-webkit-input-placeholder {\n  color: #827f9b;\n}\n.filterable-users-list .search-panel input[type='text']::-moz-placeholder {\n  color: #827f9b;\n}\n.filterable-users-list .search-panel input[type='text']:-moz-placeholder {\n  color: #827f9b;\n}\n.filterable-users-list .search-panel input[type='text']:-ms-input-placeholder {\n  color: #827f9b;\n}\n.filterable-users-list .search-panel input[type='text']::-ms-input-placeholder {\n  color: #827f9b;\n}\n.filterable-users-list .search-panel input[type='text']:-ms-input-placeholder {\n  color: #827f9b;\n  opacity: 1;\n  /* Firefox */\n}\n.filterable-users-list .search-panel input[type='text']::placeholder {\n  color: #827f9b;\n  opacity: 1;\n  /* Firefox */\n}\n.filterable-users-list .search-panel span {\n  font-size: 13px;\n  transition: opacity 0.15s cubic-bezier(0.2, 0.3, 0.25, 0.9);\n}\n.filterable-users-list .search-panel .check_too-much {\n  display: none;\n}\n.filterable-users-list .search-panel .check_too-much + input.filter {\n  text-indent: 12px;\n}\n.filterable-users-list .search-panel .check_too-much ~ .search-panel__button {\n  -ms-flex-order: -1;\n      order: -1;\n  margin-left: -4px;\n}\n.filterable-users-list .search-panel .search-panel__button {\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  width: 24px;\n  height: 24px;\n  padding: 0;\n}\n.filterable-users-list .search-panel .search-panel__icon {\n  width: 100%;\n  height: 100%;\n  opacity: 0.16;\n}\n.filterable-users-list .search-panel .search-panel__icon:hover {\n  opacity: 0.4;\n}\n.filterable-users-list .search-panel .rtb-checkbox__label {\n  padding-left: 31px;\n}\n.filterable-users-list .filterable-list__item {\n  cursor: pointer;\n  display: -ms-flexbox;\n  display: flex;\n  width: calc(100% - 50px);\n  -ms-flex-align: center;\n      align-items: center;\n  margin: 16px 0;\n  font-size: 14px;\n}\n.filterable-users-list .filterable-list__item input {\n  -ms-flex-positive: 0;\n      flex-grow: 0;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  margin: 0 3px 0 0;\n}\n.filterable-users-list .filterable-list__item .text--gray {\n  color: #827f9b;\n}\n.filterable-users-list .filterable-list__item .text span,\n.filterable-users-list .filterable-list__item .text--blue {\n  color: #4262ff;\n}\n.filterable-users-list .filterable-list__avatar {\n  -ms-flex-positive: 0;\n      flex-grow: 0;\n  margin: 0 16px 0 18px;\n  border-radius: 50%;\n  width: 36px;\n  height: 36px;\n  min-width: 36px;\n  max-width: 36px;\n  min-height: 36px;\n  max-height: 36px;\n  overflow: hidden;\n}\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  .filterable-users-list .filterable-list__avatar {\n    width: auto;\n    height: auto;\n  }\n}\n.filterable-users-list .filterable-list__column {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  overflow: hidden;\n  height: 36px;\n}\n.filterable-users-list .filterable-list__column span {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  line-height: 18px;\n}\n.filterable-users-list .filterable-list__column--primary {\n  -ms-flex-positive: 1;\n      flex-grow: 1;\n}\n.filterable-users-list .filterable-list__column--secondary {\n  text-align: right;\n  margin-left: 10px;\n  min-width: 110px;\n}\n.filterable-users-list .scrollable {\n  min-height: 0;\n  overflow: hidden;\n  margin-right: -50px;\n}\n.filterable-users-list .scrollable--scroll-not-at-start {\n  display: none;\n}\n.filterable-users-list .scrollable--scroll-not-at-end {\n  height: 1px;\n  background-color: rgba(202, 210, 210, 0.5);\n  width: calc(100% - 50px);\n}\n.filterable-users-list.filterable-users-list--squared-avatars .filterable-list__avatar {\n  border-radius: 0;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  box-sizing: border-box;\n}\n",""])},540:function(e,t,i){"use strict";var n=i(30),l=i(562),s=i(149),r=i.n(s),a=i(71),o=function(){function e(e,t){var i=this;this.$scope=e,this.$timeout=t,this.filteredItems=[],this.checkValue=!1,this.filterValue="",this.filter(),e.$watch("items",function(){i.initItemsVars(),i.syncCheckbox(),i.filter()}),this.$scope.squaredAvatars=this.$scope.isBoards}return e.prototype.tooMuch=function(){return this.$scope.items&&this.$scope.items.length>50},e.prototype.getItems=function(){return this.$scope.items},e.prototype.makeRegexp=function(e,t){var i,n=!1,l=e.replace(/([\{\}\[\]\(\)\+\?\^\$\*\.\!\\])/gi,function(e){return n=!0,"\\"+e});try{i=new RegExp(n?"("+l+")|("+e+")":e,t)}catch(e){i=new RegExp(l,t)}return i},e.prototype.onFilter=function(){var e=this.filterValue.trim();""!==e&&void 0===this.$scope.freezedHeight?this.freezeHeight():""===e&&this.unfreezeHeight(),this.nameFilterRegexp=this.makeRegexp(""+e,"i"),this.emailFilterRegexp=this.makeRegexp(""+e,"i"),this.filter(e)},e.prototype.freezeHeight=function(){this.$scope.freezedHeight=this.$scope.$element.outerHeight()},e.prototype.unfreezeHeight=function(){this.$scope.freezedHeight=void 0},e.prototype.onCheck=function(e){this.filteredItems.forEach(function(t){t.disabled||t.checked===e||(t.checked=e)}),this.itemsTotalChecked=e?this.itemsTotal-this.itemsTotalDisabled:0,this.fireCheckChanged()},e.prototype.onItemChecked=function(e){this.itemsTotalChecked+=e?1:-1,this.syncCheckbox(),this.fireCheckChanged()},e.prototype.highlightStr=function(e,t){return t.replace(e,function(e){return Object(l.a)("<span>"+e+"</span>","span")})},e.prototype.highlightName=function(e){return e&&this.filterValue.trim()?this.highlightStr(this.nameFilterRegexp,e):r()(e)},e.prototype.highlightEmail=function(e){var t;return t=e&&this.filterValue.trim()?this.highlightStr(this.emailFilterRegexp,e):r()(e),this.$scope.emailTemplate&&(t=this.$scope.emailTemplate(t)),t},e.prototype.onScroll=function(e){},e.prototype.filterCallback=function(e){return!(!e.name||!e.name.match(this.nameFilterRegexp))||!(!e.email||!e.email.match(this.emailFilterRegexp))},e.prototype.filter=function(e){var t=this;void 0===e&&(e=""),e&&this.$scope.items?this.filteredItems=this.$scope.items.filter(function(e){return t.filterCallback(e)})||[]:this.filteredItems=this.$scope.items||[]},e.prototype.fireCheckChanged=function(){this.$scope.onCheckChanged&&this.$scope.onCheckChanged({checkedNumber:this.itemsTotalChecked})},e.prototype.syncCheckbox=function(){this.checkValue=this.itemsTotal-this.itemsTotalDisabled===this.itemsTotalChecked},e.prototype.initItemsVars=function(){var e=this,t=this.$scope.items||[];this.itemsTotalDisabled=0,this.itemsTotalChecked=0,this.itemsTotal=t.length,t.forEach(function(t){e.itemsTotalDisabled+=t.disabled?1:0,e.itemsTotalChecked+=!t.disabled&&t.checked?1:0})},e.prototype.trackByFn=function(e){return e.id||e.email},e.prototype.getDefaultAvatar=function(){return this.$scope.isBoards?a.g:a.j},e.prototype.setFocusOnSearch=function(){this.$scope.$element.find(".filter").focus()},e.$inject=["$scope","$timeout"],e}(),c=i(1143),h=i(21),p=i(111),f=i.n(p),u=20,m=function(e){function t(t,i,n){var l=e.call(this,t,n)||this;return l.$timeout=i,l.loadedCount=0,l.filterValue="",l.onFilter=f()(l.onFilterHandler.bind(l),300),t.$watch("searchStorage",l.initWrap),l}return Object(h.d)(t,e),Object.defineProperty(t.prototype,"checkValue",{get:function(){return this.searchStorage&&this.searchStorage.allChecked},set:function(e){this.searchStorage.makeAllCheckValue(e)},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){var e=this.searchStorage.getItems().length;e>this.loadedCount?(this.loadedCount=e,this.unfreezeHeight()):this.loadedCount&&void 0===this.$scope.freezedHeight&&this.freezeHeight()},Object.defineProperty(t.prototype,"filteredItems",{get:function(){return this.getItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchStorage",{get:function(){return this.$scope.searchStorage},enumerable:!0,configurable:!0}),t.prototype.tooMuch=function(){return this.searchStorage&&this.searchStorage.maxArrayCount>200},t.prototype.makeRegexp=function(e,t){var i,n=!1,l=e.replace(/([\{\}\[\]\(\)\+\?\^\$\*\.\!\\])/gi,function(e){return n=!0,"\\"+e});try{i=new RegExp(n?"("+l+")|("+e+")":e,t)}catch(e){i=new RegExp(l,t)}return i},t.prototype.onFilterHandler=function(){var e=this.filterValue.trim();this.nameFilterRegexp=this.makeRegexp(""+e,"i"),this.emailFilterRegexp=this.makeRegexp(""+e,"i"),this.searchStorage&&this.searchStorage.search({search:e})},t.prototype.freezeHeight=function(){this.$scope.freezedHeight=this.$element.outerHeight()},t.prototype.unfreezeHeight=function(){this.$scope.freezedHeight=void 0},t.prototype.onCheck=function(e){},t.prototype.onItemChecked=function(e){},t.prototype.highlightStr=function(e,t){return t.replace(e,function(e){return Object(l.a)("<span>"+e+"</span>","span")})},t.prototype.highlightName=function(e){return e&&this.filterValue.trim()?this.highlightStr(this.nameFilterRegexp,e):r()(e)},t.prototype.highlightEmail=function(e){var t;return t=e&&this.filterValue.trim()?this.highlightStr(this.emailFilterRegexp,e):r()(e),this.$scope.emailTemplate&&(t=this.$scope.emailTemplate(t)),t},t.prototype.trackByFn=function(e){return e.id||e.email},t.prototype.getDefaultAvatar=function(){return this.$scope.isBoards?a.g:a.j},t.$inject=["$scope","$timeout","$element"],t}(function(){function e(e,t){var i=this;this.$scope=e,this.$element=t,this.nextPageWrap=f()(this.nextPage.bind(this),100),this.initWrap=this.initStorage.bind(this),this.lastScrollTop=0,this.loadIfCan=f()(function(){if(i.searchStorage&&i.searchStorage.loadingLeft>0){var e=i.$element.find(".scrollable-list"),t=e.outerHeight(),n=e.prop("scrollHeight");n>u&&n-t===0&&(i.searchStorage.loading?i.searchStorage.loaded.addOnce(function(){return i.loadIfCan()}):i.nextPageWrap())}},100)}return e.prototype.initStorage=function(){var e=this;this.searchStorage&&(this.searchStorage.loaded.add(function(){e.onLoad(),e.$scope.safeApply()}),this.searchStorage.firstLoaded.add(function(){e.$scope.safeApply(),e.loadIfCan()}),this.$scope.safeApply())},e.prototype.onLoad=function(){},Object.defineProperty(e.prototype,"loading",{get:function(){return null!=this.searchStorage&&this.searchStorage.loading},enumerable:!0,configurable:!0}),e.prototype.getItems=function(){return this.searchStorage?this.searchStorage.getItems():[]},e.prototype.onScroll=function(e){if(this.searchStorage&&!this.loading&&e.$elemScrollTop>this.lastScrollTop){var t=e.$elemHeight,i=e.$elemScrollHeight-t;i-e.$elemScrollTop<Math.min(.3*i,1200)&&this.nextPage()}this.lastScrollTop=e.$elemScrollTop},e.prototype.nextPage=function(){var e=this;null!=this.searchStorage&&this.searchStorage.next().then(function(){e.loadIfCan()})},e}()),d=i(25),g=i(3932);t.a=function(){return Object(c.a)(),i(3934),Object(d.b)().directive("filterableUsersList",b),Object(d.b)().directive("filterableUsersListWithPage",x),g};function b(){return Object(n.a)({restrict:"E",template:g,scope:{isBoards:"=",items:"=",twoColumns:"=",emailTemplate:"=",onCheckChanged:"&",searchPlaceholder:"="},link:function(e,t){e.$element=t},controller:o,controllerAs:"list"})}function x(){return Object(n.a)({restrict:"E",template:g,scope:{searchStorage:"=",searchPlaceholder:"="},controller:m,controllerAs:"list"})}}}]);
//# sourceMappingURL=cmn~Pro~Set~ShaAndInv~Wel.d89c8f2556d23c25b2ed.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1519:function(t,e,n){"use strict";var i=n(21),o=n(313),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.initItem=function(){return new o.a(this.canEditPalette,this.directiveName)},Object.defineProperty(e.prototype,"canEditPalette",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"directiveName",{get:function(){return"cmih-color"},enumerable:!0,configurable:!0}),e}(n(948).a);e.a=r},1520:function(t,e){t.exports="#newlayout__cm-refresh"},1521:function(t,e){t.exports="#newlayout__board-icon"},1522:function(t,e){t.exports="#newlayout__cm-align-objects"},1523:function(t,e){t.exports="#newlayout__cm-align1"},1524:function(t,e){t.exports="#newlayout__cm-align2"},1525:function(t,e){t.exports="#newlayout__cm-align3"},1526:function(t,e){t.exports="#newlayout__cm-align4"},1527:function(t,e){t.exports="#newlayout__cm-align5"},1528:function(t,e){t.exports="#newlayout__cm-align6"},1529:function(t,e){t.exports="#newlayout__cm-align7"},1530:function(t,e){t.exports="#newlayout__cm-align8"},1531:function(t,e){t.exports="#newlayout__cm-arrow-left"},1532:function(t,e){t.exports="#newlayout__cm-arrow-right"},1533:function(t,e){t.exports="#newlayout__cm-crop"},1534:function(t,e){t.exports="#newlayout__cm-download"},1535:function(t,e){t.exports="#newlayout__cm-emoji"},1536:function(t,e){t.exports="#newlayout__cm-gif-loop"},1537:function(t,e){t.exports="#newlayout__cm-gif-stop"},1538:function(t,e){t.exports="#newlayout__cm-group"},1539:function(t,e){t.exports="#newlayout__cm-icon-frame-landscape"},1540:function(t,e){t.exports="#newlayout__cm-icon-frame-portrait"},1541:function(t,e){t.exports="#newlayout__cm-link-invert"},1542:function(t,e){t.exports="#newlayout__cm-more"},1543:function(t,e){t.exports="#newlayout__cm-replace-image"},1544:function(t,e){t.exports="#newlayout__cm-text-panel-align-center"},1545:function(t,e){t.exports="#newlayout__cm-text-panel-align-left"},1546:function(t,e){t.exports="#newlayout__cm-text-panel-align-right"},1547:function(t,e){t.exports="#newlayout__cm-ungroup"},1548:function(t,e){t.exports="#newlayout__cm-unlock"},1549:function(t,e){t.exports="#newlayout__expand-white"},1550:function(t,e){t.exports="#newlayout__expand"},1551:function(t,e,n){"use strict";var i=n(21),o=n(5225),r=n(66),a=n(22),s=n(437),c=n(83),l=n(51),u=n(55),h=n(26),p=n(512),d=n(35),g=n(53),f=u.b(),m=function(t){function e(){var e=t.call(this)||this;return e.item=new(e.getItemClass()),e.item.setClickHandler(e.onClick,e,!1),e}return Object(i.d)(e,t),e.prototype.getPropertyValue=function(){return s.a.FREE},e.prototype.getItemClass=function(){return o.a},e.prototype.onClick=function(){var t=this;this.isBufferOverflow=!1;var e=a.mySelection.singleSelection;e&&e.isEditMode()&&e.setEditMode(!1),Object(p.a)().commandEncodingFailed.addOnce(this.onCommandEncodingFailed,this);var n=[];a.mySelection.selection.forEach(function(t){n.push.apply(n,Object(i.i)([t],t.asContainer.children))}),f().lock([]),a.mySelection.selection.forEach(function(e){return e.changeContainerType(t.getPropertyValue())}),f().unlock(),h.Eb(this.getPropertyValue()!=s.a.FREE),this.changeAvailability(!0),a.mySelection.updateProperties(),Object(p.a)().commandEncodingFailed.remove(this.onCommandEncodingFailed,this),this.isBufferOverflow&&a.canvasHistory.rollbackUnconfirmedChanges()},e.prototype.updateItem=function(t){var e=this,n=c.e(t,function(t){var n=e.getWidgetStyle(t);return n?n[l.a.CONTAINER_TYPE]:null});this.changeAvailability(null!=n&&n==this.getPropertyValue())},e.prototype.getWidgetStyle=function(t){return t.getStyle&&t.getStyle()},e.prototype.changeAvailability=function(t){this.item.setFaded(!t)},e.prototype.onCommandEncodingFailed=function(t){Object(d.a)().showError("Sorry, this frame contains too many objects. Please remove some of them to change the grid type."),this.isBufferOverflow=!0},Object(i.c)([Object(g.a)("FrameFreeItemDef.onClick",!1)],e.prototype,"onClick",null),e}(r.a);e.a=m},1552:function(t,e,n){"use strict";var i=n(21),o=n(406),r=n(83),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.createStyleObject=function(t){var e={};return this.styleNames.forEach(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e},e.prototype.getStyleValue=function(t){var e={};return t&&this.styleNames.forEach(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e},e.prototype.updateItem=function(t){var e=this;if(t){var n=r.f(t,function(t){var n=e.getWidgetStyle(t);return e.getStyleValue(n)});this.styleNames.forEach(function(t){return e.setItem(t,n[t])})}},Object.defineProperty(e.prototype,"isEditMode",{get:function(){return this._widgets&&this._widgets[0]&&this._widgets[0].isEditMode()},enumerable:!0,configurable:!0}),e.prototype.setItem=function(t,e){throw new Error("setItem method should be implemented in superclass")},e}(o.a);e.a=a},1553:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(21),o=n(66),r=n(22),a=n(166),s="Download",c=function(t){function e(){var e=t.call(this)||this,n=e.initItem();return n.setClickHandler(e.onClick,e,!1),e.item=n,e}return Object(i.d)(e,t),e.prototype.onClick=function(t){var e=r.mySelection.singleSelection;e&&e.resourceController.downloadToLocalDrive(),this.updateProperties()},e=Object(i.c)([Object(a.a)({showRegardlessCapability:{editable:{}}})],e)}(o.a);e.b=c},1564:function(t,e,n){"use strict";var i,o=n(21),r=n(66),a=n(22),s=n(516),c=n(109),l=function(t){function e(e){var n=t.call(this,"cmi-link-arrowhead")||this;return n.localController=n.controller=new u(n),n.localController.end=e,n.init(),n}return Object(o.d)(e,t),e.prototype.setArrowheadChangeListener=function(t,e){this.localController.registerHandler("ArrowheadChangeListener",t,e)},e.prototype.setArrowhead=function(t){this.localController.arrowhead=t},e}(s.a),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.d)(e,t),e.prototype.selectArrowhead=function(t){this.arrowhead=t,this.callHandler("ArrowheadChangeListener",t)},e}(c.a),h=n(83),p=n(51),d=function(t){function e(){var e=t.call(this)||this;e.getPropWrap=e.getProp.bind(e);var n=new l(e.isEnd);return e.item=n,n.setArrowheadChangeListener(e.onChange,e),e}return Object(o.d)(e,t),Object.defineProperty(e.prototype,"isEnd",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"propName",{get:function(){return"a_start"},enumerable:!0,configurable:!0}),e.prototype.updateItem=function(){var t=h.e(a.mySelection.selection,this.getPropWrap),e=this.item;t||(t=this.getProp(a.mySelection.selection[0])),e.setArrowhead(t)},e.prototype.onChange=function(t){var e={};e[this.propName]=t,e[p.a.VERSION]=2,a.styleController.changeStyle(a.mySelection.selection,e),this.updateProperties()},e.prototype.getProp=function(t){var e=t.getStyle();return e?e[this.propName]:null},e.prototype.updateItemProperties=function(t){var e=this.item;t.onChange&&e.setArrowheadChangeListener(t.onChange,this)},e}(r.a),g=n(130),f=n(580),m=function(t){function e(e){var n=t.call(this,"cmih-link-arrowhead")||this;return n.localController=n.controller=new v(n),n.localController.end=e,n.init(),n}return Object(o.d)(e,t),e.prototype.setArrowheadChangeListener=function(t,e){this.localController.registerHandler("ArrowheadChangeListener",t,e)},e.prototype.setArrowhead=function(t){void 0!==t&&null!==t||(t=-1),this.localController.arrowhead=t},e}(g.a),y=((i={})[-1]=n(5230),i[f.a.NONE]=n(5231),i[f.a.OPEN_ARROW]=n(5232),i[f.a.FILLED_ARROW]=n(5233),i[f.a.ARROW]=n(5234),i[f.a.FILLED_RHOMBUS]=n(5235),i[f.a.RHOMBUS]=n(5236),i[f.a.FILLED_CIRCLE]=n(5237),i[f.a.CIRCLE]=n(5238),i[f.a.ARC_ARROW]=n(5239),i),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrowhead=f.a.NONE,e.iconSize=32,e.Style=f.a,e}return Object(o.d)(e,t),e.prototype.selectArrowhead=function(t){this.arrowhead=t,this.callHandler("ArrowheadChangeListener",t)},e.prototype.setArrowhead=function(t){this.arrowhead=t,this.apply()},e.prototype.getIcon=function(t){return y[t]||y[this.arrowhead]},e}(c.a),C=n(166),b=function(t){function e(){var e=t.call(this)||this;return e.item=new m(e.isEnd),e.item.setArrowheadChangeListener(e.onChange,e),e.item.setTooltip("Line start"),e}return Object(o.d)(e,t),e=Object(o.c)([Object(C.a)({showRegardlessCapability:{editable:{}}})],e)}(d);e.a=b},1570:function(t,e,n){"use strict";var i=n(21),o=n(735),r=n(446),a=1,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeStyles=r.h,e.opacities=[0,.25,.5,.75,a],e.change=0,e}return Object(i.d)(e,t),e.prototype.selectShapeStyle=function(t){this.callHandler("ShapeStyleChangeListener",t)},e.prototype.setOpacity=function(t){this.opacity=this.opacities.indexOf(t),this.change++,this.apply()},e.prototype.onOpacityChanged=function(t,e){var n=void 0!==e?this.opacities[e]:void 0;this.opacity=t,this.callHandler("ShapeOpacityChangeListener",this.opacityValue,n)},e.prototype.changeColor=function(e,n,i){0===this.opacity&&(this.onOpacityChanged(this.opacities.indexOf(a),this.opacity),this.change++,this.apply()),t.prototype.changeColor.call(this,e,n,i)},Object.defineProperty(e.prototype,"opacityValue",{get:function(){return this.opacities[this.opacity]},enumerable:!0,configurable:!0}),e}(o.a),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.setShapeStyleChangeListener=function(t,e){this.controller.registerHandler("ShapeStyleChangeListener",t,e)},e.prototype.getControllerInstance=function(){return new s(this)},e.prototype.getDirectiveClass=function(){return[t.prototype.getDirectiveClass.call(this),"cmih-shape-background"].join(" ")},e}(n(2411).a),l=n(2252),u=n(1519),h=n(75),p=n(51),d=n(68),g=function(t){function e(){var e=t.call(this)||this;return e.shapeStyleDef=new l.a,e.item.setIcon("text-panel-bg"),e.item.setShapeStyleChangeListener(e.onShapeStyleChanged,e),e.item.setTooltip("Style and fill color"),e}return Object(i.d)(e,t),Object.defineProperty(e.prototype,"styleNames",{get:function(){return[p.a.SHAPE_COLOR,p.a.BACKGROUND_COLOR]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemClass",{get:function(){return c},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"directiveName",{get:function(){return"cmih-shape-background"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colors",{get:function(){return d.r(!1)},enumerable:!0,configurable:!0}),e.prototype.onShapeStyleChanged=function(t){this.shapeStyleDef.setShapeStyle(this._widgets,t)},e.prototype.onChange=function(e,n,i){t.prototype.onChange.call(this,e,n,i),n&&h.a.onFontBackgroundChanged(this._widgets,e)},e.prototype.updateItemProperties=function(t){t.onShapeStyleChanged&&this.item.setShapeStyleChangeListener(t.onShapeStyleChanged,this)},e}(u.a);e.a=g},1583:function(t,e,n){"use strict";var i,o=n(21),r=n(130),a=n(109),s=n(304),c=function(t){function e(){var e=t.call(this,"cmih-shape-style")||this;return e.localController=e.controller=new u(e),e.setTooltip("shape style"),e.init(),e}return Object(o.d)(e,t),e.prototype.setShapeStyleChangeListener=function(t,e){this.localController.registerHandler("ShapeStyleChangeListener",t,e)},e.prototype.setShapeStyle=function(t){this.localController.shapeStyle=t||this.localController.shapeStyle},e}(r.a),l=((i={})[s.a.NORMAL]="shape_style_border1",i[s.a.STRONG]="shape_style_border2",i[s.a.OPAQUE]="shape_style_fill",i[s.a.TRANSPARENT]="shape_style_transparent",i),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeStyle=s.a.NORMAL,e}return Object(o.d)(e,t),e.prototype.selectShapeStyle=function(t){this.shapeStyle=t,this.callHandler("ShapeStyleChangeListener",t)},e.prototype.setShapeStyle=function(t){this.shapeStyle=t,this.apply()},e.prototype.getIcon=function(t){return l[t]||l[this.shapeStyle]},e}(a.a),h=function(t){function e(){var e=t.call(this)||this;return e.item=new c,e.item.setShapeStyleChangeListener(e.onChange,e),e}return Object(o.d)(e,t),e}(n(2252).a);e.a=h},1592:function(t,e,n){"use strict";var i=n(21),o=n(949),r=n(68),a=n(51),s=n(641),c=n(37),l=n(174),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.singleColorStyle=a.a.TEXT_SINGLE_COLOR,e.editorFormatName=l.a.COLOR,e}return Object(i.d)(e,t),Object.defineProperty(e.prototype,"styleNames",{get:function(){return[a.a.TEXT_COLOR]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colors",{get:function(){return r.r(!1)},enumerable:!0,configurable:!0}),e.prototype.onChange=function(t,e,n){var i=this.createStyleObject(t);this.needSetColorFromEdit()?this.setColorFromEditor(i):this.setColorFromCanvas(i,e),e&&!n&&this.item.hideSubmenu()},e.prototype.updateItem=function(e){t.prototype.updateItem.call(this,e),this.updateCurrentColor()},e.prototype.needSetColorFromEdit=function(){return this._widgets&&this._widgets[0].isEditMode()&&this._widgets[0].widgetType!==c.a.FRAME},e.prototype.setColorFromEditor=function(t){var e,n=this._widgets[0],i=((e={})[this.singleColorStyle]=0,e);n.setColor(t,i)},e.prototype.setColorFromCanvas=function(t,e){t[this.singleColorStyle]=1,this.setColor(t,e)},e.prototype.setColor=function(t,e){s.a(this._widgets,t,e)},e.prototype.updateCurrentColor=function(){var t=this._widgets[0];t.isEditMode()&&t.textSelectionChanged&&t.textSelectionChanged.add(this.onSelectionChanged,this)},e.prototype.onSelectionChanged=function(){if(this._widgets&&this._widgets.length){var t=this._widgets[0].getFormat();if(t[this.editorFormatName]){var e=t[this.editorFormatName];this.item.setColor(e)}}},e.prototype.hideItem=function(){if(t.prototype.hideItem.call(this),this._widgets&&1===this._widgets.length){var e=this._widgets[0];e&&e.textSelectionChanged&&e.textSelectionChanged.remove(this.onSelectionChanged,this)}},e}(o.a),h=n(75),p=function(t){function e(){var e=t.call(this)||this;return e.item.setTooltip("text color"),e}return Object(i.d)(e,t),e.prototype.onChange=function(e,n,i){t.prototype.onChange.call(this,e,n,i),n&&h.a.onFontColorChanged(this._widgets,e)},e}(u);e.a=p},207:function(t,e,n){"use strict";var i=n(21),o=n(130),r=n(109),a=function(t){function e(e,n,i,o){void 0===o&&(o="");var r=t.call(this,"cmih-custom-icon")||this;return r.controller=r.controller=new s(r),r.controller.icon=e,r.controller.width=n,r.controller.style=i,r.controller.text=o,r.init(),r}return Object(i.d)(e,t),e.prototype.setIcon=function(t){void 0===t&&(t=""),this.controller.icon=t},e.prototype.setStyle=function(t){this.controller.style=t},e.prototype.setSVGIcon=function(t){this.controller.svgIcon=t},e.prototype.setText=function(t){this.controller.text=t},e.prototype.setWidth=function(t){this.controller.width=t},e.prototype.getDirectiveClass=function(){var e=t.prototype.getDirectiveClass.call(this);return e+="cm-custom-"+this.controller.icon},e}(o.a);e.a=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e}(r.a)},2242:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(2243),a=n(37),s=n(875),c=n(22),l=n(75),u=n(166),h=n(204),p=s.a(),d=function(t){function e(){var e=t.call(this)||this;return e.item=new r.a("test file name"),e.item.setNameListener(e.onChange,e),e}return Object(i.d)(e,t),e.prototype.onChange=function(t){this._widgets.forEach(function(e){l.a.onWidgetTitleChanged(e),e.widgetType==a.a.WEBSCREEN&&p().updateTitle(e,t),e.widgetType==a.a.IMAGE&&c.imageWidgetController.updateTitle(e,t),e.widgetType==a.a.DOCUMENT&&c.documentWidgetController.updateTitle(e,t)})},e.prototype.updateItem=function(t){1==t.length&&(this.widget=t[0],this.widget&&((Object(h.j)(this.widget)||Object(h.e)(this.widget))&&this.widget.fileNameChanged.add(this.onFileNameChanged,this),this.onFileNameChanged(this.widget.getFileName())),this.item.setWidgetType(t[0].widgetType))},e.prototype.hideItem=function(){this.widget&&((Object(h.j)(this.widget)||Object(h.e)(this.widget))&&this.widget.fileNameChanged.remove(this.onFileNameChanged,this),this.widget=void 0)},e.prototype.onFileNameChanged=function(t){t.length>0?this.item.setName(t):this.item.setName("")},e.prototype.getAvailableWidgets=function(){return[a.a.IMAGE,a.a.DOCUMENT,a.a.WEBSCREEN,a.a.VIDEO,a.a.MOCKUP]},e=Object(i.c)([Object(u.a)({showRegardlessCapability:{editable:{}}})],e)}(o.a);e.a=d},2243:function(t,e,n){"use strict";var i=n(21),o=n(130),r=n(109),a=n(58),s=n(37),c=n(39),l=n(142),u=function(t){function e(e){var n=t.call(this,"cmih-name")||this;return n.preventDefaultAttr=!1,n.localController=n.controller=new h(n),n.setName(e),n.init(),n}return Object(i.d)(e,t),e.prototype.setNameListener=function(t,e){this.localController.registerHandler("NameListener",t,e)},e.prototype.setName=function(t){void 0===t&&(t=""),this.localController.name=t,this.localController.model=t,this.localController.selected=!1,this.localController.ajustWidth(t.length),this.localController.apply()},e.prototype.setReadonly=function(t){this.localController.readonly=t},e.prototype.setWidth=function(t){this.localController.width=t+"px"},e.prototype.setStyle=function(t){this.localController.style=t},e.prototype.setWidgetType=function(t){this.localController.widgetType=t},e}(o.a);e.a=u;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="",e.model="",e.width="",e.style={},e.readonly=!1,e}return Object(i.d)(e,t),Object.defineProperty(e.prototype,"input",{get:function(){return this.element.get(0).getElementsByClassName("cm-resource-name")[0]},enumerable:!0,configurable:!0}),e.prototype.isEditable=function(){return Object(c.a)().currentBoard.hasPermission(l.a.EDIT_WIDGETS)&&!this.readonly&&(this.widgetType===s.a.IMAGE||this.widgetType===s.a.DOCUMENT||this.widgetType==s.a.WEBSCREEN)},e.prototype.hasElement=function(){return!!this.element},e.prototype.onKeyup=function(t){t.keyCode==a.a.ENTER&&this.update()},e.prototype.onPaste=function(t){var e=(t=t.originalEvent||t).clipboardData.getData("Text");e&&this.ajustWidth(e.length)},e.prototype.onChange=function(){this.ajustWidth(this.model.length)},e.prototype.onBlur=function(){this.update()},e.prototype.onClick=function(){this.hasElement()&&!this.selected&&(this.input.focus(),this.input.setSelectionRange(0,this.model.length),this.selected=!0)},e.prototype.ajustWidth=function(t){var e=10*t;e>150&&(e=150),this.width=e+"px"},e.prototype.isValid=function(t){return""!==t.trim()},e.prototype.update=function(){this.hasElement()&&(this.name!==this.model&&this.isValid(this.model)?(this.name=this.model.trim(),this.input.blur(),this.callHandler("NameListener",this.name)):(this.model=this.name,this.ajustWidth(this.model.length)))},e}(r.a)},2244:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(232),a=n(22),s=n(734),c=function(t){function e(){var e=t.call(this)||this;e.item=new r.a("Export as image");var n=s.c();return e.item.disabled=n.disabled,e.item.disabledTooltip=n.tooltip,e.item.setClickHandler(e.onClick,e,!0),e}return Object(i.d)(e,t),e.prototype.onClick=function(){a.mySelection.singleSelection.exportAsImage()},e}(o.a);e.a=c},2245:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(232),a=n(37),s=n(104),c=n(281),l=function(t){function e(){var e=t.call(this)||this;return e.item=new r.a("Export as PDF"),e.item.setClickHandler(e.onClick,e,!0),e}return Object(i.d)(e,t),e.prototype.onClick=function(){var t=this._widgets.filter(function(t){return t.widgetType==a.a.FRAME});Object(s.a)(function(){return Object(c.b)()}).then(function(e){return e.saveAsPDF(t)})},e}(o.a);e.a=l},2246:function(t,e,n){"use strict";var i=n(21),o=n(51),r=n(1519),a=n(37),s=n(166),c=function(t){function e(){var e=t.call(this)||this;return e.item.setTooltip("color"),e}return Object(i.d)(e,t),Object.defineProperty(e.prototype,"styleNames",{get:function(){return[o.a.LINE_COLOR]},enumerable:!0,configurable:!0}),e.prototype.isUseTransparentColor=function(){return!1},e=Object(i.c)([Object(s.a)({showRegardlessCapability:{editable:{widgetTypes:[a.a.LINE,a.a.CURVE]}}})],e)}(r.a);e.a=c},2247:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(232),a=n(107),s=n(125),c=n(22),l=n(26),u=n(166),h=function(t){function e(){var e=t.call(this)||this;return e.item=new r.a("Scale to original size"),e.item.setClickHandler(e.onClick,e,!0),e}return Object(i.d)(e,t),e.prototype.onClick=function(){var t=new a.a(void 0,void 0,new s.a(1)),e=c.mySelection.selection;c.transformationController.transform(e,new Array(e.length).fill(t)),this.updateProperties(),l.Nh({source:"vertical-context-menu",scale:"1"})},e.prototype.updateItem=function(t){this.item.disabled=t[0]&&1==t[0].scale},e=Object(i.c)([Object(u.a)({showRegardlessCapability:{editable:{}}})],e)}(o.a);e.a=h},2248:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(232),a=n(22),s=function(t){function e(){var e=t.call(this)||this;return e.item=new r.a("Edit"),e.item.setClickHandler(e.onClickEdit,e,!0),e}return Object(i.d)(e,t),e.prototype.onClickEdit=function(){var t=this;a.mySelection.singleSelection.setEditMode(!0),setTimeout(function(){t.updateProperties()})},e}(o.a);e.a=s},2249:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(207),a=n(349),s=n(692),c=n(1184),l=n(174),u=n(80),h=n(37),p=n(1229),d=n(26),g=n(131),f=function(t){function e(){var e=t.call(this)||this;return e.createItem(),e}return Object(i.d)(e,t),e.prototype.createItem=function(){this.item=new r.a("cmih-url"),this.item.setSVGIcon(n(1243)),this.item.setClickHandler(this.onClick,this,!1),this.item.setTooltip("Add URL"),this.selection={index:0,length:0}},e.prototype.onClick=function(){var t=this._widgets[0],e=!t.isEditMode();t.isEditMode()||t.setEditMode(!0);var n=t.widgetType===h.a.CARD?Object(p.a)().getActiveEditor():t;e?n.selectAll():n.getEditorSelection()||n.setEditorSelection(this.selection.index,this.selection.length);var i=n.getFormat()[l.a.LINK]||"",o=n.getEditorSelection()||this.selection,r=Object(c.c)(o)?c.d:c.e,f=Object(c.a)(n.getEditorSelectionBounds(),n.getEditorEditField().get(0));this.selection=o,Object(a.a)().showHighlighting(n.getEditorContainer().get(0)).setSaveCallback(function(i){r(i,o,n),e&&t.setEditMode(!1),d.z(u.a[t.widgetType])}).open(i,f,s.b.INPUT_MODE);var m=g.b(this,function(){m.destroy(),Object(a.a)().close()},".editor-hyperlink")},e}(o.a);e.a=f},2250:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(2251),a=function(t){function e(){var e=t.call(this)||this,n=new r.a;return e.item=n,n.setTooltip("Add tag"),e}return Object(i.d)(e,t),e.prototype.updateItem=function(t){this.item.update(t)},e.prototype.hideItem=function(){this.item.clear()},e}(o.a);e.a=a},2251:function(t,e,n){"use strict";var i=n(21),o=n(130),r=n(109),a=n(22),s=function(t){function e(){var e=t.call(this,"cmih-tag")||this;return e.preventDefaultAttr=!1,e.localController=e.controller=new c(e),e.init(),e}return Object(i.d)(e,t),e.prototype.select=function(){a.mySelection.forceStopCurrentAction(!1),this.localController.menuOpened(),t.prototype.select.call(this)},e.prototype.update=function(t){this.localController.update(t)},e.prototype.clear=function(){this.localController.clear()},e.prototype.getTooltipAttr=function(){var e=t.prototype.getTooltipAttr.call(this);return e+='tooltip-enable="{{'+this.getControllerName()+'.isTooltipEnable()}}"'},e.prototype.setChangeListener=function(t,e){this.localController.registerHandler("onTagsChangeListener",t,e)},e}(o.a);e.a=s;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onChangeWrapper=e.onChange.bind(e),e}return Object(i.d)(e,t),e.prototype.update=function(t){this.widgetTokens=this.getWidgetTokens(t),this.updateHandler&&this.updateHandler(this.widgetTokens)},e.prototype.clear=function(){this.clearHandler&&this.clearHandler()},e.prototype.menuOpened=function(){this.menuOpenedHandler&&this.menuOpenedHandler()},e.prototype.getWidgetTokens=function(t){return t?t.map(function(t){return t.tokenizer}):[]},e.prototype.onChange=function(){this.callHandler("onTagsChangeListener",[])},e}(r.a)},2252:function(t,e,n){"use strict";var i=n(21),o=n(406),r=n(51),a=n(75),s=n(313),c=function(t){function e(){var e=t.call(this)||this;return e.item.setShapeStyleChangeListener(e.onChange,e),e}return Object(i.d)(e,t),e.prototype.initItem=function(){return new s.a(!1)},e.prototype.setShapeStyle=function(t,e){this._widgets=t,this.onChange(e)},Object.defineProperty(e.prototype,"styleNames",{get:function(){return[r.a.SHAPE_STYLE]},enumerable:!0,configurable:!0}),e.prototype.setStyle=function(t){this.item.setShapeStyle(t)},e.prototype.onChange=function(e){t.prototype.onChange.call(this,e),a.a.onShapeBackgroundStyleChanged(this._widgets,e)},e.prototype.updateItemProperties=function(t){t.onChange&&this.item.setShapeStyleChangeListener(t.onChange,this)},e}(o.a);e.a=c},2253:function(t,e,n){"use strict";var i=n(21),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.doNotDeleteMe=!0,e}return Object(i.d)(e,t),e}(n(1583).a);e.a=o},2254:function(t,e,n){"use strict";var i=n(21),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.doNotDeleteMe=!0,e}return Object(i.d)(e,t),e}(n(1570).a);e.a=o},2255:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(207),a=n(22),s=n(166),c=function(t){function e(){var e=t.call(this)||this;return e.item=new r.a("cmhi-refresh"),e.item.setSVGIcon(n(1520)),e.item.setClickHandler(e.onClick,e,!1),e.item.setTooltip("Update"),e}return Object(i.d)(e,t),e.prototype.onClick=function(){var t=a.mySelection.singleSelection;t&&t.update()},e=Object(i.c)([Object(s.a)({showRegardlessCapability:{editable:{}}})],e)}(o.a);e.a=c},2256:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(232),a=n(22),s=n(26),c=n(39),l=n(33),u=n(35),h=n(52),p=n(166),d=function(t){function e(){var e=t.call(this)||this;return e.item=new r.a("Add to Saved files","cm-icon-add"),e.item.setClickHandler(e.onClick,e,!0),e}return Object(i.d)(e,t),e.prototype.canSaveResource=function(){return Object(l.g)(Object(c.a)().currentBoard.boardInfo.account)},e.prototype.onClick=function(){if(this.canSaveResource()){var t=a.mySelection.singleSelection;t&&(t.resourceController.addToLibrary(),s.P())}else Object(u.a)().show({text:"This tool is unavailable on this board ",actionText:"Learn more",actionCallback:function(){h.k("https://help.miro.com/hc/en-us/articles/360017731013-Uploading-Files-to-Boards").openInNewTab()}})},e.prototype.updateItem=function(t){this.item.active=this.canSaveResource()},e=Object(i.c)([Object(p.a)({showRegardlessCapability:{editable:{}}})],e)}(o.a);e.a=d},2257:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(22),a=n(207),s=n(166),c=function(t){function e(){var e=t.call(this)||this;return e.item=new a.a("cmhi-launch"),e.item.setSVGIcon(n(950)),e.item.setClickHandler(e.onClick,e,!1),e.item.setTooltip("Source"),e}return Object(i.d)(e,t),e.prototype.updateItem=function(t){},e.prototype.onClick=function(){var t=r.mySelection.singleSelection;t&&t.resourceController.edit()},e=Object(i.c)([Object(s.a)({showRegardlessCapability:{editable:{}}})],e)}(o.a);e.a=c},2258:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(232),a=n(22),s=n(204),c=function(t){function e(){var e=t.call(this)||this;return e.item=new r.a("Rename"),e.item.setClickHandler(e.onClick,e,!0),e}return Object(i.d)(e,t),e.prototype.onClick=function(){var t=this,e=a.mySelection.singleSelection;(Object(s.g)(e)||Object(s.p)(e)||Object(s.l)(e))&&(e.startEditTitle(),setTimeout(function(){t.updateProperties()}))},e.prototype.getItem=function(){return new r.a("Rename","cm-icon-edit")},e}(o.a);e.a=c},2259:function(t,e,n){"use strict";var i=n(21),o=n(26),r=n(51),a=n(22),s=n(272),c=n(5222),l=n(542),u=n(2279),h=n(702),p=function(t){function e(){var e=t.call(this)||this;return e.item.setFrameFormatChangedListener(e.onChange,e),e}return Object(i.d)(e,t),e.prototype.initItem=function(){return new c.a},e.prototype.onChange=function(t){var e=this._widgets[0],n=h.a(t),i=a.styleController.injectStyleChange(this.createStyleObject(t),e.getStyle());i&&(i[r.a.FRAME_ORIENTATION]=n,o.Fb(s.a[t].toLowerCase()),this.applyStyle(e,i,l.h(t,e.width,e.height,n)))},Object.defineProperty(e.prototype,"styleNames",{get:function(){return[r.a.FRAME_FORMAT]},enumerable:!0,configurable:!0}),e.prototype.setStyle=function(t){this.item.setFrameFormat(t)},e.prototype.updateItemProperties=function(t){t.onChange&&this.item.setFrameFormatChangedListener(t.onChange,this)},e}(u.a);e.a=p},2260:function(t,e){t.exports="#newlayout__adobe-cc-48"},2261:function(t,e){t.exports="#newlayout__box-48"},2262:function(t,e){t.exports="#newlayout__cm-icon-frame-16x9"},2263:function(t,e){t.exports="#newlayout__cm-icon-frame-1x1"},2264:function(t,e){t.exports="#newlayout__cm-icon-frame-4x3"},2265:function(t,e){t.exports="#newlayout__cm-icon-frame-a4"},2266:function(t,e){t.exports="#newlayout__cm-icon-frame-android-phone"},2267:function(t,e){t.exports="#newlayout__cm-icon-frame-android-tablet"},2268:function(t,e){t.exports="#newlayout__cm-icon-frame-custom"},2269:function(t,e){t.exports="#newlayout__cm-icon-frame-ipad"},2270:function(t,e){t.exports="#newlayout__cm-icon-frame-iphone"},2271:function(t,e){t.exports="#newlayout__cm-icon-frame-web"},2272:function(t,e){t.exports="#newlayout__due-date"},2273:function(t,e){t.exports="#newlayout__expand-card"},2274:function(t,e){t.exports="#newlayout__folder-48"},2275:function(t,e){t.exports="#newlayout__from-disk"},2276:function(t,e){t.exports="#newlayout__from-extension-48"},2277:function(t,e){t.exports="#newlayout__onedrive-48"},2278:function(t,e){t.exports="#newlayout__upload-via-url-48"},2279:function(t,e,n){"use strict";var i=n(21),o=n(22),r=n(143),a=n(406),s=n(542),c=n(408),l=n(83),u=n(280),h=r.b(),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.applyStyle=function(t,e,n){var i,r=h(),a=s.g(t.size,t.position,n),p=t.isEditMode();p||(i=t.getData()),t.setStyle(e,!0),o.mySelection.updateProperties(),t.setSize(n.width,n.height),t.setPosition(a.x,a.y);var d=l.d(t.asContainer.children,c.f(t));if(d.unique1.length){var g={childrenRemove:u.b.fromObjects(d.unique1)};t.setJsonData(g)}p||(o.canvasHistory.addStep(r,[t.tokenizer],i,t.getData()),r.update(!0,!0,t))},e}(a.a);e.a=p},2280:function(t,e,n){"use strict";var i=n(21),o=n(5227),r=n(1551),a=n(437),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.getPropertyValue=function(){return a.a.HEAP_GRID},e.prototype.getItemClass=function(){return o.a},e}(r.a);e.a=s},2281:function(t,e,n){"use strict";var i=n(21),o=function(t){function e(){var e=t.call(this)||this;return e.item.setTooltip("Line end"),e}return Object(i.d)(e,t),Object.defineProperty(e.prototype,"isEnd",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"propName",{get:function(){return"a_end"},enumerable:!0,configurable:!0}),e}(n(1564).a);e.a=o},2282:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(207),a=n(22),s=n(51),c=n(166),l=function(t){function e(){var e=t.call(this)||this;return e.item=new r.a("cm-link-invert"),e.item.setSVGIcon(n(1541)),e.item.setClickHandler(e.onClick,e,!1),e}return Object(i.d)(e,t),e.prototype.updateItem=function(){a.mySelection.singleSelection?this.item.disabled=!1:this.item.disabled=!0},e.prototype.onClick=function(){var t,e=this._widgets[0].getStyle(),n=((t={a_start:e.a_end,a_end:e.a_start})[s.a.VERSION]=2,t);a.styleController.changeStyle(this._widgets,n,!0),this.updateProperties()},e=Object(i.c)([Object(c.a)({showRegardlessCapability:{editable:{}}})],e)}(o.a);e.a=l},2283:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(2284),a=n(37),s=function(t){function e(){var e=t.call(this)||this;return e.item=new r.a(""),e}return Object(i.d)(e,t),e.prototype.updateItem=function(t){if(1==t.length){var e=t[0],n=e.widgetType===a.a.JIRACARD?e.state:e.as("jiraCard").state;n.length>0?this.item.setState(n):this.item.setState("")}},e}(o.a);e.a=s},2284:function(t,e,n){"use strict";var i=n(21),o=n(130),r=n(109),a=function(t){function e(e){var n=t.call(this,"cmih-jira-card-state")||this;return n.localController=n.controller=new s(n),n.setState(e),n.init(),n}return Object(i.d)(e,t),e.prototype.setState=function(t){void 0===t&&(t=""),this.localController.state=t},e}(o.a);e.a=a;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state="",e}return Object(i.d)(e,t),e.prototype.getState=function(){return this.state},e}(r.a)},2285:function(t,e,n){"use strict";(function(t){var i=n(21),o=n(66),r=n(5240),a=n(206),s=n(911),c=n(55),l=n(35),u=n(230),h=n(37),p=n(22),d=n(53),g=n(104),f=n(513),m=[h.a.CARD,h.a.STICKER],y=function(e){function n(){var t=e.call(this)||this;return t.item=new r.a,t.item.setClickHandler(t.onClick,t,!1),t.item.setTooltip("Convert to Jira Issue"),t}return Object(i.d)(n,e),n.prototype.updateItem=function(t){this.item.visible=Object(a.b)().isReady&&Object(a.b)().isCreateIssueAvailable},n.prototype.closeEditMode=function(t){t.forEach(function(t){t.isEditMode()&&t.setEditMode(!1)})},n.prototype.onClick=function(){return Object(i.b)(this,void 0,Promise,function(){var e,n,o,r;return Object(i.e)(this,function(i){switch(i.label){case 0:return Object(a.b)().isReady?0!==(e=p.mySelection.selection).length&&m.includes(e[0].widgetType)?(n="Convert to JIRA Issue",[4,Object(g.a)(function(){return Object(f.a)()})]):(t.log("covert","[ConvertToJiraCardItemDef] onClick","unsupported widget type"),[2]):[3,2];case 1:return o=i.sent(),r=o.showJiraCardsIssueActionModal({title:n,convert:!0}),this.closeEditMode(e),Object(c.a)().lock(e),r.canceled.addOnce(function(){return Object(c.a)().unlock()}),r.submitted.addOnce(function(t){var e=!1,n=Object(u.a)().currentGroup,i=Object(l.a)().show({text:"Please wait\u2026"});Object(s.a)().convertAsync(t.resWidgets,h.a.JIRACARD,t.payload).then(function(o){p.mySelection.clearSelection(),o.forEach(function(t){n&&!e&&t.group&&(e=!0,Object(u.a)().currentGroup=t.group)}),p.mySelection.addToSelection(o),Object(l.a)().hide(i),t.resWidgets.length>o.length&&Object(l.a)().show(o.length+" out of "+t.resWidgets.length+" widgets converted")}).catch(function(t){ErrorsTracker.debug("ConvertToJiraCardItemDef.onClick",t),Object(l.a)().showError(t)}).then(function(){Object(c.a)().unlock(),setTimeout(function(){return p.mySelection.updateProperties()})})}),r.canceled.addOnce(function(){return Object(c.a)().unlock()}),[3,3];case 2:Object(g.a)(function(){return Object(f.a)()}).then(function(t){return t.showJiraCardsUnavailableModal()}),i.label=3;case 3:return[2]}})})},Object(i.c)([Object(d.a)("ConvertToJiraCardItemDef.onClick",!1)],n.prototype,"onClick",null),n}(o.a);e.a=y}).call(this,n(29))},2286:function(t,e,n){"use strict";var i=n(21),o=n(174),r=n(57),a=n(949),s=n(68),c=n(55),l=n(75),u=n(313),h=function(t){function e(){var e=t.call(this)||this;return e.editorFormatName=o.a.BACKGROUND,e.item.setIcon("text-bg"),e.item.setTooltip("highlight text"),e}return Object(i.d)(e,t),e.prototype.initItem=function(){return new u.a(this.canEditPalette,this.directiveName)},Object.defineProperty(e.prototype,"canEditPalette",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"directiveName",{get:function(){return"cmih-color"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colors",{get:function(){return s.r(!0)},enumerable:!0,configurable:!0}),e.prototype.onChange=function(t,e,n){var i=this,o=this._widgets;Object(c.a)().applyChanges(o,function(){e&&o.forEach(function(t){return t.savePrevData()}),o.forEach(function(e){e.setFormat(i.editorFormatName,Object(r.k)(t),!1)}),e&&o.forEach(function(t){return t.save()})}),e&&l.a.onFontHighlightChanged(o,t),e&&!n&&this.item.hideSubmenu()},e.prototype.updateItem=function(e){t.prototype.updateItem.call(this,e),this.updateCurrentColor()},e.prototype.updateCurrentColor=function(){1===this._widgets.length?(this._widgets[0].textSelectionChanged.add(this.onSelectionChanged,this),this.onSelectionChanged()):this.item.setColor(s.x)},e.prototype.onSelectionChanged=function(){if(this._widgets&&this._widgets.length){var t=this._widgets[0].getFormat();t[this.editorFormatName]&&this.item.setColor(t[this.editorFormatName])}},e.prototype.hideItem=function(){t.prototype.hideItem.call(this),this._widgets&&1===this._widgets.length&&this._widgets[0].textSelectionChanged.remove(this.onSelectionChanged)},e}(a.a);e.a=h},2287:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(2284),a=function(t){function e(){var e=t.call(this)||this;return e.item=new r.a(""),e}return Object(i.d)(e,t),e.prototype.updateItem=function(t){if(1==t.length){var e=t[0];e.state.length>0?this.item.setState(e.state):this.item.setState("")}},e}(o.a);e.a=a},2288:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(232),a=n(22),s=n(595),c=function(t){function e(){var e=t.call(this)||this;return e.item=new r.a("Copy style",void 0,"%ctrlOrCmd%  + Alt + C"),e.item.setClickHandler(e.onClick,e,!0),e}return Object(i.d)(e,t),e.prototype.onClick=function(){var t=a.mySelection.singleSelection;Object(s.a)().copy(t)},e}(o.a);e.a=c},2289:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(232),a=n(595),s=function(t){function e(){var e=t.call(this)||this;return e.item=new r.a("Paste style",void 0,"%ctrlOrCmd%  + Alt + V"),e.item.disabled=!Object(a.a)().haveCopiedStyle(),e.item.setClickHandler(e.onClick,e,!0),e}return Object(i.d)(e,t),e.prototype.onClick=function(){var t=this._widgets;Object(a.a)().paste(t),this.updateProperties()},e.prototype.updateItem=function(){this.item.disabled=!Object(a.a)().haveCopiedStyle()},e}(o.a);e.a=s},2290:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(75),a=n(362),s=n(22),c=n(166),l=n(2291),u=n(5242),h=function(t){function e(){var e=t.call(this)||this;return e.item=new a.a(n(2291),40,void 0,{width:"32px",height:"32px"}),e.item.setTooltip("text position"),e.item.setClickHandler(e.onClick,e),e}return Object(i.d)(e,t),e.prototype.onClick=function(){this.stopCaptionsEdit();var t=this.getWidget();if(t){var e=!t.captionLayer.rotatable;this._widgets.forEach(function(t){return t.captionLayer.rotatable=e}),this.updateIcon(e),s.lineWidgetController.setLastCaptionStyle({rotated:e}),r.a.lineCaptionChanged(this._widgets[0],{rotated:e})}},e.prototype.stopCaptionsEdit=function(){var t=this.getWidget();t&&t.captionLayer.forEachCaption(function(t){t.stopEdit()})},e.prototype.getWidget=function(){return this._widgets&&this._widgets[0]},e.prototype.updateItem=function(t){if(t){var e=t[0].captionLayer.rotatable;this.updateIcon(e)}},e.prototype.updateIcon=function(t){this.item.setIcon(t?l:u)},e=Object(i.c)([Object(c.a)({showRegardlessCapability:{editable:{}}})],e)}(o.a);e.a=h},2291:function(t,e){t.exports="#img__cm-caption-along"},2292:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(75),a=n(362),s=n(166),c=function(t){function e(){var e=t.call(this)||this;return e.item=new a.a(n(5243),40,void 0,{width:"32px",height:"32px"}),e.item.setClickHandler(e.onClick,e),e.item.setTooltip("text"),e}return Object(i.d)(e,t),e.prototype.onClick=function(){var t=this._widgets[0];t.captionLayer.addCaptionToFreeSpace(),r.a.lineCaptionAdded(t,t.captionLayer.captionsCount,"from_menu")},e=Object(i.c)([Object(s.a)({showRegardlessCapability:{editable:{}}})],e)}(o.a);e.a=c},2293:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={parseNegative:!1,parseUnbounded:!1},i=function(){function t(e,i){function o(t){return"[object Array]"===Object.prototype.toString.call(t)}if(void 0===i&&(i=n),this.ranges=[],this.options={parseNegative:!!i.parseNegative,parseUnbounded:!!i.parseUnbounded},"string"===typeof e)this.parseString(e);else if("number"===typeof e)this.appendRange(e,e);else if(e instanceof t)this.ranges=e.getRanges(),void 0===arguments[1]&&(this.options={parseNegative:e.options.parseNegative,parseUnbounded:e.options.parseUnbounded});else if(o(e))for(var r=0,a=e;r<a.length;r++){var s=a[r];if(o(s)){if(2!==s.length)throw new TypeError("Invalid array initializer");this.appendRange(s[0],s[1])}else{if("number"!==typeof s)throw new TypeError("Invalid array initialzer");this.append(s)}}else if(void 0!==e)throw new TypeError("Invalid input")}return t.prototype.parseString=function(t){function e(t){var e=t.match(/^\(?(\-?\d+)/);return parseInt(e[1],10)}var n=t.replace(/\s/g,"");if(n.length)for(var i,o=this.options.parseNegative?"(\\d+|\\(\\-?\\d+\\))":"(\\d+)",r=new RegExp("^"+o+"$"),a=new RegExp("^"+o+"?\\-"+o+"?$"),s=0,c=n.split(",");s<c.length;s++){var l=c[s];if(i=l.match(r)){var u=e(i[1]);this.appendRange(u,u)}else{if(!(i=l.match(a)))throw new SyntaxError("Invalid input");if(!this.options.parseUnbounded&&(void 0===i[1]||void 0===i[2]))throw new SyntaxError("Unexpected unbouded range notation");var h=void 0===i[1]?-1/0:e(i[1]),p=void 0===i[2]?1/0:e(i[2]);this.appendRange(h,p)}}},t.prototype.clone=function(){return new t(this)},t.prototype.append=function(e){if(void 0===e)throw new TypeError("Invalid input");if(e instanceof t){for(var n=0,i=e.ranges;n<i.length;n++){var o=i[n];this.appendRange(o[0],o[1])}return this}return this.append(new t(e,this.options))},t.prototype.appendRange=function(t,e){var n=[t,e];if(n[0]>n[1]&&(n=[n[1],n[0]]),n[0]===1/0&&n[1]===1/0||n[0]===-1/0&&n[1]===-1/0)throw new RangeError("Infinity can be used only within an unbounded range segment");var i=this.findOverlap(n);return this.ranges.splice(i.lo,i.count,i.union),this},t.prototype.subtract=function(e){if(void 0===e)throw new TypeError("Invalid input");if(e instanceof t){for(var n=0,i=e.ranges;n<i.length;n++){var o=i[n];this.subtractRange(o[0],o[1])}return this}return this.subtract(new t(e,this.options))},t.prototype.subtractRange=function(t,e){var n=[t,e];n[0]>n[1]&&(n=[n[1],n[0]]);var i=this.findOverlap(n);if(i.count>0){var o=[];this.ranges[i.lo][0]<n[0]&&o.push([this.ranges[i.lo][0],n[0]-1]),n[1]<this.ranges[i.lo+i.count-1][1]&&o.push([n[1]+1,this.ranges[i.lo+i.count-1][1]]),this.ranges.splice.apply(this.ranges,[i.lo,i.count].concat(o))}return this},t.prototype.intersect=function(e){if(void 0===e)throw new TypeError("Invalid input");if(e instanceof t){for(var n=[],i=0,o=0;o<this.ranges.length;o++)for(var r=this.ranges[o],a=i;a<e.ranges.length;a++){var s=e.ranges[a];if(r[0]<=s[1]&&r[1]>=s[0]){i=a;var c=Math.max(r[0],s[0]),l=Math.min(r[1],s[1]);n.push([c,l])}else if(r[1]<s[0])break}return this.ranges=n,this}return this.intersect(new t(e,this.options))},t.prototype.findOverlap=function(t){for(var e=this.ranges.length-1;e>=0;e--){var n=this.ranges[e],i=void 0;if(i=this.calcUnion(n,t)){for(var o=1,r=void 0;e-o>=0&&(r=this.calcUnion(i,this.ranges[e-o]));)i=r,o++;return{lo:e+1-o,count:o,union:i}}if(n[1]<t[0])return{lo:e+1,count:0,union:t}}return{lo:0,count:0,union:t}},t.prototype.calcUnion=function(t,e){return t[1]+1<e[0]||t[0]-1>e[1]?null:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]},t.prototype.getRanges=function(){for(var t=[],e=0,n=this.ranges;e<n.length;e++){var i=n[e];t.push([i[0],i[1]])}return t},t.prototype.has=function(e){if(void 0===e)throw new TypeError("Invalid input");if(e instanceof t){for(var n=this.ranges.length,i=0,o=e.ranges;i<o.length;i++){var r=o[i],a=void 0;for(a=0;a<n;a++){var s=this.ranges[a];if(r[0]>=s[0]&&r[1]<=s[1]&&r[1]>=s[0]&&r[1]<=s[1])break}if(a===n)return!1}return!0}return this.has(new t(e,this.options))},t.prototype.hasRange=function(e,n){return this.has(new t([[e,n]]))},t.prototype.segmentLength=function(){return this.ranges.length},t.prototype.length=function(){if(this.isUnbounded())return 1/0;for(var t=0,e=0,n=this.ranges;e<n.length;e++){var i=n[e];t+=i[1]-i[0]+1}return t},t.prototype.equals=function(e){if(void 0===e)throw new TypeError("Invalid input");if(e instanceof t){if(e===this)return!0;if(this.ranges.length!==e.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++)if(this.ranges[n][0]!==e.ranges[n][0]||this.ranges[n][1]!==e.ranges[n][1])return!1;return!0}return this.equals(new t(e,this.options))},t.prototype.isUnbounded=function(){return this.ranges.length>0&&(this.ranges[0][0]===-1/0||this.ranges[this.ranges.length-1][1]===1/0)},t.prototype.min=function(){if(0!==this.ranges.length)return this.ranges[0][0]},t.prototype.max=function(){if(0!==this.ranges.length)return this.ranges[this.ranges.length-1][1]},t.prototype.shift=function(){var t=this.min();if(t===-1/0)throw new RangeError("shift() was invoked on an unbounded MultiRange which contains -Infinity");return void 0!==t&&this.subtract(t),t},t.prototype.pop=function(){var t=this.max();if(t===1/0)throw new RangeError("pop() was invoked on an unbounded MultiRange which contains +Infinity");return void 0!==t&&this.subtract(t),t},t.prototype.toString=function(){function t(t){return t>=0?String(t):"("+t+")"}for(var e=[],n=0,i=this.ranges;n<i.length;n++){var o=i[n];o[0]===-1/0?o[1]===1/0?e.push("-"):e.push("-"+t(o[1])):o[1]===1/0?e.push(t(o[0])+"-"):o[0]==o[1]?e.push(t(o[0])):e.push(t(o[0])+"-"+t(o[1]))}return e.join(",")},t.prototype.toArray=function(){if(this.isUnbounded())throw new RangeError("You cannot build an array from an unbounded range");for(var t=new Array(this.length()),e=0,n=0,i=this.ranges;n<i.length;n++)for(var o=i[n],r=o[0];r<=o[1];r++)t[e++]=r;return t},t.prototype.getIterator=function(){var t=this;if(this.isUnbounded())throw new RangeError("Unbounded ranges cannot be iterated over");var e=0,n=this.ranges[e],i=n?n[0]:void 0;return{next:function(){if(!n||void 0===i)return{done:!0};var o=i;return++i>n[1]&&(n=t.ranges[++e],i=n?n[0]:void 0),{value:o}}}},t}();e.MultiRange=i,e.default=i,"function"===typeof Symbol&&"iterator"in Symbol&&(i.prototype[Symbol.iterator]=i.prototype.getIterator),e.multirange=function(t,e){return new i(t,e)}},2294:function(t,e,n){"use strict";(function(t){var i=n(34),o=n(50),r=n(137),a=function(){function e(t,e,n){void 0===n&&(n=function(){return!0}),this.tipName=t,this.achievementName=e,this.checker=n}return e.prototype.show=function(t){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){if(e.check(t)){var n=document.activeElement;Object(r.d)().then(function(t){t.runTip(e.tipName,!0,function(){n&&n.focus&&Object(o.k)(n,"ql-editor")&&n.focus()},function(){Object(i.a)().achievements.open(e.achievementName)})})}else clearTimeout(e.timeout)},50)},e.prototype.check=function(e){return e&&!t.mobileApp&&!Object(i.a)().achievements.isOpened(this.achievementName)&&this.checker()},e}();e.a=a}).call(this,n(0))},2295:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(2243),a=function(t){function e(){var e=t.call(this)||this;return e.item=new r.a(""),e.item.setWidth(26),e.item.setStyle({width:"26px","text-align":"center","font-weight":"600"}),e.item.setReadonly(!0),e}return Object(i.d)(e,t),e.prototype.updateItem=function(){var t=this._widgets[0].getStartPage()||1;this.item.setName(t.toString())},e}(o.a);e.a=a},2296:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(232),a=n(719).b(),s=function(t){function e(){var e=t.call(this)||this;return e.item=new r.a(e.linkToLabelText(),"","%ctrlOrCmd% + K"),e.item.setClickHandler(e.onClick,e,!1),e}return Object(i.d)(e,t),e.prototype.setWidgets=function(e){t.prototype.setWidgets.call(this,e),this.item.setLabel(this.linkToLabelText())},e.prototype.onClick=function(){var t=this.getWidget();t&&a().assignLink(t),this.updateProperties()},e.prototype.linkToLabelText=function(){var t=this.getWidget();return t&&t.assignLink?"Edit link":"Link to"},e.prototype.getWidget=function(){return(this._widgets||[])[0]},e}(o.a);e.a=s},2297:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(207),a=n(22),s=function(t){function e(){var e=t.call(this)||this;return e.item=new r.a("cm-group"),e.item.setSVGIcon(n(1538)),e.item.setClickHandler(e.onClick,e,!1),e.item.setTooltip("Group objects","%@%+G"),e}return Object(i.d)(e,t),e.prototype.onClick=function(t){a.selectionActions.group()},e}(o.a);e.a=s},2298:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(207),a=n(22),s=function(t){function e(){var e=t.call(this)||this;return e.item=new r.a("cm-ungroup"),e.item.setSVGIcon(n(1547)),e.item.setClickHandler(e.onClick,e,!1),e.item.setTooltip("Ungroup objects","%@%+Shift+G"),e}return Object(i.d)(e,t),e.prototype.onClick=function(t){a.selectionActions.ungroup()},e}(o.a);e.a=s},2299:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(207),a=function(t){function e(){var e=t.call(this)||this;return e.item=new r.a("cmih-plugin"),e}return Object(i.d)(e,t),e.prototype.updateItemProperties=function(t){t&&t.svgIcon&&this.item.setSVGIcon(t.svgIcon)},e}(o.a);e.a=a},2300:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(22),a=function(t){function e(){var e=t.call(this)||this;return e.item=e.initItem(),e.item.setClickHandler(e.onClick,e,!1),e.item.setTooltip("Duplicate"),e}return Object(i.d)(e,t),e.prototype.onClick=function(t){r.mySelection.forceStopCurrentAction(!1),r.selectionActions.duplicate()},e}(o.a);e.a=a},2301:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(22),a=n(53),s=n(75),c=n(242),l=function(t){function e(){var e=t.call(this)||this;return e.item=e.initItem(),e.item.setClickHandler(e.onClick,e,!1),e.item.setTooltip("Delete"),e}return Object(i.d)(e,t),e.prototype.onClick=function(t){var e=r.mySelection.selectionTokenizers.slice(0);c.a.debugPresenceControllerModelUpdate("DeleteItemDef.onClick (step 1)",e),s.a.onWidgetsRemovedByUser(e.length,"DeleteItemDef.onClick"),r.mySelection.clearSelection(),c.a.debugPresenceControllerModelUpdate("DeleteItemDef.onClick (step 2)",e),r.presenceController.removeObjects(e,!0,!0)},Object(i.c)([Object(a.a)("DeleteItemDef.onClick",!1)],e.prototype,"onClick",null),e}(o.a);e.a=l},2302:function(t,e,n){"use strict";var i=n(21),o=n(27),r=n.n(o),a=n(66),s=n(438),c=n(22),l=s.b(),u=function(t){function e(){var e=t.call(this)||this;return e.item=e.initItem(),e.item.setClickHandler(e.onClick,e,!1),e.item.setTooltip("More"),e}return Object(i.d)(e,t),e.prototype.onClick=function(t){setTimeout(function(){if(l().isVisible)l().hide();else{var t=c.mySelection.singleSelection||null;l().show(t,!0,e.SIZE)}})},e.SIZE=new r.a.Rectangle(0,0,50,50),e}(a.a);e.a=u},2303:function(t,e,n){"use strict";var i=n(21),o=function(t){function e(){var e=t.call(this)||this;return e.item=e.initItem(),e}return Object(i.d)(e,t),e}(n(66).a);e.a=o},2304:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(22),a=function(t){function e(){var e=t.call(this)||this;return e.item=e.initItem(),e.item.setClickHandler(e.onClick,e,!0),e.item.setTooltip("unlock"),e}return Object(i.d)(e,t),e.prototype.onClick=function(){r.selectionActions.unlock()},e}(o.a);e.a=a},2305:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(22),a=n(298),s=n(166),c=a.c(),l=function(t){function e(){var e=t.call(this)||this;return e.item=e.initItem(),e.item.setClickHandler(e.onClick,e,!1),e.item.setTooltip("Source"),e}return Object(i.d)(e,t),e.prototype.onClick=function(){var t=r.mySelection.singleSelection;t.externalUrl&&c().open({url:t.externalUrl(),skipCheckingForLocalCommands:!0})},e=Object(i.c)([Object(s.a)({showRegardlessCapability:{editable:{}}})],e)}(o.a);e.a=l},2306:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(83),a=n(22),s=n(107),c=n(125),l=n(75),u=function(t){function e(){var e=t.call(this)||this;return e.item=e.initItem(),e.item.setTooltip("Sticker size"),e.item.setStickerSizeChangeListener(e.onChange,e),e}return Object(i.d)(e,t),e.prototype.updateSize=function(){this._widgets&&this._widgets[0]&&this.item.setStickerSize(this._widgets[0].geometry.scale)},e.prototype.updateItem=function(t){var e=r.e(t,function(t){return t.geometry.scale});t.length>0&&this._widgets[0].geometryChanged.add(this.updateSize,this),this.item.setStickerSize(e)},e.prototype.onChange=function(t){if(this._widgets&&this._widgets.length){var e=new s.a(void 0,void 0,new c.a(t)),n=this._widgets[0];n.isEditMode()?n.setTransformation(e):a.transformationController.transform(this._widgets,new Array(this._widgets.length).fill(e)),a.stickerWidgetController.copyLastEditedStyle(n),this.updateProperties(),l.a.onStickerSizeChanged(this._widgets,t)}},e.prototype.updateItemProperties=function(t){t.onChange&&this.item.setStickerSizeChangeListener(t.onChange,this)},e}(o.a);e.a=u},2307:function(t,e,n){"use strict";var i=n(21),o=n(406),r=n(51),a=n(75),s=function(t){function e(){var e=t.call(this)||this;return e.item.setAlignChangedListener(e.onChange,e),e}return Object(i.d)(e,t),e.prototype.updateItem=function(e){t.prototype.updateItem.call(this,e),1==e.length&&e[0].isEditMode()&&this.item.setEditMode(!0)},Object.defineProperty(e.prototype,"styleNames",{get:function(){return[r.a.TEXT_ALIGN]},enumerable:!0,configurable:!0}),e.prototype.setStyle=function(t){this.item.setAlign(t)},e.prototype.onChange=function(e){t.prototype.onChange.call(this,e,!0),a.a.onFontAlignChanged(this._widgets,e)},e}(o.a);e.a=s},2308:function(t,e,n){"use strict";var i=n(21),o=n(957),r=n(75),a=n(22),s=n(37),c=n(166),l=function(t){function e(){var e=t.call(this)||this;return e.item.setSizes([10,12,14,18,24,36,48,64]),e.item.setMaxSize(288),e}return Object(i.d)(e,t),e.prototype.updateItem=function(t){if(t){var e=t[0].captionLayer.fontSize;this.setStyle(e)}},e.prototype.getAvailableWidgets=function(){return[s.a.LINE]},e.prototype.onChange=function(t){this._widgets[0].captionLayer.fontSize=t,this.updateProperties(),a.lineWidgetController.setLastCaptionStyle({fontSize:t}),r.a.lineCaptionChanged(this._widgets[0],{fontSize:t})},e=Object(i.c)([Object(c.a)({showRegardlessCapability:{editable:{}}})],e)}(o.a);e.a=l},2309:function(t,e,n){"use strict";var i=n(21),o=n(406),r=n(83),a=n(22),s=n(51),c=n(75),l=function(t){function e(){var e=t.call(this)||this;return e.item.setValignVisible(!0),e.item.setAlignChangedListener(e.onAlignChange,e),e.item.setValignChangedListener(e.onValignChange,e),e}return Object(i.d)(e,t),Object.defineProperty(e.prototype,"styleNames",{get:function(){return[s.a.TEXT_ALIGN,s.a.TEXT_ALIGN_VERTICAL]},enumerable:!0,configurable:!0}),e.prototype.updateItem=function(t){var e=this;if(t){var n=r.e(t,function(t){var n=e.getWidgetStyle(t);return e.getStyleValue(n)});this.item.setAlign(n);var i=r.e(t,function(t){var n=e.getWidgetStyle(t);return n&&n[s.a.TEXT_ALIGN_VERTICAL]});this.item.setValign(i)}},e.prototype.onAlignChange=function(t){var e;c.a.onFontAlignChanged(this._widgets,t),a.styleController.changeStyle(this._widgets,((e={})[s.a.TEXT_ALIGN]=t,e)),this.updateProperties()},e.prototype.onValignChange=function(t){var e;c.a.onFontAlignChanged(this._widgets,t),a.styleController.changeStyle(this._widgets,((e={})[s.a.TEXT_ALIGN_VERTICAL]=t,e)),this.updateProperties()},e.prototype.updateItemProperties=function(t){t.onAlignChange&&this.item.setAlignChangedListener(t.onAlignChange,this),t.onValignChange&&this.item.setValignChangedListener(t.onValignChange,this)},e}(o.a);e.a=l},2310:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(574),a=n(22),s=function(t){function e(){var e=t.call(this)||this;return e.item=e.initItem(),e.item.setTextStylesChangeHandler(e.onChange,e),e}return Object(i.d)(e,t),e.prototype.onChange=function(t){Object(r.a)().setStyle(this._widgets,t),a.mySelection.updateProperties(!0)},e.prototype.updateItemProperties=function(t){t.onChange&&this.item.setTextStylesChangeHandler(t.onChange,this)},e}(o.a);e.a=s},2311:function(t,e,n){"use strict";var i=n(21),o=n(51),r=n(573),a=n(1552),s=n(641),c=n(22),l=n(68),u=n(26),h=n(75),p=n(80),d=n(150),g=function(t){function e(){var e=t.call(this)||this;return e.item.setIcon("border-panel"),e.item.setTooltip("Border style, opacity and color"),e.item.setColors(e.colors),e.item.setStrokeChangeListener(e.onStrokeChanged,e),e.item.setWidthChangeListener(e.onWidthChanged,e),e.item.setOpacityChangeListener(e.onOpacityChanged,e),e.item.setColorChangeListener(e.onColorChanged,e),l.c.add(function(){return e.item.setColors(e.colors)}),e}return Object(i.d)(e,t),Object.defineProperty(e.prototype,"colors",{get:function(){return l.r(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styleNames",{get:function(){return[o.a.BORDER_COLOR,o.a.BORDER_WIDTH,o.a.BORDER_OPACITY,o.a.BORDER_STYLE]},enumerable:!0,configurable:!0}),e.prototype.setItem=function(t,e){switch(t){case o.a.BORDER_COLOR:this.item.setColor(e);break;case o.a.BORDER_WIDTH:this.item.setWidth(e);break;case o.a.BORDER_OPACITY:this.item.setOpacity(e);break;case o.a.BORDER_STYLE:this.item.setStroke(e)}var n=this._widgets.reduce(function(t,e){if(e.type===p.a.SHAPE){var n=e;n.shapeType!==d.a.BRACE_LEFT&&n.shapeType!==d.a.BRACE_RIGHT||(t=!1)}return t},!0);this.item.setStrokeControlsVisibility(n)},e.prototype.onStrokeChanged=function(t){var e,n=this.createStyleObject(((e={})[o.a.BORDER_STYLE]=t,e)),i=this.isEditMode;c.styleController.changeStyle(this._widgets,n,!i),h.a.strokeTypeChanged(this._widgets,{strokeType:r.a[t]})},e.prototype.onWidthChanged=function(t,e){var n,i,r=this.createStyleObject(((n={})[o.a.BORDER_WIDTH]=t,n)),a=this.isEditMode;if(c.styleController.changeStyle(this._widgets,r,!1),!a&&e){var s=this.createStyleObject(((i={})[o.a.BORDER_WIDTH]=e,i));c.styleController.changeStyle(this._widgets,s,!1),c.styleController.changeStyle(this._widgets,r,!0),h.a.strokeWidthChanged(this._widgets,{strokeWidth:t})}},e.prototype.onOpacityChanged=function(t,e){var n,i,r=this.createStyleObject(((n={})[o.a.BORDER_OPACITY]=t,n)),a=this.isEditMode;if(c.styleController.changeStyle(this._widgets,r,!1),!a&&e){var s=this.createStyleObject(((i={})[o.a.BORDER_OPACITY]=e,i));c.styleController.changeStyle(this._widgets,s,!1),c.styleController.changeStyle(this._widgets,r,!0),h.a.strokeOpacityChanged(this._widgets,{strokeOpacity:t})}},e.prototype.onColorChanged=function(t,e,n){var i,r=this.createStyleObject(((i={})[o.a.BORDER_COLOR]=t,i));this.isEditMode?c.styleController.changeStyle(this._widgets,r,!1):s.a(this._widgets,r,e),e&&(u.sb({enabled:t!==l.x}),h.a.strokeColorChanged(this._widgets,{strokeColor:t}))},e.prototype.updateItemProperties=function(t){t.onColorChanged&&this.item.setColorChangeListener(t.onColorChanged,this),t.onOpacityChanged&&this.item.setOpacityChangeListener(t.onOpacityChanged,this),t.onStrokeChanged&&this.item.setStrokeChangeListener(t.onStrokeChanged,this),t.onWidthChanged&&this.item.setWidthChangeListener(t.onWidthChanged,this)},e}(a.a);e.a=g},2312:function(t,e,n){"use strict";var i=n(21),o=n(1552),r=n(75),a=n(51),s=n(22),c=n(641),l=n(68),u=n(26),h=function(t){function e(){var e=t.call(this)||this;return e.item.setIcon("text-panel-bg"),e.item.setTooltip("Fill and opacity color"),e.item.setColors(e.colors),e.item.setColorChangedListener(e.onColorChanged,e),e.item.setOpacityChangedListener(e.onOpacityChanged,e),l.c.add(function(){return e.item.setColors(e.colors)}),e}return Object(i.d)(e,t),Object.defineProperty(e.prototype,"colors",{get:function(){return l.r(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styleNames",{get:function(){return[a.a.BACKGROUND_COLOR,a.a.BACKGROUND_OPACITY]},enumerable:!0,configurable:!0}),e.prototype.getBackgroundStyle=function(t){var e;return this.createStyleObject(((e={})[a.a.BACKGROUND_COLOR]=t,e))},e.prototype.getOpacityStyle=function(t){var e;return this.createStyleObject(((e={})[a.a.BACKGROUND_OPACITY]=t,e))},e.prototype.onColorChanged=function(t,e,n){var i=this.getBackgroundStyle(t);this.isEditMode?s.styleController.changeStyle(this._widgets,i,!1):c.a(this._widgets,i,e),e&&(u.hb({enabled:t!==l.x}),r.a.onFontBackgroundChanged(this._widgets,t))},e.prototype.onOpacityChanged=function(t,e){var n=this.isEditMode,i=this.getOpacityStyle(t);if(s.styleController.changeStyle(this._widgets,i,!1),!n&&e){var o=this.getOpacityStyle(e);s.styleController.changeStyle(this._widgets,o,!1),s.styleController.changeStyle(this._widgets,i,!0)}},e.prototype.setItem=function(t,e){switch(t){case a.a.BACKGROUND_COLOR:this.item.setColor(e);break;case a.a.BACKGROUND_OPACITY:this.item.setOpacity(e)}},e.prototype.updateItemProperties=function(t){t.onChange&&this.item.setColorChangedListener(t.onChange,this),t.onOpacityChanged&&this.item.setOpacityChangedListener(this.onOpacityChanged,this)},e}(o.a);e.a=h},2313:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(75),a="list",s="indent",c=function(t){function e(){var e=t.call(this)||this;return e.item=e.initItem(),e.item.setListTypeChangeHandler(e.onChange,e),e.item.setIndentChangeHandler(e.onIndent,e),e}return Object(i.d)(e,t),e.prototype.onChange=function(t){this._widgets.forEach(function(e){var n=e.getFormat()[a];n=n===t?"":t,e.setFormat(a,n)}),this.updateProperties(),r.a.onListStyleChanged(this._widgets)},e.prototype.onIndent=function(t){var e=t?"+1":"-1";this._widgets.forEach(function(t){t.setFormat(s,e)}),this.updateProperties()},e.prototype.updateItemProperties=function(t){t.onChange&&this.item.setListTypeChangeHandler(t.onChange,this),t.onIndent&&this.item.setIndentChangeHandler(t.onIndent,this)},e}(o.a);e.a=c},2314:function(t,e,n){"use strict";var i=n(21),o=n(957),r=n(83),a=n(51),s=n(1580),c=n(22),l=n(75),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.setDefProperties=function(){this.item.setSizes(s.a),this.item.setSizeListener(this.onChange,this),this.item.setAutoSizeListener(this.onAutoSizeChange,this),this.item.setSizesListListener(this.onSizesOpen,this),this.item.setButtonListener(this.onButtonPress,this)},Object.defineProperty(e.prototype,"styleNames",{get:function(){return[a.a.FONT_SIZE,a.a.FONT_SIZE_AUTO]},enumerable:!0,configurable:!0}),e.prototype.updateItem=function(t){if(t){var e=r.e(t,function(t){return t.getStyle()[a.a.FONT_SIZE]}),n=r.e(t,function(t){return t.getStyle()[a.a.FONT_SIZE_AUTO]});this.item.setSize(e),this.item.setAuto(n),this.item.setMaxSize(this.calcMaxSize(this._widgets))}},e.prototype.updateWidget=function(t){this._widgets&&(c.stickerWidgetController.setFontSize(this._widgets,t),this.item.setMaxSize(this.calcMaxSize(this._widgets)),this.updateProperties())},e.prototype.onChange=function(t){var e;this.updateWidget(((e={})[a.a.FONT_SIZE]=t,e[a.a.FONT_SIZE_AUTO]=0,e)),l.a.onFontSizeChanged(this._widgets,t)},e.prototype.onSizesOpen=function(){this.item.setMaxSize(this.calcMaxSize(this._widgets))},e.prototype.onButtonPress=function(){this._widgets&&this._widgets[0].isEditMode()&&this.item.setMaxSize(this.calcMaxSize(this._widgets))},e.prototype.onAutoSizeChange=function(t){var e;this.updateWidget(((e={})[a.a.FONT_SIZE_AUTO]=t,e[a.a.FONT_SIZE]=0,e)),l.a.onFontSizeChanged(this._widgets,"auto")},e.prototype.calcMaxSize=function(t){var e=1/0;return t.forEach(function(t){var n=t.getMaximumFontSize&&t.getMaximumFontSize();n<e&&(e=n)}),e},e.prototype.updateItemProperties=function(t){t.onAutoSizeChange&&this.item.setAutoSizeListener(this.onAutoSizeChange,this),t.onSizesOpen&&this.item.setSizesListListener(this.onSizesOpen,this),t.onButtonPress&&this.item.setButtonListener(this.onButtonPress,this)},e}(o.a);e.a=u},2315:function(t,e,n){"use strict";var i=n(21),o=n(1592),r=n(75),a=n(22),s=n(166),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.updateItem=function(t){if(t&&t.length){var e=t[0].captionLayer.textColor;this.setStyle(e)}},e.prototype.onChange=function(t,e,n){this._widgets[0].captionLayer.textColor=t,this.updateProperties(),a.lineWidgetController.setLastCaptionStyle({color:t}),r.a.lineCaptionChanged(this._widgets[0],{color:t})},e=Object(i.c)([Object(s.a)({showRegardlessCapability:{editable:{}}})],e)}(o.a);e.a=c},2316:function(t,e,n){"use strict";var i=n(21),o=n(68),r=n(948),a=n(641),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),Object.defineProperty(e.prototype,"colors",{get:function(){return o.r(!1)},enumerable:!0,configurable:!0}),e.prototype.setColor=function(t,e){a.a(this._widgets,t,e)},e.prototype.onChange=function(e,n,i){i&&!n||t.prototype.onChange.call(this,e,n,i)},e}(r.a);e.a=s},2317:function(t,e,n){"use strict";var i=n(21),o=n(51),r=n(1552),a=n(641),s=n(22),c=n(68),l=n(848),u=n(75),h=n(166),p=function(t){function e(){var e=t.call(this)||this;return e.item.setIcon("text-panel-bg-custom-shapes"),e.item.setTooltip("Line style and color"),e.item.setColors(e.colors),e.item.setStrokeChangeListener(e.onStrokeChanged,e),e.item.setWidthChangeListener(e.onWidthChanged,e),e.item.setColorChangeListener(e.onColorChanged,e),c.c.add(function(){return e.item.setColors(e.colors)}),e}return Object(i.d)(e,t),Object.defineProperty(e.prototype,"colors",{get:function(){return c.r(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styleNames",{get:function(){return[o.a.LINE_COLOR,o.a.LINE_THICKNESS,o.a.LINE_STYLE]},enumerable:!0,configurable:!0}),e.prototype.setItem=function(t,e){switch(t){case o.a.LINE_COLOR:this.item.setColor(e);break;case o.a.LINE_THICKNESS:this.item.setWidth(e);break;case o.a.BORDER_OPACITY:this.item.setOpacity(e);break;case o.a.LINE_STYLE:this.item.setStroke(e)}},e.prototype.onStrokeChanged=function(t){var e,n=this.createStyleObject(((e={})[o.a.LINE_STYLE]=t,e)),i=this.isEditMode;s.styleController.changeStyle(this._widgets,n,!i),u.a.strokeTypeChanged(this._widgets,{strokeType:l.a[t]})},e.prototype.onWidthChanged=function(t,e){var n,i,r=this.createStyleObject(((n={})[o.a.LINE_THICKNESS]=t,n)),a=this.isEditMode;if(s.styleController.changeStyle(this._widgets,r,!1),!a&&e){var c=this.createStyleObject(((i={})[o.a.LINE_THICKNESS]=e,i));s.styleController.changeStyle(this._widgets,c,!1),s.styleController.changeStyle(this._widgets,r,!0),u.a.strokeWidthChanged(this._widgets,{strokeWidth:t})}},e.prototype.onColorChanged=function(t,e,n){var i,r=this.createStyleObject(((i={})[o.a.LINE_COLOR]=t,i));this.isEditMode?s.styleController.changeStyle(this._widgets,r,!1):a.a(this._widgets,r,e),e&&u.a.strokeColorChanged(this._widgets,{strokeColor:t})},e.prototype.updateItemProperties=function(t){t.onColorChanged&&this.item.setColorChangeListener(t.onColorChanged,this),t.onOpacityChanged&&this.item.setOpacityChangeListener(t.onOpacityChanged,this),t.onStrokeChanged&&this.item.setStrokeChangeListener(t.onStrokeChanged,this),t.onWidthChanged&&this.item.setWidthChangeListener(t.onWidthChanged,this)},e=Object(i.c)([Object(h.a)({showRegardlessCapability:{editable:{}}})],e)}(r.a);e.a=p},2318:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=[1,2,3,4,5,8,12,16,20,24]},2319:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(22),a=n(83),s=n(51),c=n(166),l=function(t){function e(){var e=t.call(this)||this;return e.item=e.initItem(),e.item.setLineTypeChangeListener(e.onChange,e),e}return Object(i.d)(e,t),e.prototype.updateItem=function(){var t=a.f(r.mySelection.selection,function(t){var e=t.getStyle();return e?e.lt:null});this.item.setLineType(t)},e.prototype.onChange=function(t){var e={};e.lt=t,e[s.a.VERSION]=2,r.styleController.changeStyle(r.mySelection.selection,e),this.updateProperties()},e.prototype.updateItemProperties=function(t){var e=this.item;t.onChange&&e.setLineTypeChangeListener(t.onChange,this)},e=Object(i.c)([Object(c.a)({showRegardlessCapability:{editable:{}}})],e)}(o.a);e.a=l},2320:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(22),a=function(t){function e(){var e=t.call(this)||this;return e.item=e.initItem(),e.item.setClickHandler(e.onClick,e,!0),e.item.setTooltip("Crop"),e}return Object(i.d)(e,t),e.prototype.onClick=function(){r.mySelection.singleSelection.setEditMode(!0,!1)},e}(o.a);e.a=a},2321:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(166),a=function(t){function e(){var e=t.call(this)||this;return e.item=e.initItem(),e.item.setClickHandler(e.onClick,e),e.item.setTooltip("Play/Stop"),e}return Object(i.d)(e,t),e.prototype.updateItem=function(t){this.changeIcon()},e.prototype.onClick=function(){var t=this._widgets[0].player;t.isPlaying()?t.stop():t.play(),this.changeIcon()},e.prototype.changeIcon=function(){this.updateItemIcon(this._widgets[0].player.isPlaying())},e=Object(i.c)([Object(r.a)({showRegardlessCapability:{editable:{}}})],e)}(o.a);e.a=a},2322:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(166),a=function(t){function e(){var e=t.call(this)||this;return e.item=e.initItem(),e.item.setClickHandler(e.onClick,e),e.item.active=!0,e.item.setTooltip("Loop"),e}return Object(i.d)(e,t),e.prototype.updateItem=function(t){this.item.active=this._widgets[0].player.isLoop()},e.prototype.onClick=function(){this._widgets[0].player.toggleLoop(),this.item.active=!this.item.active},e=Object(i.c)([Object(r.a)({showRegardlessCapability:{editable:{}}})],e)}(o.a);e.a=a},2323:function(t,e,n){"use strict";var i=n(21),o=function(t){function e(){var e=t.call(this)||this;return e.item.setTooltip("Expand"),e.item.setItemId("expand-horiz-item"),e}return Object(i.d)(e,t),e}(n(958).a);e.a=o},2324:function(t,e,n){"use strict";var i=n(21),o=function(t){function e(){var e=t.call(this)||this;return e.item.setItemId("edit-as-pen-horiz-item"),e}return Object(i.d)(e,t),e}(n(958).a);e.a=o},2325:function(t,e,n){"use strict";var i=n(21),o=n(22),r=n(75),a=function(t){function e(){var e=t.call(this)||this;return e.item.setClickHandler(e.onClick,e,!1),e}return Object(i.d)(e,t),e.prototype.onClick=function(t){o.mySelection.forceStopCurrentAction(!1)},e.prototype.onChange=function(e,n,i){n&&this._widgets&&this._widgets.length&&this._widgets.forEach(function(t){return r.a.onCardColorChanged(t,e,t.getColor())}),t.prototype.onChange.call(this,e,n,i)},e.prototype.sendStat=function(t){},e}(n(948).a);e.a=a},2326:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(22),a=n(397),s=function(t){function e(){var e=t.call(this)||this;return e.item=e.initItem(),e.item.setTooltip("add column"),e.item.setClickHandler(e.onClick,e,!1),e}return Object(i.d)(e,t),e.prototype.onClick=function(){r.mySelection.singleSelection.actions.addColumn(a.c.widget_menu)},e}(o.a);e.a=s},2327:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(22),a=n(397),s=function(t){function e(){var e=t.call(this)||this;return e.item=e.initItem(),e.item.setTooltip("add swimlane"),e.item.setClickHandler(e.onClick,e,!1),e}return Object(i.d)(e,t),e.prototype.onClick=function(){r.mySelection.singleSelection.actions.addSwimline(a.c.widget_menu)},e}(o.a);e.a=s},2328:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(355),a=function(t){function e(){var e=t.call(this)||this;return e.item=e.initItem(),e.item.setClickHandler(e.onClick,e,!1),e.item.setTooltip("add release"),e.item.setItemId("edit-horiz-item"),e}return Object(i.d)(e,t),e.prototype.onClick=function(){this._widgets.forEach(function(t){var e=t.template.swimlanes.length;t.addSwimlane(r.b.getReleaseName(e),Math.max(e-1,0))})},e}(o.a);e.a=a},2329:function(t,e,n){"use strict";var i=n(21),o=n(1553),r=n(166),a=function(t){function e(){var e=t.call(this)||this;return e.item.setTooltip("Download"),e}return Object(i.d)(e,t),e=Object(i.c)([Object(r.a)({showRegardlessCapability:{editable:{}}})],e)}(o.b);e.a=a},2365:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(130),a=n(109),s=n(58),c=n(2293),l=n.n(c),u=n(60),h=n(2294),p=n(137),d=function(t){function e(){var e=t.call(this,"cmih-split-into-page")||this;return e.preventDefaultAttr=!1,e.localController=e.controller=new g(e),e.tip=new h.a(p.c.SPLIT_PAGES_TIP,u.a.SPLIT_PAGES_TIP),e.init(),e}return Object(i.d)(e,t),e.prototype.setSplitPagesListener=function(t,e){this.localController.registerHandler("SplitPages",t,e)},e.prototype.setTotalPage=function(t){this.localController.pages=new l.a("1-"+t),this.localController.totalPages=t},e.prototype.hideSubmenu=function(){t.prototype.hideSubmenu.call(this),this.localController.range="",this.localController.isValidRange=!0,this.localController.isAllPages=!1},e.prototype.showSubmenu=function(){var e=this;t.prototype.showSubmenu.call(this),setTimeout(function(){e.localController.setFocus()},100)},e.prototype.setVisibleOnScreen=function(t){this.tip.show(t)},e}(r.a),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.range="",e.totalPages=1,e.options=[{caption:"All",value:!0},{caption:"&nbsp;",value:!1}],e.isAllPages=!1,e.isValidRange=!0,e.onChange=function(t){e.isAllPages=t,e.isAllPages||e.setFocus()},e}return Object(i.d)(e,t),e.prototype.split=function(){this.isAllPages&&(this.range="1-"+this.totalPages),this.callHandler("SplitPages",this.range,this.isAllPages),this.isAllPages=!1},e.prototype.keyup=function(t){try{this.isValidRange=this.pages.has(this.range)}catch(t){this.isValidRange=!1}t.keyCode==s.a.ENTER&&this.isValidRange&&this.split()},e.prototype.setFocus=function(){var t=this.element.find(".cmih-split-into-page__input");void 0!==t&&t.focus()},e.prototype.unselectAllPagesBtn=function(){this.isAllPages=!1},e}(a.a),f=n(22),m=n(2073),y=n(37),v=n(125),C=n(55),b=n(503),w=n(26),S=function(){function t(){}return t.split=function(e,n,i){void 0===i&&(i=!1);var o=new l.a(n).toArray(),r=e.x,a=e.y,s=0,c=0,u=e.scaledWidth,h=e.scaledHeight,p=e.scale,d=[];t.sendStat(o.length,i),e.resourceController.getInfo().then(function(t){var n=new m.a;n.resourceId=e.resourceController.resourceId,n.success=!0,n.data=t,n.resourceStrId=t.id.toString(),n.widgetType=y.a.DOCUMENT,a+=h+30,Object(C.a)().applyChanges([],function(){o.forEach(function(t,e){var i=r+(u+30)*s,o=a+(h+30)*c,l=f.documentWidgetController.createWidgetData(i,o,n,t);l.transformationData.scaleData=new v.a(p),l.pageData.singlePage=!0,d.push(f.documentWidgetController.createWidgetFromData(l,n)),s=(e+1)%10,c+=(e+1)%10===0?1:0}),f.mySelection.clearSelection(),f.mySelection.addToSelection(d)}),Object(b.b)(f.mySelection.selection)})},t.sendStat=function(t,e){Object(w.oj)(t,e)},t}(),O=n(166),_=function(t){function e(){var e=t.call(this)||this;return e.item=new d,e.item.setSplitPagesListener(e.splitPages,e),e.item.setTooltip("Extract pages"),e}return Object(i.d)(e,t),e.prototype.updateItem=function(t){var e=t[0];this.item.setTotalPage(e.getPageCount()||0)},e.prototype.splitPages=function(t,e){var n=this._widgets[0];S.split(n,t,e),f.mySelection.updateProperties()},e.prototype.updateItemProperties=function(t){t.onSplitPages&&this.item.setSplitPagesListener(t.onSplitPages,this)},e=Object(i.c)([Object(O.a)({showRegardlessCapability:{editable:{}}})],e)}(o.a);e.a=_},2366:function(t,e,n){"use strict";var i=n(21),o=n(406),r=n(51),a=n(130),s=n(144),c=n(90),l=n(2108),u=n(109),h=n(843),p=function(t){function e(e){var n=t.call(this,e)||this,i=c.a.getDefaultStyle();return n.setFontFamily(c.a.getDefaultType()),n.fonts=l.a.getValues(s.b).filter(function(t){return t!==s.b.CURSIVE}).map(function(t){return{value:t,title:c.a.getName(t),style:i}}).sort(function(t,e){return t.title<e.title?-1:t.title>e.title?1:0}),n.loadAsync(),n}return Object(i.d)(e,t),e.prototype.selectFontFamily=function(t,e){t.preventDefault(),t.stopPropagation(),this.setFontFamily(e),this.callHandler("FontFamilyChangeListener",e)},e.prototype.setFontFamily=function(t){this.selectedType=t,this.selectedTitle=c.a.getName(t),this.selectedStyle=c.a.getStyle(t)},e.prototype.loadAsync=function(){var t=this;this.fonts.forEach(function(e){Object(h.a)().load(e.value).then(function(){e.style=c.a.getStyle(e.value),t.apply()})})},e}(u.a),d=function(t){function e(){var e=t.call(this,"cmih-font-family")||this;return e.localController=e.controller=new p(e),e.setTooltip("Font style"),e.init(),e}return Object(i.d)(e,t),e.prototype.setFontFamilyChangeListener=function(t,e){this.localController.registerHandler("FontFamilyChangeListener",t,e)},e.prototype.setFontFamily=function(t){this.localController.setFontFamily(t)},e}(a.a),g=n(574),f=n(22),m=function(t){function e(){var e=t.call(this)||this;return e.prevFontFamily=c.a.getDefaultType(),e.item.setFontFamilyChangeListener(e.onChange,e),e}return Object(i.d)(e,t),e.prototype.initItem=function(){return new d},e.prototype.onChange=function(t){Object(g.a)().setFontFamily(this._widgets,t),f.mySelection.updateProperties(!0)},Object.defineProperty(e.prototype,"styleNames",{get:function(){return[r.a.FONT_FAMILY]},enumerable:!0,configurable:!0}),e.prototype.setStyle=function(t){void 0===t&&(t=this.prevFontFamily),this.item.setFontFamily(t)},e.prototype.updateItemProperties=function(t){t.onChange&&this.item.setFontFamilyChangeListener(t.onChange,this)},e}(o.a);e.a=m},2383:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(130),a=n(109),s=n(22),c=function(t){function e(){var e=t.call(this,"cmih-due-date")||this;return e.localController=e.controller=new l(e),e.init(),e}return Object(i.d)(e,t),e.prototype.setChangeListener=function(t,e){this.localController.registerHandler("onDateChangeListener",t,e)},e.prototype.setDate=function(t){this.localController.setRange(t)},e.prototype.select=function(){s.mySelection.forceStopCurrentAction(!1),t.prototype.select.call(this)},e}(r.a),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.range={start:void 0,end:void 0},e}return Object(i.d)(e,t),e.prototype.onChange=function(t){this.callHandler("onDateChangeListener",t),this.setRange(t)},e.prototype.setRange=function(t){this.range=t},e}(a.a),u=n(197),h=n(257),p=function(t){function e(){var e=t.call(this)||this;return e.data=[],e.item=new c,e.item.setChangeListener(e.onChange,e),e.item.setTooltip("set date"),e}return Object(i.d)(e,t),e.prototype.updateItem=function(t){if(t&&t.length){this.data=[];var e=this._widgets[0].getExtensionData(u.a.DUE_DATE);if(e){var n={start:e.dueDate.length>0?e.dueDate[0]:void 0,end:e.dueDate.length>1?e.dueDate[1]:void 0};this.item.setDate(n)}}},e.prototype.onChange=function(t){if(this._widgets&&this._widgets.length){var e=[];t.start&&e.push(t.start),t.end&&e.push(t.end),this.data=e,Object(h.a)().updateCardsExtensionData(this._widgets,u.a.DUE_DATE,{dueDate:this.data}),this.updateProperties()}},e}(o.a);e.a=p},2384:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(130),a=n(109),s=n(22),c=function(t){function e(){var e=t.call(this,"cmih-assignee")||this;return e.preventDefaultAttr=!1,e.setTooltip("add assignee"),e.localController=e.controller=new l(e),e.init(),e}return Object(i.d)(e,t),e.prototype.setOnChangeListener=function(t,e){this.localController.registerHandler("AssigneeChangedListener",t,e)},e.prototype.update=function(t){this.localController.assignee=t.assignee},e.prototype.select=function(){s.mySelection.forceStopCurrentAction(!1),t.prototype.select.call(this)},e}(r.a),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.onAdd=function(t){this.callHandler("AssigneeChangedListener",[t.id])},e.prototype.onRemove=function(t){this.callHandler("AssigneeChangedListener",[])},e}(a.a),u=n(197),h=n(257),p=function(t){function e(){var e=t.call(this)||this;return e.item=new c,e.item.setOnChangeListener(e.onChange,e),e}return Object(i.d)(e,t),e.prototype.onChange=function(t){this._widgets&&this._widgets.length&&(Object(h.a)().updateCardsExtensionData(this._widgets,u.a.ASSIGNEE,{assignee:t}),this.item.hideSubmenu())},e.prototype.updateItem=function(t){if(t&&t.length){var e=this._widgets[0].getExtensionData(u.a.ASSIGNEE);e&&this.item.update(e)}},e}(o.a);e.a=p},2385:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(133),a=n.n(r),s=n(22),c=n(109),l=n(249),u=function(t){function e(e,n,i){void 0===n&&(n=null),void 0===i&&(i="");var o=t.call(this,"cmi-info-item")||this,r=new h(o);return r.caption=e,r.icon=n,r.hint=i,o.controller=r,o.init(),o}return Object(i.d)(e,t),e.prototype.loadUser=function(){var t=s.mySelection.selection[0];t&&t.widgetType&&this.controller.loadUser(t)},e}(n(516).a),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.loadUser=function(t){var e=this,n=t.historyData,i=n.creationUserId,o=n.lastChangeUserId,r=n.creationTime,s=n.lastChangeTime;i&&0!=Number(i)?l.a(i.toString()).then(function(t){var n=new Date(r.getNumber());e.created={name:t.name,time:n},e.apply()}):this.created=null,!(a()(i,o)&&a()(r,s))&&o&&0!=Number(o)?l.a(o.toString()).then(function(t){var n=new Date(s.getNumber());e.updated={name:t.name,time:n},e.apply()}):this.updated=null},e}(c.a),p=function(t){function e(){var e=t.call(this)||this;return e.item=new u("Info","cm-icon-info"),e}return Object(i.d)(e,t),e.prototype.updateItem=function(t){var e=this;t&&t[0]&&this.item.visible&&setTimeout(function(){return e.item.loadUser()})},e}(o.a);e.a=p},2386:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(130),a=n(109),s=function(t){function e(){var e=t.call(this,"cmih-pinning-page")||this;return e.localController=e.controller=new c(e),e.init(),e}return Object(i.d)(e,t),e.prototype.setStartPageListener=function(t,e){this.localController.registerHandler("SetStartPage",t,e)},e.prototype.setGotoPageListener=function(t,e){this.localController.registerHandler("GotoStartPage",t,e)},e.prototype.setCurrentPage=function(t){this.localController.currentPage=t},e.prototype.setStartPage=function(t){this.localController.startPage=t},e.prototype.setSettingPageVisible=function(t){this.localController.settingPageVisible=t},e}(r.a),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPage=0,e.startPage=0,e.settingPageVisible=!0,e}return Object(i.d)(e,t),e.prototype.setStartPage=function(){this.isStartPageDisabled()||this.callHandler("SetStartPage")},e.prototype.gotoStartPage=function(){this.callHandler("GotoStartPage")},e.prototype.isStartPageDisabled=function(){return this.currentPage===this.startPage||!this.settingPageVisible},e}(a.a),l=n(56),u=n(65),h=n(166),p=function(t){function e(){var e=t.call(this)||this;return e.item=new s,e.item.setStartPageListener(e.setStartPage,e),e.item.setGotoPageListener(e.gotoStartPage,e),e.item.setTooltip("Pin"),e}return Object(i.d)(e,t),e.prototype.updateItem=function(t){this._widgets&&this._widgets.length>0&&(this._widgets[0].currentPageChanged.add(this.updatePageValue,this),this.item.setSettingPageVisible(Object(l.a)().getTool()!==u.a.VIEW),this.updatePageValue())},e.prototype.setStartPage=function(){var t=this._widgets[0],e=t.getPageNumber();t.setStartPage(e),this.item.setStartPage(e)},e.prototype.gotoStartPage=function(){this._widgets[0].goToStartPage()},e.prototype.updatePageValue=function(){if(this._widgets&&this._widgets.length>0){var t=this._widgets[0],e=t.getStartPage()||1,n=t.getPageNumber();this.item.setCurrentPage(n),this.item.setStartPage(e)}},e.prototype.updateItemProperties=function(t){t.onStartPage&&this.item.setStartPageListener(t.onStartPage,this),t.onGotoStartPage&&this.item.setGotoPageListener(t.onGotoStartPage,this)},e=Object(i.c)([Object(h.a)({showRegardlessCapability:{editable:{}}})],e)}(o.a);e.a=p},2387:function(t,e,n){"use strict";var i,o=n(21),r=n(66),a=n(130),s=n(109);!function(t){t[t.ORIGINAL=1]="ORIGINAL",t[t.HALF=.5]="HALF",t[t.CUSTOM=1.5]="CUSTOM"}(i||(i={}));var c=function(t){function e(){var e=t.call(this,"cmih-scale-to-size")||this;return e.localController=e.controller=new l(e),e.init(),e}return Object(o.d)(e,t),e.prototype.setScale=function(t){this.localController.setScale(t)},e.prototype.setScaleChangeListener=function(t,e){this.localController.registerHandler("ScaleChangeListener",t,e)},e.prototype.applyVisualScale=function(){this.localController.apply()},e}(a.a),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scales=i,e}return Object(o.d)(e,t),e.prototype.changeScale=function(t){this.setScale(t),this.subMenuVisible=!1,this.callHandler("ScaleChangeListener",t)},e.prototype.setScale=function(t){switch(this.scale=t,this.visualScale="Custom size",this.scale){case i.ORIGINAL:this.visualScale="Original size";break;case i.HALF:this.visualScale="Half size"}},e}(s.a),u=n(22),h=n(125),p=n(107),d=n(111),g=n.n(d),f=n(145),m=n(83),y=n(26),v=function(t){function e(){var e=t.call(this)||this;e.transformationEnded=g()(e.onTransformationEnded,50);var n=new c;return n.setScaleChangeListener(e.onChange,e),e.item=n,e}return Object(o.d)(e,t),e.prototype.onChange=function(t){var e=new p.a(void 0,void 0,new h.a(t)),n=u.mySelection.selection;u.transformationController.transform(n,new Array(n.length).fill(e)),y.Nh({source:"horizontal-context-menu",scale:t})},e.prototype.onTransformationEnded=function(t,e){if(t===f.a.SCALE&&this._widgets){var n=m.f(this._widgets,function(t){return t.scale});this.setScale(n),this.item.applyVisualScale()}},e.prototype.setScale=function(t){this.item.setScale(1===t?i.ORIGINAL:.5===t?i.HALF:i.CUSTOM)},e.prototype.updateItem=function(t){var e=this;t&&t.length&&(this.setScale(t[0].scale),this._widgets.forEach(function(t){t.transformationEnded.add(e.transformationEnded,e)}))},e.prototype.hideItem=function(){var t=this;this._widgets&&this._widgets.forEach(function(e){e.transformationEnded.remove(t.transformationEnded,t)})},e.prototype.updateItemProperties=function(t){var e=this.item;t.onChange&&e.setScaleChangeListener(t.onChange,this)},e}(r.a);e.a=v},2388:function(t,e,n){"use strict";var i=n(21),o=n(26),r=n(51),a=n(22),s=n(130),c=n(109),l=n(583),u=function(t){function e(){var e=t.call(this,"cmih-frame-orientation")||this;return e.localController=e.controller=new h(e),e.setTooltip("orientation"),e.init(),e}return Object(i.d)(e,t),e.prototype.setOrientation=function(t){this.localController.setOrientation(t)},e.prototype.setChangeOrientationListener=function(t,e){this.localController.registerHandler("ChangeOrientationListener",t,e)},e.prototype.changeOrientation=function(){this.localController.changeOrientation()},e}(s.a),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.changeOrientation=function(){if(!this.isDisabled()){var t=this.getOrientation();this.orientation=t,this.callHandler("ChangeOrientationListener",t)}},e.prototype.setOrientation=function(t){this.orientation=t},e.prototype.getOrientation=function(){return this.orientation==l.a.PORTRAIT?l.a.LANDSCAPE:l.a.PORTRAIT},e}(c.a),p=function(t){function e(){var e=t.call(this)||this;return e.item.setClickHandler(e.onClick,e),e.item.setChangeOrientationListener(e.onChange,e),e}return Object(i.d)(e,t),e.prototype.initItem=function(){return new u},e.prototype.onClick=function(){this.item.changeOrientation()},e.prototype.onChange=function(t){var e=this._widgets[0],n=a.styleController.injectStyleChange(this.createStyleObject(t),e.getStyle());n&&(o.Gb(l.a[t].toLowerCase()),this.applyStyle(e,n,{width:e.height,height:e.width}))},Object.defineProperty(e.prototype,"styleNames",{get:function(){return[r.a.FRAME_ORIENTATION]},enumerable:!0,configurable:!0}),e.prototype.setStyle=function(t){var e=this._widgets[0];this.item.setOrientation(t||e.orientation)},e.prototype.updateItemProperties=function(t){t.onChange&&this.item.setChangeOrientationListener(this.onChange,this)},e}(n(2279).a);e.a=p},2389:function(t,e,n){"use strict";var i=n(21),o=n(130),r=n(109),a=n(201),s=function(t){function e(){var e=t.call(this,"cmih-document-page")||this;return e.localController=e.controller=new c(e),e.init(),e}return Object(i.d)(e,t),e.prototype.setNextCallback=function(t,e){this.localController.registerHandler("NextCallbackListener",t,e)},e.prototype.setPrevCallback=function(t,e){this.localController.registerHandler("PrevCallbackListener",t,e)},e.prototype.setInputCallback=function(t,e){this.localController.registerHandler("InputCallbackListener",t,e)},e.prototype.setCurrent=function(t){this.localController.current=t},e.prototype.setTotal=function(t){this.localController.total=t},e.prototype.blur=function(){this.localController.blur()},e}(o.a),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.current=0,e.total=0,e}return Object(i.d)(e,t),Object.defineProperty(e.prototype,"input",{get:function(){return this.element?this.element.find(".cmih-document-page__current"):null},enumerable:!0,configurable:!0}),e.prototype.blur=function(){var t=this;setTimeout(function(){t.input&&t.input.get(0).blur()},0)},e.prototype.keypress=function(t){var e=t.keyCode||t.which;a.j(e)||a.d(t)||t.preventDefault()},e.prototype.select=function(){if(this.input){var t=this.input.get(0);t.focus(),t.setSelectionRange(0,t.value.length)}},e.prototype.onChange=function(){this.normalize(),this.callHandler("InputCallbackListener",this.current,this.total)},e.prototype.next=function(){this.callHandler("NextCallbackListener",this.current,this.total)},e.prototype.prev=function(){this.callHandler("PrevCallbackListener",this.current,this.total)},e.prototype.normalize=function(){this.current>this.total&&(this.current=this.total)},e}(r.a),l=n(66),u=n(37),h=n(166),p=function(t){function e(){var e=t.call(this)||this;return e.item=new s,e.item.setCurrent(0),e.item.setTotal(0),e.item.setNextCallback(e.onNext,e),e.item.setPrevCallback(e.onPrev,e),e.item.setInputCallback(e.onInput,e),e}return Object(i.d)(e,t),e.prototype.updateItem=function(t){var e=t[0];e&&e.widgetType===u.a.DOCUMENT&&(this.widget=e,this.item.blur(),this.item.setCurrent(e.getPageNumber()),this.item.setTotal(e.getPageCount()))},e.prototype.onNext=function(t,e){var n=t+1;t<e&&this.setPage(n)},e.prototype.onPrev=function(t,e){var n=t-1;t>1&&this.setPage(n)},e.prototype.onInput=function(t){var e=this.widget.getPageCount(),n=parseInt(t,10);!n||n<1?n=1:e&&n>e&&(n=e),this.setPage(n)},e.prototype.setPage=function(t){this.widget.setPage(t),this.item.setCurrent(t)},e.prototype.updateItemProperties=function(t){t.onNext&&this.item.setNextCallback(this.onNext,this),t.onPrev&&this.item.setPrevCallback(this.onPrev,this),t.onInput&&this.item.setInputCallback(this.onInput,this)},e=Object(i.c)([Object(h.a)({showRegardlessCapability:{editable:{}}})],e)}(l.a);e.a=p},2390:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(130),a=n(109),s=function(t){function e(){var e=t.call(this,"cmih-pen-size-slider")||this;return e.localController=e.controller=new c(e),e.setTooltip("thickness"),e.init(),e}return Object(i.d)(e,t),e.prototype.setThicknessChangeListener=function(t,e){this.localController.registerHandler("ThicknessChangeListener",t,e)},e.prototype.setThickness=function(t){Math.round(100*this.localController.thickness)!=Math.round(100*t)&&(this.localController.change+=1,this.localController.setThickness(t))},e.prototype.onVisibilityChanged=function(e){t.prototype.onVisibilityChanged.call(this,e),this.localController.visible=e},e}(r.a),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.visible=!0,e.change=1,e}return Object(i.d)(e,t),e.prototype.selectThickness=function(t){this.thickness=t,this.callHandler("ThicknessChangeListener",t)},e.prototype.setThickness=function(t){this.thickness=t},e}(a.a),l=n(83),u=n(22),h=n(166),p=function(t){function e(){var e=t.call(this)||this;return e.item=new s,e.item.setThicknessChangeListener(e.onThicknessChange,e),e}return Object(i.d)(e,t),e.prototype.updateItem=function(t){var e=this.item,n=l.e(t,function(t){var e=t.getStyle();return e?e.t:null});e.setThickness(n)},e.prototype.onThicknessChange=function(t){var e={};e.t=t,u.styleController.changeStyle(u.mySelection.selection,e)},e.prototype.updateItemProperties=function(t){t.onThicknessChange&&this.item.setThicknessChangeListener(t.onThicknessChange,this)},e=Object(i.c)([Object(h.a)({showRegardlessCapability:{editable:{}}})],e)}(o.a);e.a=p},2391:function(t,e,n){"use strict";var i=n(21),o=n(406),r=n(51),a=n(130),s=n(109),c=n(144),l=function(t){function e(){var e=t.call(this,"cmih-sticker-font-family")||this;return e.localController=e.controller=new u(e),e.setTooltip("Font style"),e.init(),e}return Object(i.d)(e,t),e.prototype.setFontFamilyChangeListener=function(t,e){this.localController.registerHandler("StickerFontFamilyChangeListener",t,e)},e.prototype.setFontFamily=function(t){this.localController.fontFamily=t||0},e}(a.a),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fontFamily=c.b.ARIAL,e.ARIAL=c.b.ARIAL,e.CURSIVE=c.b.CURSIVE,e.OPEN_SANS=c.b.OPEN_SANS,e}return Object(i.d)(e,t),e.prototype.selectFontFamily=function(t){this.fontFamily=t,this.callHandler("StickerFontFamilyChangeListener",t)},e.prototype.setFontFamily=function(t){this.fontFamily=t,this.apply()},Object.defineProperty(e.prototype,"isCursive",{get:function(){return this.fontFamily==c.b.CURSIVE},enumerable:!0,configurable:!0}),e}(s.a),h=n(75),p=function(t){function e(){var e=t.call(this)||this;return e.item.setFontFamilyChangeListener(e.onChange,e),e}return Object(i.d)(e,t),Object.defineProperty(e.prototype,"styleNames",{get:function(){return[r.a.FONT_FAMILY]},enumerable:!0,configurable:!0}),e.prototype.initItem=function(){return new l},e.prototype.setStyle=function(t){this.item.setFontFamily(t)},e.prototype.onChange=function(e){t.prototype.onChange.call(this,e,!0),h.a.onFontFamilyChanged(this._widgets,e)},e.prototype.updateItemProperties=function(t){t.onChange&&this.item.setFontFamilyChangeListener(t.onChange,this)},e}(o.a);e.a=p},2392:function(t,e,n){"use strict";var i,o=n(21),r=n(130),a=n(109),s=n(253),c=s.a,l=((i={})[c.SQUARE]="tool-sticker-sq",i[c.RECTANGLE]="tool-sticker-rect",i),u=function(t){function e(){var e=t.call(this,"cmih-sticker-type")||this;return e.localController=e.controller=new h(e),e.init(),e}return Object(o.d)(e,t),e.prototype.setStickerTypeChangeListener=function(t,e){this.localController.registerHandler("StickerTypeChangeListener",t,e)},e.prototype.setStickerType=function(t){this.localController.stickerType=t||c.SQUARE},e}(r.a),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stickerType=c.SQUARE,e}return Object(o.d)(e,t),e.prototype.selectStickerType=function(t){this.stickerType=t,this.callHandler("StickerTypeChangeListener",t)},e.prototype.setStickerType=function(t){this.stickerType=t,this.apply()},e.prototype.getIcon=function(t){return l[t]||l[this.stickerType]},e}(a.a),p=n(22),d=n(66),g=n(83),f=n(1221),m=function(t){function e(){var e=t.call(this)||this;return e.item=new u,e.item.setTooltip("Sticker shape"),e.item.setStickerTypeChangeListener(e.onChange,e),e}return Object(o.d)(e,t),e.prototype.updateItem=function(t){if(t){var e=g.e(t,function(t){return t.shapeType});void 0==e&&(e=s.a.SQUARE),this.item.setStickerType(e)}},e.prototype.onChange=function(t){var e=[],n=[],i=[];this._widgets.forEach(function(o){o.shapeType!=t&&(e.push(o),n.push(new f.a(o.position,o.size)),o.setShapeType(t),i.push(new f.a(o.position,o.size)))}),e.length&&!e[0].isEditMode()&&p.resizeController.shortResize(e,n,i),this.updateProperties()},e.prototype.updateItemProperties=function(t){t.onChange&&this.item.setStickerTypeChangeListener(t.onChange,this)},e}(d.a);e.a=m},2393:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(130),a=n(109),s=function(t){function e(){var e=t.call(this,"cmih-emoji")||this;return e.preventDefaultAttr=!1,e.localController=e.controller=new c(e),e.init(),e}return Object(i.d)(e,t),e.prototype.setEmojiSelectedListener=function(t,e){this.localController.registerHandler("EmojiSelectedListener",t,e)},e.prototype.getTooltipAttr=function(){return t.prototype.getTooltipAttr.call(this)+'tooltip-enable="{{'+this.getControllerName()+'.isTooltipEnable()}}"'},e}(r.a),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.onEmojiSelected=function(t){this.callHandler("EmojiSelectedListener",t),this.subMenuVisible=!1},e}(a.a),l=n(37),u=n(571),h=n(35),p=n(26),d=n(22),g=n(75),f=h.b(),m=u.a(),y=function(t){function e(){var e=t.call(this)||this,n=new s;return n.setEmojiSelectedListener(e.onSelected,e),e.item=n,e.item.setTooltip("Add emoji"),d.mySelection.onSelectionChanged.add(e.onSelectionChanged,e),e}return Object(i.d)(e,t),e.prototype.onSelected=function(t){if(this._widgets&&this._widgets.length){var e=[],n=!0;this._widgets.forEach(function(i){(i.emojis.length<8||i.hasEmoji(t.name)&&!i.emojiSelectedByMe(t.name))&&(e.push(i),n=!1)}),n?f().show("Only up to 8 emojis can be attached to a single item."):(m().toggle(t.name,e,!0),p.u(l.a[this._widgets[0].widgetType]),g.a.onEmojiAdded(e))}},e.prototype.onSelectionChanged=function(){this.item.visible||(this.item.controller.subMenuLoaded=!1)},e.prototype.updateItemProperties=function(t){t.onSelected&&this.item.setEmojiSelectedListener(t.onSelected,this)},e}(o.a);e.a=y},2395:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(130),a=n(109),s=n(1889),c=n(22),l=function(t){function e(){var e=t.call(this,"cmi-aligns")||this;return e.localController=e.controller=new u(e),e.init(),e}return Object(i.d)(e,t),e.prototype.setAlignTypeChangeListener=function(t,e){this.localController.registerHandler("AlignTypeChangeListener",t,e)},e.prototype.setCount=function(t){this.localController.count=t},e.prototype.getTooltipAttr=function(){var e=t.prototype.getTooltipAttr.call(this);return e+='tooltip-enable="{{'+this.getControllerName()+'.isTooltipEnable()}}"'},e.prototype.fixSubMenuPosition=function(){var e=this;t.prototype.fixSubMenuPosition.call(this,function(t){var n=e.getDirectiveName(),i=e.parentMenu.getBounds();if("cmi-aligns"===n){t.css({transform:""});var o=t.get(0).getBoundingClientRect();o&&o.right>window.innerWidth&&t.css({transform:"translateX("+(i.x+i.width-o.right)+"px)"})}})},e}(r.a),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.count=0,e.AlignType=s.a,e}return Object(i.d)(e,t),e.prototype.selectAlignType=function(t){this.callHandler("AlignTypeChangeListener",t)},e.prototype.selectAlignTypeSpread=function(t){c.mySelection.selection.length<3||this.callHandler("AlignTypeChangeListener",t)},e.prototype.more=function(){return c.mySelection.selection.length<3},e}(a.a),h=function(t){function e(){var e=t.call(this)||this;return e.item=new l,e.item.setAlignTypeChangeListener(function(t){return c.selectionActions.align(t)},e),e.item.setTooltip("Align objects"),e}return Object(i.d)(e,t),e.prototype.updateItem=function(t){this.item.setCount(t.length)},e.prototype.updateItemProperties=function(t){t.onAlignTypeChangeListener&&this.item.setAlignTypeChangeListener(t.onAlignTypeChangeListener,this),(t.count||0===t.count)&&this.item.setCount(t.count)},e}(o.a);e.a=h},2411:function(t,e,n){"use strict";var i=n(21),o=n(735),r=n(830),a=n(57),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.opacities=r.a,e.change=0,e}return Object(i.d)(e,t),e.prototype.setOpacity=function(t){this.opacity=this.opacities.indexOf(Object(a.h)(t,this.opacities)),this.change++,this.apply()},e.prototype.onOpacityChanged=function(t,e){var n=void 0!==e?this.opacities[e]:void 0;this.opacity=t,this.callHandler("OpacityChangeListener",this.opacityValue,n)},Object.defineProperty(e.prototype,"opacityValue",{get:function(){return this.opacities[this.opacity]},enumerable:!0,configurable:!0}),e}(o.a),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.setOpacityChangedListener=function(t,e){this.controller.registerHandler("OpacityChangeListener",t,e)},e.prototype.setOpacity=function(t){this.controller.setOpacity(t)},e.prototype.getControllerInstance=function(){return new s(this)},e.prototype.getDirectiveClass=function(){return[t.prototype.getDirectiveClass.call(this),"cmih-background"].join(" ")},e}(n(313).a);e.a=c},2412:function(t,e,n){"use strict";var i=n(21),o=n(949),r=n(68),a=n(51),s=n(22),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),Object.defineProperty(e.prototype,"styleNames",{get:function(){return[a.a.STICKER_BACKGROUND_COLOR]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colors",{get:function(){return r.w},enumerable:!0,configurable:!0}),e.prototype.onChange=function(t,e){this.item.hideSubmenu(),s.styleController.changeStyle(this._widgets,this.createStyleObject(t),e)},e}(o.a),l=n(75),u=function(t){function e(){var e=t.call(this)||this;return e.item.setTooltip("Fill color"),e}return Object(i.d)(e,t),e.prototype.onChange=function(e,n){t.prototype.onChange.call(this,e,n),l.a.onStickerBackgroundChanged(this._widgets,e)},e}(c);e.a=u},406:function(t,e,n){"use strict";var i=n(21),o=n(66),r=n(83),a=n(22),s=function(t){function e(){var e=t.call(this)||this;return e.item=e.initItem(),e}return Object(i.d)(e,t),Object.defineProperty(e.prototype,"styleNames",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.setStyle=function(t){},e.prototype.getWidgetStyle=function(t){var e=t;return e&&e.getStyle&&e.getStyle()},e.prototype.updateItem=function(t){var e=this;if(t){var n=r.e(t,function(t){var n=e.getWidgetStyle(t);return e.getStyleValue(n)});this.setStyle(n)}},e.prototype.onChange=function(t,e){var n=this.createStyleObject(t),i=void 0!==e?e:!(this._widgets&&this._widgets[0]&&this._widgets[0].isEditMode());a.styleController.changeStyle(this._widgets,n,i),this.updateProperties()},e.prototype.createStyleObject=function(t){var e={};return this.styleNames.forEach(function(n){e[n]=t}),e},e.prototype.getStyleValue=function(t){if(t)for(var e=0,n=this.styleNames.length;e<n;e++){var i=this.styleNames[e];if(t.hasOwnProperty(i))return t[i]}return null},e}(o.a);e.a=s},5222:function(t,e,n){"use strict";(function(t){var i=n(21),o=n(272),r=n(109),a=n(130),s=n(542),c=n(5223),l=function(t){function e(){var e=t.call(this,"cmih-frame-format")||this;return e.controller=new u(e),e.setTooltip("ratio"),e.init(),e}return Object(i.d)(e,t),e.prototype.setFrameFormatChangedListener=function(t,e){this.controller.registerHandler("FrameFormatChanged",t,e)},e.prototype.setFrameFormat=function(t){this.controller.setFormat(t)},e.prototype.open=function(){this.controller.onClick(),this.controller.apply()},e}(a.a);e.a=l;var u=function(e){function r(t){var n=e.call(this,t)||this;return n.formatPreviewLayer=new c.a,n.setFormat(o.a.CUSTOM),n}return Object(i.d)(r,e),r.prototype.setFormat=function(t){this.currFormatInfo=s.a(t)},r.prototype.getFormatsInfo=function(){return s.b()},r.prototype.registerFormatChangedHandler=function(t,e){this.registerHandler("FrameFormatChanged",t,e)},r.prototype.selectFormat=function(t){this.currFormatInfo=t,this.hideFormatPreview(),this.callHandler("FrameFormatChanged",t.format)},r.prototype.showFormatPreview=function(e){t.isTouchSupportedAndNotDesktop||this.formatPreviewLayer.showPreview(e.format)},r.prototype.hideFormatPreview=function(){t.isTouchSupportedAndNotDesktop||this.formatPreviewLayer.hidePreview()},r.prototype.isFormatSelected=function(t){return this.currFormatInfo.format===t.format},r.prototype.getCurrIcon=function(){return this.currFormatInfo.icon},r.prototype.getCurrName=function(){return this.currFormatInfo.name},r.prototype.getCurrHint=function(){return this.currFormatInfo.hint},r.prototype.getIcon=function(t){return n(5224)("./"+t+".svg")},r}(r.a)}).call(this,n(0))},5223:function(t,e,n){"use strict";var i=n(21),o=n(27),r=n.n(o),a=n(22),s=n(272),c=n(31),l=n(194),u=n(138),h=n(542),p=n(702),d=function(t){function e(){var e=t.call(this)||this;return e.showPreviewTimeoutId=null,e.formatPreview=new r.a.Graphics,e.formatPreview.visible=!1,a.canvasLayers.addLayer("frameFormatPreview",e,u.a.FRAME_FORMAT_PREVIEW,!1,!1,!1),e}return Object(i.d)(e,t),e.prototype.showPreview=function(t){var e=this;this.clearTimeout(),t!=s.a.CUSTOM&&(this.showPreviewTimeoutId=setTimeout(function(){e.showFormatPreview(t)},100))},e.prototype.showFormatPreview=function(t){var e=a.mySelection.singleSelection;if(e){this.showPreviewTimeoutId=null;var n=h.h(t,e.scaledWidth,e.height,p.a(t)),i=h.g(e.size,e.position,n),o=a.canvasController.canvasScale,r=n.width*e.scale*o,s=n.height*e.scale*o;this.formatPreview.clear(),this.formatPreview.beginFill(l.e,.2),this.formatPreview.drawRect(-r/2,-s/2,r,s),this.formatPreview.endFill(),this.formatPreview.x=c.o(i.x),this.formatPreview.y=c.p(i.y),this.formatPreview.visible=!0,this.addChild(this.formatPreview)}else this.hidePreview()},e.prototype.hidePreview=function(){this.clearTimeout(),this.formatPreview.visible=!1,this.removeChild(this.formatPreview)},e.prototype.clearTimeout=function(){null!==this.showPreviewTimeoutId&&(clearTimeout(this.showPreviewTimeoutId),this.showPreviewTimeoutId=null)},e}(r.a.Graphics);e.a=d},5224:function(t,e,n){var i={"./adobe-cc-48.svg":2260,"./adobe-cc.svg":1375,"./assignee.svg":867,"./aws-icons-48.svg":1388,"./aws-icons.svg":1387,"./azure-icons-48.svg":1393,"./azure-icons.svg":1392,"./board-icon.svg":1521,"./box-48.svg":2261,"./box.svg":1371,"./calendar.svg":714,"./capture-web-page-48.svg":1368,"./capture-web-page.svg":1367,"./card-24.svg":617,"./card-48.svg":1355,"./cisco-icons-48.svg":1391,"./cisco-icons.svg":1390,"./cm-add-column.svg":951,"./cm-add-swimlane.svg":761,"./cm-align-objects.svg":1522,"./cm-align1.svg":1523,"./cm-align2.svg":1524,"./cm-align3.svg":1525,"./cm-align4.svg":1526,"./cm-align5.svg":1527,"./cm-align6.svg":1528,"./cm-align7.svg":1529,"./cm-align8.svg":1530,"./cm-arrow-left.svg":1531,"./cm-arrow-right.svg":1532,"./cm-crop.svg":1533,"./cm-download.svg":1534,"./cm-emoji.svg":1535,"./cm-font_family_cursive.svg":952,"./cm-font_family_normal.svg":953,"./cm-gif-loop.svg":1536,"./cm-gif-play.svg":954,"./cm-gif-stop.svg":1537,"./cm-group.svg":1538,"./cm-icon-frame-16x9.svg":2262,"./cm-icon-frame-1x1.svg":2263,"./cm-icon-frame-4x3.svg":2264,"./cm-icon-frame-a4.svg":2265,"./cm-icon-frame-android-phone.svg":2266,"./cm-icon-frame-android-tablet.svg":2267,"./cm-icon-frame-custom.svg":2268,"./cm-icon-frame-ipad.svg":2269,"./cm-icon-frame-iphone.svg":2270,"./cm-icon-frame-landscape.svg":1539,"./cm-icon-frame-portrait.svg":1540,"./cm-icon-frame-web.svg":2271,"./cm-launch.svg":950,"./cm-link-invert.svg":1541,"./cm-more.svg":1542,"./cm-refresh.svg":1520,"./cm-replace-image.svg":1543,"./cm-tag.svg":866,"./cm-text-panel-align-center.svg":1544,"./cm-text-panel-align-left.svg":1545,"./cm-text-panel-align-right.svg":1546,"./cm-text-panel-valign.svg":762,"./cm-ungroup.svg":1547,"./cm-unlock.svg":1548,"./comment-48.svg":1349,"./comment.svg":725,"./dropbox-48.svg":1307,"./dropbox.svg":1370,"./due-date.svg":2272,"./embed-48.svg":1366,"./embed.svg":903,"./eraser.svg":881,"./expand-card.svg":2273,"./expand-white.svg":1549,"./expand.svg":1550,"./export-backup.svg":1396,"./export-image.svg":1394,"./export-pdf.svg":1395,"./export-spreadsheet.svg":1397,"./folder-48.svg":2274,"./folder.svg":1376,"./frames-48.svg":1350,"./frames.svg":605,"./frames/frame-1-x-1.svg":1297,"./frames/frame-16-x-9.svg":1295,"./frames/frame-4-x-3.svg":1296,"./frames/frame-a-4.svg":1298,"./frames/frame-custom.svg":1294,"./frames/frame-ipad.svg":1300,"./frames/frame-iphone.svg":1302,"./frames/frame-phone.svg":1303,"./frames/frame-tablet.svg":1301,"./frames/frame-web.svg":1299,"./from-disk.svg":2275,"./from-extension-48.svg":2276,"./from-extension.svg":1377,"./google-drive-48.svg":1309,"./google-drive.svg":1369,"./google-image-search-48.svg":1383,"./google-image-search.svg":1382,"./grid-48.svg":1364,"./grid.svg":1363,"./iconfinder-48.svg":1381,"./iconfinder.svg":1380,"./info.svg":955,"./invision-48.svg":1305,"./jira-48.svg":877,"./jira.svg":894,"./kanban-48.svg":1360,"./kanban.svg":900,"./line-48.svg":1341,"./line.svg":879,"./link-arrow.svg":1291,"./link-big-arrow.svg":1292,"./link-line.svg":1290,"./mindmap-48.svg":1354,"./mindmap.svg":1353,"./ms-teams.svg":1308,"./onedrive-48.svg":2277,"./onedrive.svg":1372,"./pen-48.svg":1345,"./pen.svg":358,"./pinterest-48.svg":1374,"./pinterest.svg":1373,"./predefined-process.svg":1283,"./rally-48.svg":1347,"./rally.svg":1346,"./shape-48.svg":1340,"./shape-arrow-left-right.svg":1279,"./shape-arrow-left.svg":1278,"./shape-arrow-right.svg":1277,"./shape-babble.svg":1274,"./shape-barrel.svg":1287,"./shape-brace-left.svg":1288,"./shape-brace-right.svg":1289,"./shape-cloud.svg":1285,"./shape-cross.svg":1286,"./shape-hexagon.svg":1281,"./shape-octagon.svg":1282,"./shape-oval.svg":1271,"./shape-parall.svg":1275,"./shape-pentagon.svg":1280,"./shape-rhombus.svg":1273,"./shape-rounded.svg":1270,"./shape-square.svg":726,"./shape-star.svg":1276,"./shape-trapeze.svg":1284,"./shape-triangle.svg":1272,"./sketch-48.svg":1306,"./sticker-48.svg":1342,"./sticker-rect.svg":1293,"./sticker.svg":603,"./stickers-recognition-48.svg":1385,"./stickers-recognition.svg":741,"./tables-and-charts-48.svg":1379,"./tables-and-charts.svg":1378,"./templates-48.svg":1384,"./templates.svg":604,"./text-48.svg":1343,"./text.svg":602,"./unsplash-48.svg":1386,"./unsplash.svg":620,"./upload-48.svg":1365,"./upload-from-device.svg":901,"./upload-via-url-48.svg":2278,"./upload-via-url.svg":902,"./upload.svg":880,"./usm-48.svg":1357,"./usm.svg":737,"./voting.svg":878,"./wireframes-48.svg":1351,"./wireframes.svg":895};function o(t){var e=r(t);return n(e)}function r(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id=5224},5225:function(t,e,n){"use strict";(function(t){var i=n(21),o=n(60),r=n(34),a=n(26),s=n(362),c=n(137),l=function(e){function s(){var t=e.call(this,n(5226),42,"cm-hor-frame-free")||this;return t.timeout=0,t.setTooltip("freeform"),t}return Object(i.d)(s,e),s.prototype.setVisibleOnScreen=function(e){var n=this;t.mobileApp||Object(r.a)().achievements.isOpened(o.a.FRAME_GRID_TIP)||(e?this.timeout=setTimeout(function(){a.Di(),n.timeout=0,Object(c.d)().then(function(t){t.runTip(c.c.FRAME_GRID_TIP,!0,function(){Object(r.a)().achievements.open(o.a.FRAME_GRID_TIP)})})}):this.timeout&&(clearTimeout(this.timeout),this.timeout=0))},s}(s.a);e.a=l}).call(this,n(0))},5226:function(t,e){t.exports="#img__cm-frame-grid-1"},5227:function(t,e,n){"use strict";(function(t,i){var o=n(21),r=n(437),a=n(5228),s=function(e){function s(){var o=e.call(this,n(5229),42,"cm-hor-frame-grid")||this;return o.setTooltip("grid"),o.previewLayer=new a.a,t.isTouchSupportedAndNotDesktop||setTimeout(function(){var t=i("#cm-hor-frame-grid");t&&(t.mouseenter(function(){o.previewLayer.showPreview(r.a.HEAP_GRID)}),t.mouseleave(function(){o.previewLayer.hidePreview()}))}),o}return Object(o.d)(s,e),s}(n(362).a);e.a=s}).call(this,n(0),n(36))},5228:function(t,e,n){"use strict";var i=n(21),o=n(27),r=n.n(o),a=n(22),s=n(31),c=n(194),l=n(138),u=n(437),h=function(t){function e(){var e=t.call(this)||this;return e.showPreviewTimeoutId=null,e.formatPreview=new r.a.Graphics,e.formatPreview.visible=!1,a.canvasLayers.addLayer("containerTypePreview",e,l.a.FRAME_FORMAT_PREVIEW,!1,!1,!1),e.visible=!1,e}return Object(i.d)(e,t),e.prototype.showPreview=function(t){var e=this;this.clearTimeout(),t!=u.a.FREE&&(this.showPreviewTimeoutId=setTimeout(function(){e.showTypePreview(t)},100))},e.prototype.showTypePreview=function(t){var e=a.mySelection.singleSelection;if(e&&!e.asContainer.existingChildren.length){this.showPreviewTimeoutId=null;var n,i,o,r,l=e.bounds,u=s.n(l),h=Math.min(l.width,l.height),p=20;do{o=.3*(p*=2),r=p+2*(i=.1*p),n=Math.floor((h-2*o)/r)}while(n>8);var d=Math.floor((l.width-2*o)/r),g=Math.floor((l.height-2*o)/r);i*=a.canvasController.canvasScale,o*=a.canvasController.canvasScale,p*=a.canvasController.canvasScale,r*=a.canvasController.canvasScale,this.clear(),this.beginFill(c.e,.2);for(var f=u.y+o+i,m=0;m<g;m++){for(var y=u.x+o+i,v=0;v<d;v++)this.drawRect(y,f,p,p),y+=r;f+=r}this.visible=!0}else this.hidePreview()},e.prototype.hidePreview=function(){this.clearTimeout(),this.visible=!1},e.prototype.clearTimeout=function(){null!==this.showPreviewTimeoutId&&(clearTimeout(this.showPreviewTimeoutId),this.showPreviewTimeoutId=null)},e}(r.a.Graphics);e.a=h},5229:function(t,e){t.exports="#img__cm-frame-grid-2"},5230:function(t,e){t.exports="#img__zoom-out"},5231:function(t,e){t.exports="#img__cm-link-arrowhead-0"},5232:function(t,e){t.exports="#img__cm-link-arrowhead-1"},5233:function(t,e){t.exports="#img__cm-link-arrowhead-2"},5234:function(t,e){t.exports="#img__cm-link-arrowhead-3"},5235:function(t,e){t.exports="#img__cm-link-arrowhead-4"},5236:function(t,e){t.exports="#img__cm-link-arrowhead-5"},5237:function(t,e){t.exports="#img__cm-link-arrowhead-6"},5238:function(t,e){t.exports="#img__cm-link-arrowhead-7"},5239:function(t,e){t.exports="#img__cm-link-arrowhead-8"},5240:function(t,e,n){"use strict";var i=n(21),o=n(130),r=n(109),a=n(5241),s=function(t){function e(){var e=t.call(this,"cmih-convert-to-jira-issue")||this;return e.controller=new c(e),e.init(),e}return Object(i.d)(e,t),e}(o.a);e.a=s;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),Object.defineProperty(e.prototype,"icon",{get:function(){return a},enumerable:!0,configurable:!0}),e}(r.a)},5241:function(t,e){t.exports="#convert2jiraissue__convert-2-jiraissue"},5242:function(t,e){t.exports="#img__cm-caption-horiz"},5243:function(t,e){t.exports="#img__cm-caption-add"},641:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(22),o=[];function r(t,e,n){if(t&&t.length)if(n){var r=!0;t.forEach(function(t,e){return i.styleController.changeStyle([t],o[e],!1)}),1==t.length&&t[0].isEditable()&&t[0].isEditMode()&&(r=!1),i.styleController.changeStyle(t,e,r),o=[]}else o.length||(o=t.map(function(t){return t.getStyle()})),i.styleController.changeStyle(t,e,!1)}},761:function(t,e){t.exports="#newlayout__cm-add-swimlane"},762:function(t,e){t.exports="#newlayout__cm-text-panel-valign"},948:function(t,e,n){"use strict";var i=n(21),o=n(68),r=n(51),a=n(949),s=n(75),c=function(t){function e(){var e=t.call(this)||this;return e.item.setIcon("text-panel-bg"),e.item.setTooltip("Fill color"),e}return Object(i.d)(e,t),Object.defineProperty(e.prototype,"styleNames",{get:function(){return[r.a.BACKGROUND_COLOR,r.a.SHAPE_COLOR]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colors",{get:function(){return o.r(this.isUseTransparentColor())},enumerable:!0,configurable:!0}),e.prototype.isUseTransparentColor=function(){return!0},e.prototype.onChange=function(e,n,i){t.prototype.onChange.call(this,e,n,i),n&&this.sendStat(e)},e.prototype.sendStat=function(t){s.a.onFontBackgroundChanged(this._widgets,t)},e}(a.a);e.a=c},949:function(t,e,n){"use strict";var i=n(21),o=n(406),r=n(22),a=n(68),s=n(641),c=n(83),l=function(t){function e(){var e=t.call(this)||this;return e.item.setIcon(e.iconName),e.item.setColors(e.colors),e.item.setColorChangedListener(e.onChange,e),a.c.add(function(){return e.item.setColors(e.colors)}),e}return Object(i.d)(e,t),Object.defineProperty(e.prototype,"colors",{get:function(){return a.h},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconName",{get:function(){return"text-panel-color"},enumerable:!0,configurable:!0}),e.prototype.setStyle=function(t){this.item.setColor(t)},e.prototype.updateItem=function(t){var e=this;if(t){var n=c.f(t,function(t){var n=e.getWidgetStyle(t);return e.getStyleValue(n)});this.setStyle(n)}},e.prototype.onChange=function(t,e,n){if(this._widgets){var i=this.createStyleObject(t);this._widgets[0].isEditMode()?r.styleController.changeStyle(this._widgets,i,!1):s.a(this._widgets,i,e)}e&&!n&&this.item.hideSubmenu()},e.prototype.updateItemProperties=function(t){t.onChange&&this.item.setColorChangedListener(t.onChange,this)},e}(o.a);e.a=l},950:function(t,e){t.exports="#newlayout__cm-launch"},951:function(t,e){t.exports="#newlayout__cm-add-column"},952:function(t,e){t.exports="#newlayout__cm-font_family_cursive"},953:function(t,e){t.exports="#newlayout__cm-font_family_normal"},954:function(t,e){t.exports="#newlayout__cm-gif-play"},955:function(t,e){t.exports="#newlayout__info"},956:function(t,e,n){"use strict";n.d(e,"b",function(){return h}),n.d(e,"a",function(){return p});var i=n(21),o=n(66),r=n(37),a=n(911),s=n(22),c=n(336),l=n(35),u=n(230),h=30,p="Please deselect some objects to enable objects conversion",d=function(t){function e(){var e=t.call(this)||this;return e.locked=!1,e.item=e.initItem(),e.item.setTooltip("Switch type"),e.item.setDisabledTooltip(p),e.item.setWidgetTypeChangeListener(e.onChange,e),e}return Object(i.d)(e,t),e.prototype.updateItem=function(t){var e=t[0],n=e.widgetType,i=e.shapeType;this.item.setWidgetType(n,i),this.item.disabled=t.length>h},e.prototype.onChange=function(t,e){var n=this;this.locked=!0;var i=this._widgets;if(i.length>=2){var o=Object(l.a)().show({text:"Please wait\u2026"});setTimeout(function(){return n.convert(i,t,e,o)})}else this.convert(i,t,e);c.h(t),c.g(e),t===r.a.SHAPE&&c.f(e)},e.prototype.convert=function(t,e,n,i){var o=this,r=!1,c=Object(u.a)().currentGroup,h=Object(a.a)().convert(t,e,n);s.mySelection.clearSelection(),h.forEach(function(t){c&&!r&&t.group&&(r=!0,Object(u.a)().currentGroup=t.group),s.mySelection.addToSelection([t])}),setTimeout(function(){s.mySelection.updateProperties(),Object(l.a)().hide(i),o.locked=!1})},e.prototype.updateItemProperties=function(t){t.onChange&&this.item.setWidgetTypeChangeListener(t.onChange,this)},e}(o.a);e.c=d},957:function(t,e,n){"use strict";var i=n(21),o=n(406),r=n(83),a=n(51),s=n(75),c=function(t){function e(){var e=t.call(this)||this;return e.setDefProperties(),e}return Object(i.d)(e,t),e.prototype.setDefProperties=function(){this.item.setSizeListener(this.onChange,this),this.item.setMaxSize(999)},Object.defineProperty(e.prototype,"styleNames",{get:function(){return[a.a.FONT_SIZE]},enumerable:!0,configurable:!0}),e.prototype.onChange=function(e,n){t.prototype.onChange.call(this,e,n),s.a.onFontSizeChanged(this._widgets,e)},e.prototype.setStyle=function(t){this.item.setMaxSize(Math.max(t,999)),this.item.setSize(t)},e.prototype.updateProperties=function(){this.item.needUpdateProperties()&&t.prototype.updateProperties.call(this,!0)},e.prototype.updateItem=function(t){var e=this;if(t){var n=r.f(t,function(t){var n=e.getWidgetStyle(t);return e.getStyleValue(n)});this.setStyle(n)}},e.prototype.updateItemProperties=function(t){t.onChange&&this.item.setSizeListener(t.onChange,this)},e}(o.a);e.a=c},958:function(t,e,n){"use strict";var i=n(21),o=n(22),r=n(56),a=n(594),s=n(65),c=n(66),l=n(37),u=function(t){function e(){var e=t.call(this)||this;return e.item=e.initItem(),e.item.setClickHandler(e.onClick,e,!1),e.item.setTooltip("Edit"),e.item.setItemId("edit-horiz-item"),e}return Object(i.d)(e,t),e.prototype.onClick=function(){var t=o.mySelection.singleSelection;setTimeout(function(){t.widgetType===l.a.CARD?Object(r.a)().getTool()!==s.a.CURSOR?(Object(a.a)(),Object(a.b)(t)):t.expand():t&&t.isEditable()&&(Object(r.a)().getTool()!==s.a.CURSOR&&Object(a.a)(),Object(a.b)(t))})},e}(c.a);e.a=u}}]);
//# sourceMappingURL=cmn~BoaUI.des~BoaUI.mob~BoaUI.web.d3a89c52e2424d1f9657.js.map
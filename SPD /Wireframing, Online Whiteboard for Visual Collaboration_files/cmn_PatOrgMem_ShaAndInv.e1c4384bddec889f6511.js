(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{1480:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return c});var r=n(341),o=n(33),s=n(134),a="Please choose one or more teams to invite new members.";function i(e,t){var n=Object(o.M)(e),r=Object(o.O)(e);if(Object(o.y)(t)&&!Object(o.Q)(e,s.a.FREE_RESTRICTED_LICENSE_MEMBERS))return{caption:"You're adding new users as Occasional Members",text:"Occasional Members consume Day Passes from your "+n+" Plan subscription only for days when they are working on boards. You can change a user's license later."};var a="Full Members take Full licenses from your "+n+" Plan subscription.";return Object(o.Q)(e,s.a.FULL_LICENSE_UNLIMITED_MEMBERS)||(a+=" You have "+r+" Full license"+(1===r?"":"s")+" remaining vacant."),{caption:"You're adding new users as Full Members",text:a}}function u(e,t){return'<strong class="rtb-h5">Occasional license</strong><br/><p>Users will consume <a class="rtb-link rtb-link--primary" target=\'_blank\' href="'+(t===r.a.CONSULTANT_SLF?"https://help.miro.com/hc/en-us/articles/360017571814":"https://help.miro.com/hc/en-us/articles/360017730173-Occasional-License")+'">Day Passes</a> as they work on boards they have permission to edit.</p>'}function c(e,t){return'<strong class="rtb-h5">Full license</strong><br/><p>Users will occupy a Full license in your '+e+" Plan.<br/>You have "+t+" Full license"+(1===t?"":"s")+" remaining.</p>"}},1481:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(25),o=n(116),s=n(938);function a(){Object(r.b)().component("rtbLicenseSelection",Object(o.b)(s.a,["className","organization","value","onChange","dayPasses"]))}},419:function(e,t,n){"use strict";var r=n(86),o=n.n(r),s=0,a=function(e,t){return-1!=e.indexOf(t)},i=function(){function e(){this.cachedResultsByQuery={},this.sources=[],this.cacheEnabled=!0,this.sourceLimit=10,this.suggestionsLimit=5}return e.prototype.configure=function(e,t,n,r){void 0===r&&(r=a),this.comparer=r,this.validator=t,this.duplicatesCleaner=n,this.setSources(e)},e.prototype.setSources=function(e){var t=this;this.sources=e,this.sources.forEach(function(e){return e.validator=t.validator})},e.prototype.getSuggestions=function(e){var t=this;if(e=e.toLowerCase().trim(),0==this.sources.length)return Promise.reject("SuggestionsProvider must have at least one source");if(0==e.length)return Promise.resolve(this.wrapSuggestions([]));if(this.cacheEnabled){var n=this.findCachedResult(e);return n&&n.query==e?Promise.resolve(this.wrapSuggestions(n.data)):n&&n.allSourcesExhausted?Promise.resolve(this.wrapSuggestions(this.findSuggestionsInResult(e,n))):this.getSuggestionsFromSources(e).then(function(e){return t.wrapSuggestions(e)})}return this.getSuggestionsFromSources(e).then(function(e){return t.wrapSuggestions(e)})},e.prototype.getAllSuggestions=function(e){var t=this;void 0===e&&(e=!0);var n=this.sources.map(function(e){return e.getAllSuggestions()});return Promise.all(n).then(function(e){return t.removeDuplicates([].concat.apply([],e))}).then(function(n){return t.wrapSuggestions(n,e)})},e.prototype.clearCachedResults=function(){this.cacheEnabled&&(this.cachedResultsByQuery={})},e.prototype.appendSuggestionToCache=function(e){for(var t in this.cachedResultsByQuery)this.validator(e,t)&&this.cachedResultsByQuery[t].data.push(e)},e.prototype.findCachedResult=function(e){var t="";for(var n in this.cachedResultsByQuery)this.comparer(e,n)&&n.length>t.length&&(t=n);return""==t?null:this.cachedResultsByQuery[t]},e.prototype.findSuggestionsInResult=function(e,t){var n=this;return o()(t.data).filter(function(t){return n.validator(t,e)})},e.prototype.wrapSuggestions=function(e,t){void 0===t&&(t=!0);var n=t?e.slice(0,this.suggestionsLimit):e;return{id:++s,data:o()(n)}},e.prototype.getSuggestionsFromSources=function(e){var t=this,n=this.sources.map(function(n){return n.getSuggestions(e,t.sourceLimit)});return Promise.all(n).then(function(n){var r=t.removeDuplicates([].concat.apply([],n)),o={query:e,allSourcesExhausted:n.every(function(e){return e.length<t.sourceLimit}),data:r};return t.cacheResult(o),r})},e.prototype.cacheResult=function(e){this.cacheEnabled&&(this.cachedResultsByQuery[e.query]=e)},e.prototype.removeDuplicates=function(e){return this.duplicatesCleaner(e)},e}();t.a=i},420:function(e,t,n){"use strict";n.d(t,"e",function(){return s}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return u}),n.d(t,"a",function(){return c});var r=n(678),o=n.n(r);function s(e,t){var n=e.name&&e.name.toLowerCase()||"",r=e.email&&e.email.toLowerCase()||"";return-1!=n.indexOf(t)||-1!=r.indexOf(t)}function a(e,t){var n=(e.name||"").replace(new RegExp(" ","gmi"),"_"),r=e.name&&e.name.split(" ")||[],o=e.email&&e.email.split("@")||[],s=o[0]||"",a=o[1]||"";return a&&(a=a.substring(0,a.lastIndexOf("."))),r.concat(s,a,n).filter(function(e){return!!e}).some(function(e){return 0==e.toLowerCase().indexOf(t)})}function i(e,t){return!!e.title&&-1!=e.title.toLowerCase().indexOf(t)}function u(e){var t=[],n={};return e.forEach(function(e){e.email=e.email.toLowerCase(),void 0!==n[e.email]?e.name&&e.name.length&&(t[n[e.email]]=e):(t.push(e),n[e.email]=t.length-1)}),t}function c(e){return o()(e,"id")}},4453:function(e,t,n){var r=n(4454);"string"===typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(24)(r,o);r.locals&&(e.exports=r.locals)},4454:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".rtb-license-selection__hint {\n  margin-top: 17px;\n  color: #827f9b;\n}\n",""])},491:function(e,t,n){"use strict";var r=n(21),o=n(378),s=function(){function e(){}return e.prototype.isSupported=function(){return!1},e.prototype.saveSuggestions=function(e){},e.prototype.getSuggestions=function(){return[]},e}(),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.setStorage=function(e){t._storage=e},Object.defineProperty(t,"storage",{get:function(){return t._storage||(console.warn("Local suggestions storage is not defined."),t._storage=new s),t._storage},enumerable:!0,configurable:!0}),t.prototype.getSuggestions=function(e,n){var r=t.storage;if(r.isSupported()){e=e.toLowerCase();var o=r.getSuggestions();if(o){var s=o.filter(function(t){return-1!=t.indexOf(e)});return Promise.resolve(this.prepareData(s,n))}return Promise.resolve([])}return Promise.resolve([])},t.prototype.getAllSuggestions=function(){return Promise.resolve([])},t.prototype.prepareData=function(e,t){for(var n=[],r=0;r<e.length&&r<t;r++)n.push({email:e[r],name:""});return n},t.addEmail=function(e){var n=t.storage;if(n.isSupported()){e=(e||"").toLowerCase().trim();var r=n.getSuggestions();r?-1===r.indexOf(e)&&r.push(e):r=[e],n.saveSuggestions(r)}},t}(o.a);t.a=a},678:function(e,t,n){var r=n(479),o=n(780);e.exports=function(e,t){return e&&e.length?o(e,r(t,2)):[]}},759:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.DONT_NEED_OPERATION=1]="DONT_NEED_OPERATION"}(r||(r={}))},938:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(21),o=n(43),s=n(414),a=n(187),i=n(33),u=n(1480),c=n(134),l=n(1135),p=(n(4453),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.radioButtons=[{autotestId:"full-license-radio",value:a.a.FULL,getLabel:t.renderFullLicenseLabel},{autotestId:"occasional-license-radio",value:a.a.OCCASIONAL,getLabel:t.renderOccasionalLicenseLabel}],t}return Object(r.d)(t,e),t.prototype.renderFullLicenseLabel=function(e){var t=Object(i.M)(e),n=Object(i.O)(e);return o.React.createElement("span",{dangerouslySetInnerHTML:{__html:Object(u.c)(t,n)}})},t.prototype.renderOccasionalLicenseLabel=function(e){var t=Object(i.M)(e);return o.React.createElement("span",{dangerouslySetInnerHTML:{__html:Object(u.d)(t,e.type)}})},t.prototype.renderDefaultMessageComponent=function(e){return o.React.createElement("div",null,o.React.createElement("div",{className:"rtb-modal-caption rtb-modal-caption--small"},o.React.createElement("svg",{className:"icon rtb-icon--primary"},o.React.createElement("use",{xlinkHref:n(157)})),o.React.createElement("span",{"data-autotest-id":"inviteNewMembersModalMsg"},e.caption)),o.React.createElement("p",{dangerouslySetInnerHTML:{__html:e.text}}))},t.getDefaultLicense=function(e,t){var n=Object(i.ob)(e);return Object(i.Q)(e,c.a.FREE_RESTRICTED_LICENSE_MEMBERS)?{license:"auto",readonlyLicenseForNewUsers:!1}:!n&&Object(i.y)(t)?{license:a.a.OCCASIONAL}:{license:a.a.FULL}},t.prototype.onChangeCheckbox=function(e){this.props.onChange({license:"auto",readonlyLicenseForNewUsers:e})},t.prototype.onChangeManual=function(e){this.props.onChange({license:e})},t.prototype.renderEditingRights=function(e){var t="auto"===e.license&&e.readonlyLicenseForNewUsers;return o.React.createElement(o.React.Fragment,null,o.React.createElement(l.a,{name:"editRights",label:"Invite without editing rights (free)",checked:t,onChange:this.onChangeCheckbox}))},t.prototype.wrapComponent=function(e){return o.React.createElement("div",null,o.React.createElement("div",{className:"hr"}),e)},t.prototype.renderOldForm=function(e){var t=this;return this.radioButtons.map(function(n){return o.React.createElement(s.a,{label:n.getLabel(t.props.organization),checked:e.license===n.value,value:n.value,dataAutotestId:n.autotestId,key:n.autotestId,onChange:t.onChangeManual})})},t.prototype.render=function(){var e=this.props,t=e.organization,n=e.value,r=e.dayPasses;if(!n)return null;var o=Object(i.ob)(t),s=Object(i.Q)(t,c.a.FREE_RESTRICTED_LICENSE_MEMBERS),a=Object(i.y)(r);if(o&&(s||a))return s?this.wrapComponent(this.renderEditingRights(n)):this.wrapComponent(this.renderOldForm(n));if(Object(i.Q)(t,c.a.FREE_LICENSE_MEMBERS))return null;var l=Object(u.b)(t,r);return this.wrapComponent(this.renderDefaultMessageComponent(l))},Object(r.c)([o.decorators.autobind],t.prototype,"onChangeCheckbox",null),Object(r.c)([o.decorators.autobind],t.prototype,"onChangeManual",null),t}(o.React.PureComponent))}}]);
//# sourceMappingURL=cmn~PatOrgMem~ShaAndInv.e1c4384bddec889f6511.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{1455:function(t,n){t.exports='<div class="tabs">\n    <div class="tabs__header" ng-class="headerClass">\n        <div class="tabs__header-selector"></div>\n        <ul class="tabs__header-list">\n            <li class="tab" ng-repeat="tab in tabs"\n                data-autotest-id="{{tab.dataAutotestId}}"\n                hm-tap="tabClick($event, tab)"\n                ng-class="{\'tab--active\': tab.isActive}">\n                <div class="tab__text" data-badge="{{tab.badge}}" ng-class="{\'tab__badge\': !!tab.badge}">{{ ::tab.title }}</div>\n            </li>\n        </ul>\n    </div>\n    <div class="tabs__content" ng-class="contentClass">\n        <ng-transclude></ng-transclude>\n    </div>\n</div>'},1456:function(t,n,e){var i=e(1457);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},1457:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".tabs .tabs__header {\n  position: relative;\n  padding: 0 20px 0 50px;\n  border-bottom: 1px solid #e1e0e7;\n}\n.tabs .tabs__header-list {\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  -ms-flex-pack: start;\n      justify-content: flex-start;\n  -ms-flex-wrap: nowrap;\n      flex-wrap: nowrap;\n}\n.tabs .tab {\n  display: inline-block;\n  margin-right: 40px;\n  font-size: 16px;\n  color: #827f9b;\n  cursor: pointer;\n  transition-duration: 0.6s;\n  white-space: nowrap;\n}\n.tabs .tab:hover,\n.tabs .tab.tab--active {\n  color: #050038;\n}\n.tabs .tab__text {\n  display: inline-block;\n  padding: 20px 0 14px 0;\n}\n.tabs .tab__badge:after {\n  content: attr(data-badge);\n  display: inline-block;\n  height: 16px;\n  min-width: 16px;\n  margin-left: 4px;\n  padding: 0 4px;\n  box-sizing: border-box;\n  border-radius: 8px;\n  background-color: #4262ff;\n  color: #fff;\n  text-align: center;\n  line-height: 16px;\n  font-size: 9px;\n}\n.tabs .tabs__header-selector {\n  position: absolute;\n  top: calc(100% - 1px);\n  left: 0;\n  z-index: 1;\n  display: inline-block;\n  height: 2px;\n  background-color: #4262ff;\n}\n.tabs .tabs__header-selector--animated {\n  transition-duration: 0.6s;\n  transition-timing-function: cubic-bezier(0, 0, 0.2, 1);\n}\n",""])},1495:function(t,n){t.exports="#img__icon-notes"},1554:function(t,n,e){var i=e(1555);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},1555:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".notes-wrapper {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n}\n",""])},1556:function(t,n){t.exports='<div class="notes-wrapper">\n    <notes-panel ng-if="ctrl.docLoaded"></notes-panel>\n</div>'},1579:function(t,n,e){"use strict";var i=e(25),o=e(30),s=e(192),a=function(){function t(t){var n=this;this.$scope=t,Object(s.a)().then(function(t){n.docLoaded=!0,n.$scope.safeApply()})}return t.$inject=["$scope","$element"],t}();n.a=function(){e(1554),Object(i.b)().directive("notesWrapper",r)};function r(){return Object(o.a)({restrict:"E",template:e(1556),controller:a,controllerAs:"ctrl"})}},2341:function(t,n){t.exports="#img__toggle-frame"},2342:function(t,n,e){"use strict";n.a={LIST:"list",BAR:"bar"}},2343:function(t,n){t.exports="#img__company-bold"},2344:function(t,n){t.exports="#img__snap-24"},2345:function(t,n){t.exports="#img__account-settings-24"},2346:function(t,n){t.exports="#img__mention-24"},243:function(t,n){t.exports="#img__miro-text-logo"},377:function(t,n,e){"use strict";var i=e(30),o=e(25),s=e(487);function a(){return Object(i.a)({restrict:"E",template:s,scope:{width:"=",color:"=",strokeWidth:"="},link:function(t){t.spinner={width:t.width,color:t.color,strokeWidth:t.strokeWidth}}})}n.a=function(){return e(488),Object(o.b)().directive("materialSpinner",a),s}},487:function(t,n){t.exports='<div class="rtb-material-spinner" ng-style="{\'width\': spinner.width}">\n    <svg class="rtb-material-spinner-circular" viewBox="25 25 50 50">\n        <circle class="rtb-material-spinner-path"\n                ng-style="{\'stroke\': spinner.color, \'stroke-width\': spinner.strokeWidth}"\n                cx="50"\n                cy="50"\n                r="20"\n                fill="none"\n                stroke-width="2"\n                stroke-miterlimit="10"></circle>\n    </svg>\n</div>'},488:function(t,n,e){var i=e(489);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},489:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".rtb-material-spinner {\n  position: relative;\n  margin: 0 auto;\n  width: 40px;\n}\n.rtb-material-spinner:before {\n  content: '';\n  display: block;\n  padding-top: 100%;\n}\n.rtb-material-spinner-circular {\n  animation: rotate 2s linear infinite;\n  height: 100%;\n  transform-origin: center center;\n  width: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n}\n.rtb-material-spinner-path {\n  stroke-dasharray: 1, 200;\n  stroke-dashoffset: 0;\n  animation: dash 1.5s ease-in-out infinite;\n  stroke-linecap: round;\n  stroke: #4262ff;\n}\n.rtb-material-spinner--white .rtb-material-spinner-path {\n  stroke: #fff;\n  stroke-width: 4;\n}\n@keyframes rotate {\n  100% {\n    transform: rotate(360deg);\n  }\n}\n@keyframes dash {\n  0% {\n    stroke-dasharray: 1, 200;\n    stroke-dashoffset: 0;\n  }\n  50% {\n    stroke-dasharray: 89, 200;\n    stroke-dashoffset: -35px;\n  }\n  100% {\n    stroke-dasharray: 89, 200;\n    stroke-dashoffset: -124px;\n  }\n}\n",""])},5347:function(t,n,e){var i=e(5348);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5348:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".frames-navigator {\n  display: -ms-flexbox;\n  display: flex;\n  position: absolute;\n  bottom: 8px;\n}\n.frames-navigator .svg-button {\n  width: 48px;\n}\n.frames-navigator .next-frame-button svg {\n  transform: rotate(180deg);\n}\n.frames-navigator__title {\n  padding: 0 4px;\n  line-height: 48px;\n  font-weight: bold;\n  text-align: center;\n  font-size: 12px;\n  color: #050038;\n}\n.frames-navigator__exit {\n  margin-right: 8px;\n  line-height: 46px;\n}\n.play-presentation-button {\n  width: 40px;\n  margin-left: 8px;\n}\n.stop-presentation-button {\n  width: 40px;\n  margin-left: 8px;\n  font-weight: bold;\n}\n.stop-presentation-button span {\n  margin-top: -2px;\n}\n",""])},5349:function(t,n,e){t.exports='<div class="board-panel--transparent frames-navigator board-panel--hidden-bottom"\n     ng-show="hasFrames()"\n     bottom-panel-positioner>\n    <div class="svg-button play-presentation-button"\n         tooltip="Present"\n         ng-show="!isPresentMode()"\n         hm-tap="enterPresentMode()">\n        <svg   ><use xlink:href="'+e(5350)+'"></use></svg>\n    </div>\n    <div class="svg-button stop-presentation-button"\n         ng-show="isPresentMode()"\n         hm-tap="exitPlayMode()">\n        <span>Exit</span>\n    </div>\n    <div class="svg-button"\n         ng-class="{\'svg-button--disabled\': getCurrentFrameIndex() === 0 }"\n         hm-tap="previousFrame()">\n        <svg   ><use xlink:href="'+e(2341)+'"></use></svg>\n    </div>\n    <div class="frames-navigator__title">\n        {{ getCurrentFrameIndex() + 1 }} of {{ getFramesCount() }}\n    </div>\n    <div class="svg-button next-frame-button"\n         ng-class="{\'svg-button--disabled\': getCurrentFrameIndex() >= getFramesCount() - 1 }"\n         hm-tap="nextFrame()">\n        <svg   ><use xlink:href="'+e(2341)+'"></use></svg>\n    </div>\n</div>'},5350:function(t,n){t.exports="#img__frames-play"},5351:function(t,n,e){"use strict";(function(t){var i=e(231),o=e(212),s=e(143),a=e(81),r=e(2342),c=e(26),l=s.b(),d=i.b(),p="rtb-frames-panel",u=function(){function n(n){this.$scope=n;var e=l();n.isFramesVisible=function(){return e.getVisible()},n.getFrames=function(){return e.getFrames()},n.canEditFrames=function(){return e.canEditFrames()},n.getFramesCount=function(){return e.getFrames().length},n.hasFrames=function(){return e.hasFrames()},n.PANEL_MODE_BAR=r.a.BAR,n.PANEL_MODE_LIST=r.a.LIST,n.isTouchSupported=t.isTouchSupported,n.desktop=t.desktop;var i=function(){return n.safeApply()};e.framesPreviewsGenerated.add(i),n.$on("$destroy",function(){e.framesPreviewsGenerated.remove(i),c.Ef("closed")}),n.setFocus=function(){d().setFocus(o.a.FRAMES)},n.toggleVisible=function(){return e.toggleVisible()},n.createFrame=function(t){t.preventDefault(),t.stopPropagation(),e.createFrame()},n.selectFrameOnMobile=function(t,n){t.preventDefault(),e.selectFrame(n.index,!1),e.jumpToFrame(n.index,!0)},n.mode=a.a(p)||n.PANEL_MODE_BAR,n.setMode=function(t){n.mode=t,a.f(p,t),c.Ff(t)},c.Ef("opened")}return n.$inject=["$scope"],n}();n.a=u}).call(this,e(0))},5352:function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return h});var i=e(30),o=e(231),s=e(212),a=e(143),r=e(5353),c=e(1765),l=e(22),d=e(25),p=e(5354),u=a.b(),g=o.b();function h(){Object(p.a)(),Object(d.b)().directive("framesList",b)}var m=function(){function t(t){t.sortableType=c.a.FRAMES}return t.$inject=["$scope"],t}();function b(){return Object(i.a)({restrict:"E",template:e(5357),controller:m,scope:{editable:"=",frames:"=",mode:"="},link:function(n){n.isEditMode=function(){return u().canEditFrames()&&-1===u().editingFrameIndex},n.isSortGoing=!1,n.menu=new r.a,n.$on("$destroy",function(){n.menu.destroy()});var e=u();t("#list-frames");n.onSortStart=function(){n.isSortGoing=!0,u().deselectFrame(),g().setFocus(s.a.FRAMES),n.safeApply()},n.onSortStop=function(t,e){n.isSortGoing=!1,u().swapFrames(t,e),n.safeApply()},n.selectFrame=function(t){e.selectFrame(t.index,!1),e.jumpToFrame(t.index,!0),l.mySelection.removeFromSelection(e.framesList.items)},n.getSelectedFrameIndex=function(){return e.getSelectedFrameIndex()},n.$on("$destroy",function(){e.resetGenerationQueue(),null})}})}}).call(this,e(36))},5353:function(t,n,e){"use strict";var i=e(21),o=e(395),s=e(232),a=e(143),r=e(734),c=e(123),l=e(59),d=e(87),p=e(281),u=e(237),g="You don't have the permission to create and edit frames.",h=a.b(),m=function(t){function n(){var n=t.call(this,!0,"frames-list-menu")||this;return n.offsetY=0,n.buildMenu(),n}return Object(i.d)(n,t),n.prototype.buildMenu=function(){var t=this;this.renameItem=new s.a("Rename"),this.renameItem.setClickHandler(function(){t.startEditNameListener(),t.hide()}),this.addItem(this.renameItem),this.imageExportItem=new s.a("Export as image"),this.imageExportItem.setClickHandler(function(){Object(d.a)().leftSidebar.toggle(l.a.FRAMES,{byUser:!0}),t.currentFrame.exportAsImage(),t.hide()}),this.addItem(this.imageExportItem),this.imageExportItem.disabled=!0,this.imageExportItem.disabledTooltip="",this.csvExportItem=new s.a("Export to CSV"),this.csvExportItem.disabled=!0,this.csvExportItem.disabledTooltip="",this.csvExportItem.setClickHandler(function(){Object(p.b)().then(function(n){n.saveFrameAsCSV(t.currentFrame),t.hide()})}),this.addItem(this.csvExportItem),this.addBelowItem=new s.a("Add frame below"),this.addBelowItem.setClickHandler(function(){var n=h().createFrame(t.currentFrame.index);h().startEditFrameName(n.index),t.hide()}),this.addItem(this.addBelowItem);var n=new s.a("Copy link");n.setClickHandler(function(){Object(u.a)(c.d(t.currentFrame),{notifications:{successMessage:"Link copied"}}),t.hide()}),this.addItem(n),this.deleteItem=new s.a("Delete"),this.deleteItem.setClickHandler(function(){h().deleteFrameByIndex(t.currentFrame.index),t.hide()}),this.addItem(this.deleteItem)},n.prototype.getFrameIndex=function(){return this.currentFrame?this.currentFrame.index:null},n.prototype.needToHideOnViewportUpdated=function(){return!1},n.prototype.hide=function(){this.hideListener(),this.currentFrame=null,t.prototype.hide.call(this)},n.prototype.showMenu=function(t,n,e,i,o){this.startEditNameListener=i,this.hideListener=o,this.currentFrame=h().getFrameWidgetByIndex(e),this.configurePermissions(),this.offsetY=n,this.show(t)},n.prototype.configurePermissions=function(){var t=this,n=h().canEditFrames();this.renameItem.disabled=!n,this.renameItem.disabledTooltip=g,this.addBelowItem.disabled=!n,this.addBelowItem.disabledTooltip=g,this.deleteItem.disabled=!n,this.deleteItem.disabledTooltip=g,r.e().then(function(){var n=r.c();t.imageExportItem.disabled=n.disabled,t.imageExportItem.disabledTooltip=n.tooltip,t.csvExportItem.disabled=!r.a(),t.csvExportItem.disabledTooltip=r.b(),t.apply()})},n.prototype.correctShowPoint=function(t){var n=this.getBounds(),e=document.body.clientHeight,i={x:t.x,y:t.y};return i.x=t.x,i.y=t.y+this.offsetY,i.y+n.height+this.offsetY>e&&(i.y=t.y-n.height-this.offsetY),i},n}(o.a);n.a=m},5354:function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return d});var i=e(30),o=e(58),s=e(2342),a=e(22),r=e(143),c=e(25),l=r.b();function d(){Object(c.b)().directive("framesListItem",p)}function p(n){return Object(i.a)({restrict:"E",template:e(5355),scope:{frame:"=",selected:"=",editable:"=",menu:"=",mode:"="},link:function(i,r){var c=r.find(".frame-menu"),d=r.find(".title");i.settingsIcon=e(5356),i.editingName={value:i.frame.name},i.canShowMenu=function(){return i.editable&&(!i.frame.editing||i.menuButtonVisible)},i.menu.closed.add(function(){i.safeApply()}),i.$watch("selected",function(){i.selected&&r.scrollIntoView()}),i.startEditName=function(){i.editable&&n.addClass(d,"title--expanded").then(i.onTitleExpanded)},i.onTitleExpanded=function(){a.mySelection.forceStopCurrentAction(!1),i.editingName.value=i.frame.name,l().startEditFrameName(i.frame.index)},i.onKeyUp=function(t){[o.a.ENTER,o.a.ESCAPE].includes(t)&&i.stopEditName()},i.showMenuOnRightDown=function(t){3===t.which&&i.canShowMenu()&&i.showContextMenu(t)},i.stopEditName=function(){i.editable&&i.frame.editing&&(l().stopEditFrameName(),l().updateFrameName(i.frame.index,i.editingName.value),i.editingName.value="",n.removeClass(d,"title--expanded"))},i.preventDraggingOnContextMenuOpen=function(t){t.stopPropagation()},i.showContextMenu=function(t){var n,e;(t.stopPropagation(),i.menu.isVisible&&i.menu.getFrameIndex()===i.frame.index)?setTimeout(function(){i.menu.hide()}):(i.mode===s.a.BAR?(n=100,e=32):(n=124,e=34),setTimeout(function(){i.menu.showMenu({x:n,y:c.offset().top},e,i.frame.index,i.startEditName,p)}))},i.framePreview=l().getPreview(i.frame.index),r.find(".frame-preview")[0].appendChild(i.framePreview.value);var p=function(){i.menuButtonVisible=t.isTouchSupportedAndNotDesktop,i.safeApply()};p()}})}p.$inject=["$animate"]}).call(this,e(0))},5355:function(t,n,e){t.exports='<div class="item" ng-class="{selected: selected}" hm-tap-down="showMenuOnRightDown($event)">\n    <div class="frame-preview" ng-style="{\'background-image\':\'url(\'+framePreview.value+\')\'}">\n        <div class="loader" ng-show="framePreview.needGenerate">\n            <material-spinner></material-spinner>\n        </div>\n    </div>\n    <div class="title use-ng-animate" hm-doubletap="startEditName()">\n        <div class="title-inner">\n            <span class="symbol">{{ frame.index + 1 }}. </span>\n            <span class="list-frames__name" ng-show="!frame.editing" ng-attr-title="{{frame.name}}">{{frame.name}}</span>\n            <span class="list-frames__item--untitled" ng-show="!frame.editing && !frame.name">Untitled</span>\n            <span class="edit-frame"\n                  ng-if="frame.editing"\n                  ng-show-autofocus="frame.editing"\n                  ngs-focus-target=".edit-frame-input">\n                    <input type="text"\n                           class="edit-frame-input"\n                           ng-model="editingName.value"\n                           do-if-click-out="stopEditName()"\n                           ng-keyup="onKeyUp($event.keyCode)">\n                </span>\n        </div>\n    </div>\n    <div class="frame-menu svg-button"\n         ng-class="{\'frame-menu--visible\':menuButtonVisible, \'frame-menu--active\':menu.isVisible && menu.getFrameIndex() === frame.index}"\n         hm-tap-down="preventDraggingOnContextMenuOpen($event)"\n         hm-tap="showContextMenu($event)"\n         ng-show="canShowMenu()">\n        <svg   ><use xlink:href="'+e(300)+'"></use></svg>\n    </div>\n</div>'},5356:function(t,n,e){t.exports=e.p+"40ad457515684c381a2251f99a2efc54.svg"},5357:function(t,n){t.exports='<div class="frames-list-container">\n        <div id="list-frames" class="list"\n             no-prevent-default="true"\n             sortable-list\n             sortable-edit-mode="isEditMode()"\n             sortable-array="frames"\n             sortable-type="sortableType"\n             on-sort-start="onSortStart()"\n             on-sort-stop="onSortStop(oldIndex, newIndex)">\n            <div class="sortableItem"\n                 ng-class="{\'sortableItem--hover-disabled\':isSortGoing}"\n                 ng-repeat="frame in frames | orderBy:\'index\' as orderedResult track by frame.token">\n                <frames-list-item\n                        hm-tap="selectFrame(frame)"\n                        frame="frame"\n                        selected="getSelectedFrameIndex() === frame.index"\n                        editable="editable"\n                        menu="menu"\n                        mode="mode">\n                </frames-list-item>\n            </div>\n        </div>\n</div>'},5358:function(t,n,e){var i=e(5359);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5359:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".sidebar-frames {\n  width: 340px;\n  font-size: 14px;\n  box-sizing: border-box;\n}\n.sidebar-frames .ui-button {\n  height: 30px;\n}\n.sidebar-frames .ui-button__caption {\n  font-size: 14px;\n  line-height: 28px;\n}\n.sidebar-frames .frames-list-container {\n  height: 100%;\n}\n.sidebar-frames .frames-list-container .top-line {\n  margin-left: 12px;\n  margin-right: 12px;\n  background: rgba(0, 0, 0, 0.1);\n  height: 1px;\n  visibility: hidden;\n}\n.sidebar-frames .frames-list-container .top-line--visible {\n  visibility: visible;\n}\n.sidebar-frames .list {\n  overflow-x: hidden;\n  position: relative;\n  padding-top: 0;\n  padding-bottom: 0;\n  margin-bottom: 10px;\n  -webkit-overflow-scrolling: touch;\n  scrollbar-color: #827f9b transparent;\n  scrollbar-width: thin;\n}\n.sidebar-frames .list::-webkit-scrollbar {\n  width: 4px;\n  height: 4px;\n}\n.sidebar-frames .list::-webkit-scrollbar-thumb {\n  background-color: #827f9b;\n  border: 0 solid transparent;\n  border-radius: 2px;\n}\n.sidebar-frames .list::-webkit-scrollbar-track {\n  background-color: initial;\n}\n.sidebar-frames .list .paste-dummy {\n  position: absolute;\n  width: 100%;\n  background: #4262ff;\n  height: 2px;\n  display: none;\n}\n.sidebar-frames .list .draggable {\n  width: 100%;\n}\n.sidebar-frames .list .ghost {\n  position: fixed;\n  width: 340px;\n  opacity: 0.96;\n  z-index: 0 !important;\n}\n.sidebar-frames .list .ghost .frame-preview {\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n}\n.sidebar-frames .list .sortableItem--hover-disabled {\n  pointer-events: none;\n}\n.sidebar-frames .list .item {\n  cursor: pointer;\n  position: relative;\n}\n.sidebar-frames .list .item .title {\n  height: 100%;\n  overflow: hidden;\n}\n.sidebar-frames .list .item .title .text {\n  white-space: nowrap;\n}\n.sidebar-frames .list .item .title .text span {\n  overflow: hidden;\n}\n.sidebar-frames .list .item .list-frames__name {\n  white-space: pre;\n}\n.sidebar-frames .list .item .list-frames__item--untitled {\n  opacity: 0.4;\n}\n.sidebar-frames .list .item .frame-menu {\n  visibility: hidden;\n}\n.sidebar-frames .list .item .frame-preview {\n  display: none;\n}\n.sidebar-frames .list .item .frame-preview material-spinner {\n  top: 62px;\n}\n.sidebar-frames .list .item .settings {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 5px;\n  height: 10px;\n  padding: 13px 15px;\n  opacity: 0;\n  cursor: pointer;\n}\n.sidebar-frames .list .item:hover .settings,\n.sidebar-frames .list .item .settings--visible {\n  opacity: 0.6;\n}\n.sidebar-frames .list .item .settings:hover {\n  opacity: 0.8;\n}\n.sidebar-frames .list .item.selected {\n  background-color: rgba(0, 0, 0, 0.04);\n}\n.sidebar-frames .list .item input {\n  padding: 0;\n  background-color: inherit;\n}\n.sidebar-frames .list .dragged-top-shadow {\n  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);\n  background-color: #fff;\n}\n.sidebar-frames .list .dragged-bottom-shadow {\n  box-shadow: 0 -2px 4px 0 rgba(0, 0, 0, 0.1);\n}\n.sidebar-frames .frames-list-empty,\n.sidebar-frames .frames-list-full {\n  padding: 64px 0 0;\n  height: calc(100% - 128px) !important;\n  max-height: calc(100% - 128px) !important;\n}\n.sidebar-frames .frames-list-empty {\n  text-align: center;\n}\n.sidebar-frames .frames-list-empty .frames-list-empty__content {\n  position: relative;\n  top: 50%;\n  transform: translateY(-51%);\n}\n.sidebar-frames .frames-list-empty .frames-list-empty__content .frames-list-empty__picture {\n  display: block;\n  width: 116px;\n  height: 69px;\n  margin: auto;\n}\n.sidebar-frames .frames-list-empty .frames-list-empty__content .frames-list-empty__picture svg {\n  max-width: 100%;\n  max-height: 100%;\n}\n.sidebar-frames .frames-list-empty .frames-list-empty__content .frames-list-empty__description {\n  margin: 19px 0 24px;\n  opacity: 0.4;\n  font-family: OpenSans;\n  font-size: 14px;\n  text-align: center;\n  color: #000;\n}\n.sidebar-frames .frames-list-empty .frames-list-empty__content .frames-list-empty__create-button {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  margin: auto;\n}\n.sidebar-frames .frames-list-empty .frames-list-empty__content .frames-list-empty__create-button svg {\n  margin-left: 7px;\n  margin-right: 10px;\n  width: 26px;\n  height: 24px;\n  margin-top: -3px;\n}\n.sidebar-frames .frames-list-full .list {\n  height: 100%;\n  margin-bottom: 0;\n}\n.sidebar-frames .frames-list-full--bar .item {\n  box-sizing: border-box;\n  height: 185px;\n  padding: 8px 24px;\n  font-size: 12px;\n}\n.sidebar-frames .frames-list-full--bar .item .title,\n.sidebar-frames .frames-list-full--bar .item .title input {\n  height: 28px;\n  line-height: 28px;\n  font-size: 12px;\n}\n.sidebar-frames .frames-list-full--bar .item .title--editing {\n  min-width: 275px;\n}\n.sidebar-frames .frames-list-full--bar .item .title {\n  position: absolute;\n  bottom: 19px;\n  left: 33px;\n  overflow: hidden;\n  box-sizing: border-box;\n  min-width: 0;\n  max-width: 275px;\n  height: 28px;\n  font-size: 12px;\n  transition: min-width 0.15s cubic-bezier(0.2, 0.3, 0.25, 0.9);\n  white-space: nowrap;\n  padding: 0 8px;\n  border-radius: 2px;\n  background: rgba(0, 0, 0, 0.4);\n}\n.sidebar-frames .frames-list-full--bar .item .title .title-inner {\n  display: -ms-flexbox;\n  display: flex;\n  overflow: hidden;\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  color: #fff;\n}\n.sidebar-frames .frames-list-full--bar .item .title:not(.title--expanded) .title-inner {\n  -webkit-mask-image: linear-gradient(to right, #000 0px, #000 240px, transparent 260px);\n  mask-image: linear-gradient(to right, #000 0px, #000 240px, transparent 260px);\n}\n.sidebar-frames .frames-list-full--bar .item .title--expanded {\n  min-width: 275px;\n  background: rgba(0, 0, 0, 0.8);\n}\n.sidebar-frames .frames-list-full--bar .item .symbol {\n  margin-right: 0.4em;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n}\n.sidebar-frames .frames-list-full--bar .item .edit-frame {\n  -ms-flex-positive: 1;\n      flex-grow: 1;\n}\n.sidebar-frames .frames-list-full--bar .item .frame-menu {\n  position: absolute;\n  top: 17px;\n  left: 276px;\n  width: 32px;\n  height: 28px;\n  visibility: hidden;\n  color: #fff;\n  border-radius: 2px;\n  background: rgba(0, 0, 0, 0.4);\n}\n.sidebar-frames .frames-list-full--bar .item .frame-menu:hover {\n  background: rgba(0, 0, 0, 0.8);\n}\n.sidebar-frames .frames-list-full--bar .item .frame-menu--active {\n  visibility: visible;\n  background: rgba(0, 0, 0, 0.8);\n}\n.sidebar-frames .frames-list-full--bar .item .frame-preview {\n  position: relative;\n  display: block;\n  overflow: hidden;\n  width: 292px;\n  height: 165px;\n  text-align: center;\n  border: solid 1px #e4e4e4;\n  border-radius: 4px;\n  background-size: cover;\n  background-color: #fff;\n}\n.sidebar-frames .frames-list-full--bar .item .frame-preview canvas {\n  width: 292px;\n  height: 165px;\n}\n.sidebar-frames .frames-list-full--bar .item .settings {\n  padding: 8px 20px;\n  top: 174px;\n}\n.sidebar-frames .frames-list-full--bar .item input {\n  font-size: 12px;\n  width: 100%;\n  color: #fff;\n}\n@keyframes dragStart {\n  from {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n.sidebar-frames .frames-list-full--bar .ghost {\n  transform: scale(0.88);\n  transform-origin: center center;\n  opacity: 0.88;\n  animation: dragStart 0.15s cubic-bezier(0.2, 0.3, 0.25, 0.9);\n}\n.sidebar-frames .frames-list-full--bar.frames-list-full--touch .item.selected .title,\n.sidebar-frames .frames-list-full--bar.frames-list-full--mouse .item:hover .title {\n  background: rgba(0, 0, 0, 0.8);\n}\n.sidebar-frames .frames-list-full--bar.frames-list-full--touch .item.selected .frame-menu,\n.sidebar-frames .frames-list-full--bar.frames-list-full--mouse .item:hover .frame-menu {\n  visibility: visible;\n}\n.sidebar-frames .frames-list-full--list .item {\n  position: relative;\n  height: 48px;\n  padding-left: 24px;\n  padding-right: 24px;\n  line-height: 48px;\n  cursor: pointer;\n}\n.sidebar-frames .frames-list-full--list .item .symbol {\n  display: inline-block;\n  width: 25px;\n}\n.sidebar-frames .frames-list-full--list .item .title {\n  float: left;\n  overflow: hidden;\n  width: 260px;\n  height: 100%;\n}\n.sidebar-frames .frames-list-full--list .item .title .title-inner {\n  font-size: 14px;\n  line-height: 48px;\n  white-space: nowrap;\n}\n.sidebar-frames .frames-list-full--list .item .title .title-inner span {\n  float: left;\n  overflow: hidden;\n  opacity: 0.8;\n}\n.sidebar-frames .frames-list-full--list .item .title .title-inner .list-frames__name {\n  width: 230px;\n  -webkit-mask-image: linear-gradient(to right, #000 0px, #000 205px, transparent 225px);\n  mask-image: linear-gradient(to right, #000 0px, #000 205px, transparent 225px);\n}\n.sidebar-frames .frames-list-full--list .item .title .title-inner .list-frames__item--untitled {\n  opacity: 0.4;\n}\n.sidebar-frames .frames-list-full--list .item .title input {\n  font-size: 14px;\n  width: 230px;\n  height: 100%;\n  min-height: 18px;\n}\n.sidebar-frames .frames-list-full--list .item .list-frames__name {\n  white-space: pre;\n}\n.sidebar-frames .frames-list-full--list .item .svg-button {\n  position: absolute;\n  right: 24px;\n}\n.sidebar-frames .frames-list-full--list .item .frame-menu--active {\n  visibility: visible;\n  color: #4262ff;\n}\n.sidebar-frames .frames-list-full--list .item .frame-preview {\n  display: none;\n}\n.sidebar-frames .frames-list-full--list .item .frame-preview material-spinner {\n  top: 62px;\n}\n.sidebar-frames .frames-list-full--list .item .settings {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 5px;\n  height: 10px;\n  padding: 13px 15px;\n  opacity: 0;\n  cursor: pointer;\n}\n.sidebar-frames .frames-list-full--list .item:hover .settings,\n.sidebar-frames .frames-list-full--list .item .settings--visible {\n  opacity: 0.6;\n}\n.sidebar-frames .frames-list-full--list .item .settings:hover {\n  opacity: 0.8;\n}\n.sidebar-frames .frames-list-full--list .item input {\n  font-size: 14px;\n  width: 100%;\n  padding: 0;\n  background-color: inherit;\n}\n.sidebar-frames .frames-list-full--list .ghost {\n  background-color: rgba(0, 0, 0, 0.04);\n}\n.sidebar-frames .frames-list-full--list.frames-list-full--touch .item.selected .frame-menu,\n.sidebar-frames .frames-list-full--list.frames-list-full--mouse .item:hover .frame-menu {\n  visibility: visible;\n}\n.sidebar-frames .frames-list-full--list.frames-list-full--mouse .item:hover {\n  background-color: rgba(0, 0, 0, 0.04);\n}\n.sidebar-frames .sidebar-frames__bottom {\n  box-sizing: border-box;\n  height: 64px;\n  padding-top: 7px;\n  background-color: rgba(255, 255, 255, 0.96);\n}\n.sidebar-frames .sidebar-frames__bottom .svg-button {\n  width: 40px !important;\n  margin-left: 15px;\n}\n.sidebar-frames__top {\n  position: absolute;\n  z-index: 1;\n  display: -ms-flexbox;\n  display: flex;\n  width: 100%;\n  height: 64px;\n  background-color: rgba(255, 255, 255, 0.96);\n}\n.sidebar-frames__top .sidebar-caption {\n  font-family: Formular, sans-serif;\n  font-size: 24px;\n  font-weight: 500;\n  letter-spacing: -0.4px;\n}\n.sidebar-frames__top .sidebar-buttons {\n  display: -ms-flexbox;\n  display: flex;\n}\n.sidebar-frames__top .sidebar-buttons .sidebar-buttons__splitter {\n  width: 1px;\n  height: 24px;\n  margin-top: 20px;\n  margin-left: 16px;\n  margin-right: 10px;\n  opacity: 0.16;\n  background-color: #000;\n}\n.sidebar-frames__top .sidebar-buttons .svg-button {\n  margin-top: 8px;\n  margin-left: 6px;\n  margin-right: 1px;\n}\n.frames-list-menu {\n  width: 208px !important;\n  height: 280px;\n  font-size: 14px !important;\n  box-sizing: border-box;\n  z-index: 90 !important;\n  border-radius: 4px !important;\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12) !important;\n  padding: 20px 0;\n}\n.frames-list-menu .cm-items {\n  padding: 0 !important;\n}\n.frames-list-menu .cm-item {\n  height: 40px !important;\n  background-color: #fff !important;\n  opacity: 0.8 !important;\n}\n.frames-list-menu .cm-item:not(.disabled):hover {\n  color: #4262ff !important;\n  opacity: 1 !important;\n}\n.frames-list-menu .cm-icon {\n  display: none !important;\n}\n.frames-list-menu .cm-text {\n  line-height: 40px !important;\n  margin-left: 32px !important;\n}\n",""])},5360:function(t,n,e){t.exports='<div class="sidebar-frames use-ng-animate" hm-tap="setFocus()"\n     ng-class="{\'sidebar-frames--newlayout\': newLayout}">\n    <div class="sidebar-frames__top">\n        <div class="sidebar-caption">Frames</div>\n        <div class="sidebar-buttons" ng-show="hasFrames()">\n            <div class="sidebar-buttons__splitter"></div>\n            <div class="svg-button"\n                 ng-class="{\'svg-button&#45;&#45;active\': mode === PANEL_MODE_BAR}"\n                 hm-tap="setMode(PANEL_MODE_BAR)"\n                 tooltip="bar"\n                 tooltip-placement="bottom">\n                <svg   ><use xlink:href="'+e(5361)+'"></use></svg>\n            </div>\n            <div class="svg-button"\n                 ng-class="{\'svg-button&#45;&#45;active\': mode === PANEL_MODE_LIST}"\n                 hm-tap="setMode(PANEL_MODE_LIST)"\n                 tooltip="list"\n                 tooltip-placement="bottom">\n                <svg   ><use xlink:href="'+e(5362)+'"></use></svg>\n            </div>\n        </div>\n    </div>\n\n    <div class="frames-list-empty" ng-show="!hasFrames()">\n        <div class="frames-list-empty__content">\n            <div class="frames-list-empty__picture">\n                <svg   ><use xlink:href="'+e(5363)+'"></use></svg>\n            </div>\n            <div class="frames-list-empty__description"\n                 ng-show="canEditFrames()">\n                <span>You have no frames.<br/>Let\u2019s change that!</span>\n            </div>\n            <button class="rtb-btn rtb-btn--primary rtb-btn--medium frames-list-empty__create-button"\n                    ng-show="canEditFrames()"\n                    hm-tap="createFrame($event)"\n                    tooltip-placement="bottom"><svg   ><use xlink:href="'+e(605)+'"></use></svg><span>Create frame</span>\n            </button>\n        </div>\n    </div>\n\n    <div class="frames-list-full"\n         ng-class="{\'frames-list-full--bar\': mode === PANEL_MODE_BAR,\n          \'frames-list-full--list\': mode === PANEL_MODE_LIST,\n          \'frames-list-full--touch\': isTouchSupported,\n          \'frames-list-full--mouse\': desktop}"\n         ng-show="hasFrames()">\n        <frames-list ng-show="hasFrames()" editable="canEditFrames() && !viewMode" frames="getFrames()" mode="mode"></frames-list>\n    </div>\n\n    <div class="sidebar-frames__bottom">\n        <div class="svg-button"\n             ng-show="canEditFrames() && !viewMode && hasFrames()"\n             hm-tap="createFrame($event)"\n             tooltip="Add new frame"\n             tooltip-placement="right">\n            <svg   ><use xlink:href="'+e(5364)+'"></use></svg>\n        </div>\n    </div>\n</div>\n'},5361:function(t,n){t.exports="#img__bar"},5362:function(t,n){t.exports="#img__list"},5363:function(t,n){t.exports="#img__frames-list-empty"},5364:function(t,n){t.exports="#img__add-frame"},5365:function(t,n,e){"use strict";(function(t){var i=e(122),o=e(31),s=e(241),a=e(744),r=i.b(),c=s.b(),l=5,d=function(){function n(t){var n=this;this.$scope=t,t.comments=[],t.isAllowOpen=function(){return r().allowOpen},t.isAllowEdit=function(){return r().allowEdit},t.isShowResolved=function(){return c().showResolved},t.onCommentClick=function(n){t.comments.length>1&&(n.zIndex=++l)},r().commentCreated.add(this.onCommentLoaded,this),t.$on("$destroy",function(){r().commentCreated.remove(n.onCommentLoaded,n)})}return n.prototype.onCommentLoaded=function(n){t.log("cmm","[NgCommentsController] onCommentLoaded",n),n.viewChanged.add(this.onViewChanged,this)},n.prototype.onViewChanged=function(n){t.log("cmm","[NgCommentsController] onViewChanged",n,n.isOpened);var e=this.$scope;n.isOpened?o.a(e.comments,n):o.V(e.comments,n),e.comments.length?n.isOpened&&(n.zIndex=++l):l=5,Object(a.a)().hide(),this.$scope.safeApply()},n.$inject=["$scope"],n}();n.a=d}).call(this,e(29))},5366:function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return h});var i=e(31),o=e(22),s=e(188),a=e(908),r=e(39),c=e(241),l=e(2330),d=e(58),p=e(25),u=r.b(),g=c.b();function h(){Object(p.b)().directive("comment",m)}function m(n){return{replace:!0,restrict:"E",transclude:!0,controller:l.a,template:'<div class="positoner"></div> ',scope:{comment:"="},link:function(e,r,c,l,p){var h=e.comment,m=a.b(h.screenPosition),b=function(){var t=i.C(l.bodyScreenPosition);r.css({top:t.y+"px",left:t.x+"px"})},v=function(){var t=l.bodyCanvasPosition;l.bodyScreenPosition=i.m(t.x,t.y)},f=function(){var t=h.messages;g().canCreateAndEditComments()||t.length||h.setCmtMode(!1)},_=function(n){n.keyCode!=d.a.ESCAPE||h.cmtPinned||0!==t(".rtb-modal").length||l.closeComment()};p(e,function(t,n){r.append(t)}),l.source=h,l.bodyScreenPosition=m,l.bodyCanvasPosition=i.D(m.x,m.y),b(),t(document).on("keyup",_),l.bodyPositionChanged.add(b),u().currentBoard.permissionsChanged.add(f),o.canvasController.addEventListener(s.a.VIEWPORT_UPDATED,v),e.$on("$destroy",function(){t(document).off("keyup",_),l.bodyPositionChanged.remove(b),u().currentBoard.permissionsChanged.remove(f),o.canvasController.removeEventListener(s.a.VIEWPORT_UPDATED,v)}),e.fixScreenPosition=function(){var t=l.bodyScreenPosition;t=a.a(t,r.find(".comment").outerHeight()),l.bodyScreenPosition=t,l.bodyCanvasPosition=i.D(t.x,t.y)},n(function(){return e.fixScreenPosition()})}}}m.$inject=["$timeout"]}).call(this,e(36))},5367:function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return c});var i=e(31),o=e(25),s=e(27),a=e.n(s),r=170;function c(){Object(o.b)().directive("commentArrow",l)}function l(){return{replace:!0,restrict:"E",require:"^comment",template:'<div class="comment-arrow"><div class="comment-arrow--point" comment-move="point"></div></div>',link:function(n,e,o,s){var c=s.source,l=function(){if(s.bodyScreenPosition&&s.pointScreenPosition){var t=s.bodyScreenPosition,n=s.pointScreenPosition;n.x=s.bodyScreenPosition.x+s.pointScreenPosition.x,n.y=s.bodyScreenPosition.y+s.pointScreenPosition.y,t.x+=r;var o=i.g(t.x,t.y,n.x,n.y),a=Math.atan2(t.y-n.y,t.x-n.x)/Math.PI*180+180;e.attr("class","comment-arrow comment-arrow--"+s.source.color),e.css({width:o+"px",transform:"translate("+r+"px, -1px) rotate("+a+"deg)"})}},d=function(){e.attr("class","comment-arrow comment-arrow--"+s.source.color)},p=function(t){void 0===t&&(t=s.pointCanvasPosition||c.canvasPosition);var n=s.bodyScreenPosition,e=i.m(t.x,t.y);e.x-=n.x,e.y-=n.y,s.pointCanvasPosition=t,s.pointScreenPosition=e,l()},u=function(t){var n=s.bodyScreenPosition,e=i.m(t.x,t.y);s.pointCanvasPosition=t.canvasPosition,s.pointScreenPosition=new a.a.Point(e.x-n.x,e.y-n.y)},g=function(){return p(c.canvasPosition)};t.isTouchSupportedAndNotDesktop&&e.find(".comment-arrow--point").addClass("comment-point--mobile"),p(),c.geometryChanged.add(u),s.bodyPositionChanged.add(p),s.source.cmtPositionChanged.add(g),s.pointPositionChanged.add(l),s.source.cmtColorChanged.add(d),n.$on("$destroy",function(){c.geometryChanged.remove(u),s.bodyPositionChanged.remove(p),s.source.cmtPositionChanged.remove(g),s.pointPositionChanged.remove(l),s.source.cmtColorChanged.remove(d)})}}}}).call(this,e(0))},5368:function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return f});var i=e(102),o=e(57),s=e(93),a=e(31),r=e(254),c=e(329),l=e(122),d=e(22),p=e(50),u=e(449),g=e(744),h=e(25),m=r.b(),b=l.b(),v="touchstart mousedown";function f(){Object(h.b)().directive("commentMove",_)}function _(){return{restrict:"A",require:"^comment",link:function(t,n,e,i){if("point"!=e.commentMove||b().allowEdit){var o={$scope:t,$element:n,cmtCtrl:i,cmtPoint:e.commentMove},s=x.bind(o);n.on(v,s),t.$on("$destroy",function(){n.off(v,s)})}}}}var x=function(n){var e=s.b(n),i=this.cmtCtrl[this.cmtPoint+"ScreenPosition"],a=this.cmtCtrl.source,r=n.target;if(("point"!=this.cmtPoint||a.created&&a.canMove())&&!o.e(r,function(t){return Object(p.k)(t,"comment-move-stop")})){if("body"==this.cmtPoint){if(this.cmtCtrl.bodyScreenPosition.x+360-e.x<20)return}this.isMoved=!1,this.prevDataStep=this.cmtCtrl.source.getSimpleData(),this.moveWrapper=w.bind(this),this.stopWrapper=y.bind(this),this.moveOffset={x:e.x-i.x,y:e.y-i.y},t(document).on("touchmove mousemove",this.moveWrapper).on("touchend mouseup",this.stopWrapper),n.preventDefault(),n.stopPropagation(),Object(g.a)().hide()}},w=function(t){var n,e=this.cmtCtrl.bodyScreenPosition,i=s.b(t),o={x:i.x-this.moveOffset.x,y:i.y-this.moveOffset.y};"point"==this.cmtPoint?(m().highlightObjectAt(i.x,i.y),n=a.D(o.x+e.x,o.y+e.y)):n=a.D(o.x,o.y),this.isMoved=!0,this.cmtCtrl[this.cmtPoint+"CanvasPosition"]=n,this.cmtCtrl[this.cmtPoint+"ScreenPosition"]=o,t.preventDefault(),t.stopPropagation()},y=function(n){if(t(document).off("touchmove mousemove",this.moveWrapper).off("touchend mouseup",this.stopWrapper),n.preventDefault(),n.stopPropagation(),this.isMoved&&"point"==this.cmtPoint){var e=this.cmtCtrl.source,o=s.b(n),r=m().getObjectAt(o.x,o.y),l=a.D(o.x,o.y);if(r&&r.widgetType){var p=a.H(r.geometry,o.x,o.y,!0);e.linkerTokenizer=r.tokenizer,e.setLocalPosition(p.x,p.y)}else e.linkerTokenizer=new c.a(i.a.getLong(0,0),0),e.setLocalPosition(l.x,l.y);e.setPosition(l.x,l.y),m().cancelHighlight(),b().updateOnServer(e),d.canvasHistory.addStep(b(),[e.tokenizer],new u.a([this.prevDataStep]),new u.a([e.getSimpleData()]))}}}).call(this,e(36))},5369:function(t,n){t.exports='<div class="comments" ng-class="{\'comments--editable\': isAllowEdit()}" ng-show="isAllowOpen()">\n    \x3c!-- \u041f\u043e\u0440\u044f\u0434\u043e\u043a \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u043d\u0435 \u043c\u0435\u043d\u044f\u0442\u044c! --\x3e\n    <comment ng-repeat="comment in comments" comment="comment" ng-if="comment.isOpened && (comment.isPresent || isShowResolved())"\n             ng-style="{\'z-index\': comment.zIndex}" hm-tap="onCommentClick(comment)">\n        <comment-arrow></comment-arrow>\n        <div class="comment">\n            <comment-body comment="comment" comment-move="body" allow-resolve="true" allow-colors="true">\n                <comment-menu menu="menu" comment="comment" allow-pin="true" ng-show="menu.visibility"></comment-menu>\n            </comment-body>\n        </div>\n    </comment>\n</div>'},5370:function(t,n,e){"use strict";(function(t){var i,o,s=e(27),a=e.n(s),r=e(35),c=e(39),l=e(1335),d=(e(393),e(507),e(31),e(22),e(45)),p=r.b(),u=c.b(),g=d.b(),h={visible:!1},m=[],b=function(){function t(t){(i=t).layer=h,window.addEventListener("dragenter",v,!1),t.$on("$destroy",function(){i=null,window.removeEventListener("dragenter",v,!1)})}return t.$inject=["$scope"],t}();function v(n){t.log("ddf","dragenter"),n.stopPropagation(),n.preventDefault(),u().currentBoard.canCreateAndEditWidgets()&&!g().getCurrentModalName()&&(clearTimeout(o),i.layer.visible=!0,i.safeApply(),function(){var t=window;t.addEventListener("dragover",_),t.addEventListener("dragleave",f),t.addEventListener("drop",x)}()),m.push(n.target)}function f(n){t.log("ddf","leaveHandler"),n.stopPropagation(),n.preventDefault(),(m=m.filter(function(t){return t!==n.target})).length||(y(),w())}function _(t){t.stopPropagation(),t.preventDefault()}function x(n){t.log("ddf","dropHandler",n),m.length=0,n.stopPropagation(),n.preventDefault(),y(),w(),l.a(n.dataTransfer,new a.a.Point(n.clientX,n.clientY))||p().showError("Sorry, this file type is not supported")}function w(){o=setTimeout(function(){i.layer.visible=!1,i.safeApply(),o=-1},100)}function y(){var t=window;t.removeEventListener("dragover",_),t.removeEventListener("dragleave",f),t.removeEventListener("drop",x)}n.a=b}).call(this,e(29))},5371:function(t,n,e){var i=e(5372);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5372:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".drag-n-drop-placeholder {\n  position: relative;\n  pointer-events: none;\n  opacity: 0;\n}\n.drag-n-drop-placeholder.visible {\n  opacity: 1;\n}\n.drag-and-drop-layer {\n  position: fixed;\n  z-index: 50;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.1);\n}\n.drag-and-drop-layer .dropBox {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  height: 232px;\n  margin: -116px 0 0 -91px;\n}\n.drag-and-drop-layer .dropBox_formats {\n  display: block;\n  width: 180px;\n  height: 28px;\n  margin-bottom: 20px;\n}\n.drag-and-drop-layer .dropBox_tip {\n  width: 182px;\n  height: 182px;\n  background-color: rgba(0, 0, 0, 0.1);\n  border-radius: 50%;\n  text-align: center;\n  line-height: 182px;\n}\n.drag-and-drop-layer .dropBox_icon {\n  display: inline;\n  width: 72px;\n  height: 114px;\n  vertical-align: middle;\n}\n.drag-and-drop-layer-top {\n  position: fixed;\n  z-index: 100000;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n",""])},5373:function(t,n,e){t.exports='<div class="drag-n-drop-placeholder" ng-class="{\'visible\': layer.visible}">\n    <div class="drag-and-drop-layer">\n        <div class="dropBox">\n            <img class="dropBox_formats" src="'+e(5374)+'"/>\n            <div class="dropBox_tip">\n                <img class="dropBox_icon" src="'+e(5375)+'"/>\n            </div>\n        </div>\n    </div>\n    <div id="drag-and-drop-layer-top" class="drag-and-drop-layer-top"></div>\n</div>'},5374:function(t,n,e){t.exports=e.p+"src/components/web/board/draganddrop/img/supported_formats.52b6ad.png"},5375:function(t,n,e){t.exports=e.p+"src/components/web/board/draganddrop/img/drop.c3d382.png"},5376:function(t,n,e){var i=e(5377);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5377:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".mini-map {\n  position: relative;\n  width: 56px;\n  height: 48px;\n  overflow: hidden;\n  transition: width ease 200ms, height ease 200ms, transform 0.4s cubic-bezier(0.25, 0.1, 0.25, 0.1);\n}\n.mini-map.mini-map--with-all-buttons {\n  width: 271px;\n}\n.mini-map.mini-map--with-zoom-buttons {\n  width: 169px;\n}\n.mini-map.mini-map--pinned {\n  width: 271px;\n  height: 211px;\n  background-color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n  transform: translateY(0) !important;\n}\n.mini-map__buttons {\n  position: absolute;\n  width: 100%;\n  height: 48px;\n  bottom: 0;\n  right: 0;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-flow: row-reverse;\n      flex-flow: row-reverse;\n  transition: width 0.15s cubic-bezier(0.2, 0.3, 0.25, 0.9);\n}\n.mini-map__buttons .board-panel__splitter {\n  margin-left: 12px;\n  margin-right: 14px;\n}\n.mini-map__buttons .svg-button {\n  width: 36px;\n}\n.mini-map__value {\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  width: 56px;\n  margin-left: -4px;\n  font-weight: bold;\n  text-align: center;\n  font-size: 12px;\n  height: 100%;\n  line-height: 48px;\n  color: #050038;\n  cursor: pointer;\n}\n.mini-map__value:hover {\n  color: #4262ff;\n}\n.mini-map__box {\n  position: absolute;\n  bottom: 48px;\n  right: 0;\n  width: 271px;\n  height: 163px;\n}\n",""])},5378:function(t,n,e){t.exports='<div class="mini-map board-panel--transparent board-panel--hidden-bottom"\n     ng-class="{\n        \'mini-map--pinned\': ctrl.isMapPinned(),\n        \'mini-map--with-all-buttons\': !ctrl.isCollapsed(),\n        \'mini-map--with-zoom-buttons\': !ctrl.isCollapsed() && !ctrl.expanded\n     }">\n    <div class="mini-map__buttons">\n        <div class="mini-map__value"\n             tooltip="zoom to 100%"\n             tooltip-append-to-body="true"\n             hm-tap="ctrl.zoom100()"></div>\n        <div class="svg-button"\n             tooltip="zoom in"\n             tooltip-append-to-body="true"\n             hm-tap="ctrl.zoomIn()">\n            <svg   ><use xlink:href="'+e(566)+'"></use></svg>\n        </div>\n        <div class="svg-button"\n             tooltip="zoom out"\n             tooltip-append-to-body="true"\n             hm-tap="ctrl.zoomOut()">\n            <svg   ><use xlink:href="'+e(959)+'"></use></svg>\n        </div>\n        <div class="svg-button"\n             tooltip="fit to screen"\n             tooltip-append-to-body="true"\n             hm-tap="ctrl.zoomFit()">\n            <svg   ><use xlink:href="'+e(5379)+'"></use></svg>\n        </div>\n        <div class="board-panel__splitter"></div>\n        <div class="svg-button"\n             ng-class="{\'svg-button--active\': ctrl.isMapPinned()}"\n             tooltip="{{ctrl.getPinMapTooltip()}}"\n             tooltip-append-to-body="true"\n             hm-tap="ctrl.pinClicked()">\n            <svg   ><use xlink:href="'+e(5380)+'"></use></svg>\n        </div>\n        <div class="svg-button"\n             ng-class="{\'svg-button--disabled\': !ctrl.isFullscreenEnabled()}"\n             tooltip="fullscreen"\n             tooltip-append-to-body="true"\n             ng-show="!ctrl.isFullscreen()"\n             hm-tap="ctrl.enterFullscreen()">\n            <svg   ><use xlink:href="'+e(2221)+'"></use></svg>\n        </div>\n        <div class="svg-button"\n             tooltip="leave fullscreen"\n             tooltip-append-to-body="true"\n             ng-show="ctrl.isFullscreen()"\n             hm-tap="ctrl.exitFullscreen()">\n            <svg   ><use xlink:href="'+e(2220)+'"></use></svg>\n        </div>\n    </div>\n    <div id="minimap-canvas" class="mini-map__box"></div>\n</div>'},5379:function(t,n){t.exports="#img__map-fit"},5380:function(t,n){t.exports="#img__map-pin"},5381:function(t,n,e){"use strict";(function(t,i){e.d(n,"a",function(){return u});var o=e(131),s=e(108),a=e(183),r=e(22),c=e(56),l=e(58),d=c.b(),p='<div class="colorPicker"><colorpicker-s-b></colorpicker-s-b><colorpicker-hue></colorpicker-hue><colorpicker-value></colorpicker-value><colorpicker-eyedropper ng-if="!colorpickerEyedropperDisabled"></colorpicker-eyedropper></div>';function u(n){var e=a.g();return{restrict:"A",controller:g,scope:{colorpickerInitColor:"=",colorpickerEyedropperDisabled:"=",colorpickerColorChanged:"&",colorpickerOpened:"&",colorpickerClosed:"&"},link:function(i,s){var a,c,u,g=!1;function h(){g?i.hideColorPicker():(g=!0,a=t(p),c=i.$new(),n(a)(c),t(document.body).append(a),function(){var t=document.body.clientWidth,n=document.body.clientHeight,e=s.offset(),i=a.width(),o=a.height(),r=e.top,c=e.left+s.outerWidth()+10;r+o>n&&(r=n-o-10),c+i>t&&(c=e.left-i-10),a.css({top:r,left:c})}(),a.show(),a.on(e.down,b),u=o.b(void 0,i.hideColorPicker,".colorPickerButton, .colorPicker"),document.addEventListener("keydown",m),r.mySelection.onSelectionChanged.add(i.hideColorPicker),r.canvasController.viewportUpdated.add(i.hideColorPicker),d().toolChanged.add(i.hideColorPicker),i.$evalAsync(function(){return i.colorpickerOpened()}))}function m(t){t.keyCode!==l.a.ENTER&&t.keyCode!==l.a.ESCAPE||i.hideColorPicker()}function b(t){t.stopPropagation()}s.addClass("colorPickerButton"),s.on(e.click,h),i.hideColorPicker=function(t){g&&(g=!1,c.$destroy(),a.off(e.down,b),r.mySelection.onSelectionChanged.remove(i.hideColorPicker),r.canvasController.viewportUpdated.remove(i.hideColorPicker),d().toolChanged.remove(i.hideColorPicker),document.removeEventListener("keydown",m),u.destroy(),a.remove(),i.$evalAsync(function(){return i.colorpickerClosed({fromDoneBtn:t})}))},i.$on("$destroy",function(){i.hideColorPicker(),s.off(e.click,h)})}}}u.$inject=["$compile"];function g(t){var n=[];t.mobileMode=i.isTouchSupportedAndNotDesktop,t.initializeColor=function(){t.color=new s.a,t.color.setIntColor(t.colorpickerInitColor)},t.$watch("colorpickerInitColor",t.initializeColor),t.applyColor=function(e){n.forEach(function(n){return n(t.color)}),e,t.dispatchColorSelected(!1)},t.dispatchColorSelected=function(n){void 0===n&&(n=!0),t.colorpickerColorChanged&&t.$evalAsync(function(){return t.colorpickerColorChanged({$color:t.color,$selected:n})})},t.render=function(e){e(t.color),n.push(e)},t.$on("$destroy",function(){n=[]})}g.$inject=["$scope"]}).call(this,e(36),e(0))},5382:function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return o});var i=e(183);function o(n){var o=i.g();return{restrict:"E",replace:!0,template:e(5383),link:function(e,s){var a,r,c,l=s.find(".colorPicker_hue_slider"),d=t(document),p=s.find(".colorPicker_hue_real");function u(){a=p.width(),r=p.offset().left,c=r+a}function g(t){t.preventDefault(),v(!1),u(),h(t),d.on(o.move,h),d.on(o.up,m)}function h(t){var n=i.b(t).x;b(n<r?0:n>c?a:n-r)}function m(){d.off(o.move,h),d.off(o.up,m),v(!0),e.dispatchColorSelected()}function b(t){var n=1-t/a;e.color.setHue(n),e.applyColor("cursor")}function v(t){t?s.removeClass("colorPicker_hue-pressed"):s.addClass("colorPicker_hue-pressed")}s.on(o.down,g),n(function(){e.render(function(t){void 0===a&&u();var n=t.value.h*a;l.css("left",n)})}),e.$on("$destroy",function(){s.off(o.down,g)})}}}o.$inject=["$timeout"]}).call(this,e(36))},5383:function(t,n){t.exports='<div class="colorPicker_hue" ng-class="{\'colorPicker_hue-mobile\': mobileMode}">\n    <div class="colorPicker_hue_fake">\n        <div class="colorPicker_hue_real">\n            <div class="colorPicker_hue_slider"></div>\n        </div>\n    </div>\n</div>'},5384:function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return a});var i=e(108),o=e(183),s=e(139);function a(n){var a=Object(s.a)().isBigScreenMode?o.e():o.g();return{restrict:"E",replace:!0,template:e(5385),link:function(e,s){var r,c,l,d,p,u,g=s.find(".overlay-hue"),h=s.find(".colorPicker_sb_slider"),m=new i.a,b=t(document);function v(){var t=s.offset();r=s.width(),c=s.height(),l=t.left,d=l+r,p=t.top,u=p+c}function f(t){t.preventDefault(),k(!1),v(),_(t),b.on(a.move,_),b.on(a.up,y)}function _(t){var n,i=o.b(t);x((n=i.x)<l?0:n>d?r:n-l),function(t){w(t<p?0:t>u?c:t-p)}(i.y),e.applyColor("cursor")}function x(t){e.color.setSaturation(t/r)}function w(t){e.color.setBrightness(1-t/c)}function y(){b.off(a.move,_),b.off(a.up,y),k(!0),e.dispatchColorSelected()}function k(t){t?s.removeClass("colorPicker_sb-pressed"):s.addClass("colorPicker_sb-pressed")}s.on(a.down,f),n(function(){e.render(function(t){void 0!==c&&void 0!==r||v(),m.setHue(1-t.value.h),g.css({background:m.getRGB()}),h.css({left:t.value.s*r,top:(1-t.value.b)*c})})}),e.$on("$destroy",function(){s.off(a.down,f)})}}}a.$inject=["$timeout"]}).call(this,e(36))},5385:function(t,n){t.exports='<div class="colorPicker_sb">\n    <div class="colorPicker_sb_overlay overlay-hue" style="background: rgb(0, 255, 132);">\n        <div class="colorPicker_sb_overlay overlay-s">\n            <div class="colorPicker_sb_overlay overlay-b"></div>\n        </div>\n    </div>\n    <div class="colorPicker_sb_slider">\n        <icon icon-name="\'application--picker-round\'"></icon>\n    </div>\n</div>'},5386:function(t,n){t.exports='<div class="colorPicker_value singleLine"\n     contenteditable="{{!mobileMode}}"\n     ng-blur="processInput()"\n     ng-paste="onPaste()"\n>\n    {{color.getHEX()}}\n</div>'},5387:function(t,n,e){"use strict";(function(t,i){e.d(n,"a",function(){return p});var o=e(108),s=e(65),a=e(56),r=e(68),c=e(183),l=e(1429),d=a.b();function p(){var n=c.g();return{restrict:"E",replace:!0,template:e(5388),link:function(e){var a,p,u;function g(t){var i=c.d(t),o=document.querySelector(".colorPicker_eyedropper_closeButton");i==a?d().testTools(s.a.HAND)||b(t):i!=o&&(e.setEyedropperPressed(!1),e.$evalAsync()),document.addEventListener(n.move,h),document.addEventListener(n.up,m)}function h(t){c.d(t)==a&&(d().testTools(s.a.HAND)||b(t))}function m(){document.removeEventListener(n.move,h),document.removeEventListener(n.up,m)}function b(t){var n=c.b(t),i=p.getImageData(n.x*devicePixelRatio,n.y*devicePixelRatio,1,1).data,s=new o.a;s.value=o.a.RGBtoHSB(i[0],i[1],i[2],i[3]);var a=s.getNumber();a!=r.e&&a!=u&&(u=a,e.color.value=s.value,e.applyColor("eyedropper"),e.dispatchColorSelected()),t.stopImmediatePropagation()}e.eyedropperAvailable=!(i.safari||i.msedge||i.msie),e.eyedropperPressed=!1,e.setEyedropperPressed=function(i){e.eyedropperPressed=i,e.eyedropperPressed?(a=t(".canvas-event-plug")[0],p=t("#pixiCanvasContainer canvas")[0].getContext("2d"),document.addEventListener(n.down,g,!0),l.setEventsEnabled(!1,!0)):(document.removeEventListener(n.down,g,!0),m(),l.setEventsEnabled(!0))},e.onCloseButtonClick=function(){e.setEyedropperPressed(!1),e.hideColorPicker(!0)},e.$on("$destroy",function(){e.setEyedropperPressed(!1)})}}}}).call(this,e(36),e(0))},5388:function(t,n){t.exports='<div class="colorPicker_eyedropper btn" ng-show="eyedropperAvailable">\n    <div class="colorPicker_eyedropper_activateButton" ng-show="!eyedropperPressed" hm-tap="setEyedropperPressed(true)">\n        <icon icon-name="\'application--pick\'"></icon>\n    </div>\n    <div class="colorPicker_eyedropper_closeButton" ng-show="eyedropperPressed" hm-tap="onCloseButtonClick()">Done</div>\n</div>\n'},5389:function(t,n,e){var i=e(5390);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5390:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".colorPicker {\n  position: absolute;\n  display: none;\n  z-index: 100000;\n  top: 20px;\n  left: 20px;\n  width: 182px;\n  height: 180px;\n  background: #fff;\n  border-radius: 2px;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);\n}\n.colorPicker_sb {\n  position: absolute;\n  cursor: crosshair;\n  overflow: hidden;\n  width: 182px;\n  height: 120px;\n  border-top-left-radius: 2px;\n  border-top-right-radius: 2px;\n}\n.colorPicker_sb .colorPicker_sb_slider {\n  position: absolute;\n  cursor: move;\n  width: 18px;\n  height: 18px;\n  margin-left: -9px;\n  margin-top: -9px;\n}\n.colorPicker_sb .colorPicker_sb_overlay {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border-top-left-radius: 2px;\n  border-top-right-radius: 2px;\n}\n.colorPicker_sb .colorPicker_sb_overlay.overlay-hue {\n  border-top-left-radius: 4px;\n}\n.colorPicker_sb .colorPicker_sb_overlay.overlay-s {\n  background: linear-gradient(to right, #fff, rgba(255, 255, 255, 0));\n}\n.colorPicker_sb .colorPicker_sb_overlay.overlay-b {\n  background: linear-gradient(to top, #000, rgba(0, 0, 0, 0));\n}\n.colorPicker_sb.colorPicker_sb-pressed {\n  cursor: none;\n}\n.colorPicker_sb.colorPicker_sb-pressed .colorPicker_sb_slider {\n  cursor: none;\n}\n.colorPicker_hue {\n  position: absolute;\n  cursor: crosshair;\n  top: 120px;\n  width: 182px;\n  height: 10px;\n}\n.colorPicker_hue .colorPicker_hue_fake {\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 10px;\n  background-color: red;\n}\n.colorPicker_hue .colorPicker_hue_real {\n  position: absolute;\n  left: 8px;\n  right: 8px;\n  top: 0;\n  bottom: 0;\n  background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n}\n.colorPicker_hue .colorPicker_hue_slider {\n  position: absolute;\n  cursor: ew-resize;\n  width: 16px;\n  height: 16px;\n  margin-left: -8px;\n  margin-top: -4px;\n  background-color: #fff;\n  border-radius: 50%;\n  box-shadow: 0 1px 2px rgba(5, 0, 56, 0.4);\n}\n.colorPicker_hue.colorPicker_hue-pressed {\n  cursor: none;\n}\n.colorPicker_hue.colorPicker_hue-pressed .colorPicker_hue_slider {\n  cursor: none;\n}\n.colorPicker_hue.colorPicker_hue-mobile {\n  top: 110px;\n  padding-top: 10px;\n  height: 20px;\n}\n.colorPicker_value {\n  position: absolute;\n  top: 130px;\n  height: 50px;\n  line-height: 50px;\n  margin-left: 20px;\n  min-width: 54px;\n  outline: none;\n  white-space: nowrap;\n  word-wrap: break-word;\n}\n.colorPicker_eyedropper {\n  position: absolute;\n  top: 135px;\n  right: 10px;\n}\n.colorPicker_eyedropper .colorPicker_eyedropper_activateButton,\n.colorPicker_eyedropper .colorPicker_eyedropper_closeButton {\n  box-sizing: border-box;\n  height: 40px;\n}\n.colorPicker_eyedropper .colorPicker_eyedropper_activateButton {\n  width: 40px;\n  height: 40px;\n}\n.colorPicker_eyedropper .colorPicker_eyedropper_activateButton .icon {\n  margin: 0;\n  width: 40px;\n  height: 40px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-line-pack: center;\n      align-content: center;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: center;\n      justify-content: center;\n  opacity: 0.6;\n}\n.do-hovers .colorPicker_eyedropper .colorPicker_eyedropper_activateButton .icon:hover {\n  opacity: 0.8;\n}\n.do-hovers .colorPicker_eyedropper .colorPicker_eyedropper_activateButton .icon:active {\n  opacity: 1;\n}\n.colorPicker_eyedropper .colorPicker_eyedropper_closeButton {\n  width: 50px;\n  line-height: 40px;\n  text-align: center;\n  color: #4262ff;\n}\n.colorPicker_eyedropper .colorPicker_eyedropper_closeButton:hover {\n  color: #455bed;\n}\n",""])},5391:function(t,n,e){"use strict";(function(t){var i=e(5392),o=e.n(i),s=e(73),a=e(129),r=e(231),c=e(212),l=e(22),d=e(68),p=e(51),u=e(74),g=e(58),h=e(201),m=e(57),b=e(26),v=e(235),f=e(60),_=e(45),x=e(163),w=r.b(),y=s.b(),k=m.p("%ctrlOrCmd%+Enter"),C=function(){function n(){this.placeholder="Type to bulk add notes",this.stickers=[],this.colors=d.w,this.text="",this.background=l.stickerWidgetController.lastUsedStyle[p.a.STICKER_BACKGROUND_COLOR]||d.n,this.donekey=k,this.palette={top:-999,left:-999},this.textLimit=0,this.isPaletteOpen=!1,this.isDoneShow=!1,this.keyHandlerFunc=this.keyHandler.bind(this),this.closeConfirmationModalIsActive=!1,this.focusToTextarea(),this.attachKeyEvent(),b.hc()}return n.prototype.add=function(t){t.ctrlKey||t.metaKey||(t.preventDefault(),this.addSticker())},n.prototype.update=function(t){var n=t.target;t.preventDefault(),n.setAttribute("readonly","readonly")},n.prototype.edit=function(t){var n=t.target;t.preventDefault(),n.hasAttribute("readonly")&&(n.removeAttribute("readonly"),setTimeout(function(){u.p(n)},0))},n.prototype.remove=function(t){this.isPaletteOpen=!1,this.stickers.splice(this.stickers.indexOf(t),1)},n.prototype.tryClose=function(){var t=this;if(!this.closeConfirmationModalIsActive){o()(this.text).length>0&&this.addSticker();var n=function(){b.Dd(),t.confirmClose()};if(this.stickers.length>0){this.closeConfirmationModalIsActive=!0;var e=Object(_.a)().show(Object(x.a)({title:"Leave?",text:"You have unsaved data that will be lost",submitButton:{caption:"Leave"},cancelButton:{caption:"Cancel"}}));e.canceled.addOnce(function(){return t.focusToTextarea()}),e.submitted.addOnce(n),e.closed.addOnce(function(){return t.closeConfirmationModalIsActive=!1})}else n()}},n.prototype.confirmClose=function(){this.stickers=[],y().setPanelVisible(a.a.STICKER_BULK_CREATE,!1)},n.prototype.done=function(){o()(this.text).length>0&&this.addSticker();var t=this.stickers.length;l.stickerWidgetController.createFromBulk(this.stickers.reverse()),Object(v.a)().trigger(f.a.VOTING_PLUGIN_HELPFUL_TIP),b.jf(t),this.confirmClose()},n.prototype.changeColor=function(t,n){var e=t.target;void 0!==n?(this.selectIndex=n,this.currentColor=this.stickers[this.selectIndex].background):this.currentColor=this.background,this.isPaletteOpen=!0,this.setColorPickerPosition(e)},n.prototype.setColor=function(t,n){n&&(void 0!==this.selectIndex?this.stickers[this.selectIndex].background=t:this.background=t),this.selectIndex=void 0,this.isPaletteOpen=!1,this.focusToTextarea()},n.prototype.getRGBColor=function(t){return"#"+t.toString(16)},n.prototype.getStickerCount=function(){return this.stickers.length+(this.text.length>0?1:0)},n.prototype.addSticker=function(){this.stickers.unshift({text:this.text,background:this.background}),this.isDoneShow=!0,this.textLimit+=this.text.length,this.text=""},n.prototype.attachKeyEvent=function(){t(document).on("keydown",this.keyHandlerFunc),y().panelVisibilityChanged.add(this.onVisibilityChange,this)},n.prototype.detachKeyEvent=function(){t(document).off("keydown",this.keyHandlerFunc),y().panelVisibilityChanged.remove(this.onVisibilityChange,this)},n.prototype.focusToTextarea=function(){document.getElementById("bulk-create__textarea").focus()},n.prototype.keyHandler=function(t){t.keyCode==g.a.ENTER&&(t.metaKey||t.ctrlKey)&&this.done(),t.keyCode==g.a.ESCAPE&&this.tryClose(),h.e(t.keyCode)&&(this.isDoneShow=!0)},n.prototype.setColorPickerPosition=function(n){var e=t(n),i=e.width(),o=e.offset();this.palette={top:o.top-15,left:o.left+i/2}},n.prototype.onVisibilityChange=function(t,n){t==a.a.STICKER_BULK_CREATE&&(n?w().setFocus(c.a.MODAL):(this.detachKeyEvent(),w().setFocus(c.a.CANVAS)))},n}();n.a=C}).call(this,e(36))},5392:function(t,n,e){var i=e(993),o=e(1170),s=e(1795),a=e(5393),r=e(1171),c=e(262),l=/^\s+|\s+$/g;t.exports=function(t,n,e){if((t=c(t))&&(e||void 0===n))return t.replace(l,"");if(!t||!(n=i(n)))return t;var d=r(t),p=r(n),u=a(d,p),g=s(d,p)+1;return o(d,u,g).join("")}},5393:function(t,n,e){var i=e(982);t.exports=function(t,n){for(var e=-1,o=t.length;++e<o&&i(n,t[e],0)>-1;);return e}},5394:function(t,n,e){var i=e(5395);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5395:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".animation-fade-in {\n  animation: animationFadeIn ease-out 0.2s;\n  animation-fill-mode: both;\n  animation-iteration-count: 1;\n}\n@keyframes animationFadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 0.96;\n  }\n}\n.animation-fadeout {\n  animation: animationFadeOut ease-out 0.2s;\n  animation-fill-mode: forwards;\n  animation-iteration-count: 1;\n  overflow: hidden;\n}\n@keyframes animationFadeOut {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    height: 0;\n    transform: scaleY(0);\n    opacity: 0;\n  }\n}\n.animation-fade-in-up {\n  animation: animationFadeInUp ease-out 0.2s;\n  animation-fill-mode: backwards;\n  animation-iteration-count: 1;\n}\n@keyframes animationFadeInUp {\n  0% {\n    transform: translateY(-20px);\n    height: 0;\n    opacity: 0;\n  }\n  100% {\n    transform: translateY(0px);\n    opacity: 1;\n  }\n}\n.animation-fade-in-down {\n  animation: animationFadeInDown ease-out 0.2s;\n  animation-fill-mode: backwards;\n  animation-iteration-count: 1;\n}\n@keyframes animationFadeInDown {\n  0% {\n    transform: translateY(100px);\n    opacity: 0;\n  }\n  100% {\n    transform: translateY(0px);\n    opacity: 1;\n  }\n}\n.bulk-create {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background: #fff;\n  z-index: 1000;\n  animation: animationBgOverlay ease-out 0.2s;\n  animation-fill-mode: both;\n  animation-iteration-count: 1;\n}\n.bulk-create .bulk-create__color-palette {\n  margin: 0;\n  transform: translate(-50%, -100%);\n}\n.bulk-create .bulk-create__color-palette:after,\n.bulk-create .bulk-create__color-palette:before {\n  display: block;\n  content: ' ';\n  font-size: 0;\n  position: absolute;\n  bottom: -7px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 0;\n  height: 0;\n  border-left: 12px solid transparent;\n  border-right: 12px solid transparent;\n  border-top: 8px solid #fff;\n}\n.bulk-create .bulk-create__color-palette:before {\n  bottom: -8px;\n  border-top-color: rgba(50, 50, 50, 0.1);\n}\n.bulk-create__list {\n  position: absolute;\n  width: 370px;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  left: 50%;\n  top: 40%;\n  margin-left: -185px;\n  animation-duration: 0.1s;\n  animation: animationFadeInDown ease-out 0.2s;\n  animation-fill-mode: backwards;\n  animation-iteration-count: 1;\n}\n@media only screen and (max-device-width: 1024px) {\n  .bulk-create__list {\n    top: 30%;\n  }\n}\n.bulk-create__list-li {\n  margin: 0;\n  padding: 12px 0 0 0;\n  position: relative;\n  font-size: 14px;\n  border-bottom: 1px solid #c3c2cf;\n  line-height: 44px;\n  height: 44px;\n  transition: all 0.1s;\n}\n.bulk-create__list-li.first {\n  padding-top: 0;\n  padding-bottom: 11px;\n  border-bottom: 1px solid #4262ff;\n  line-height: 24px;\n  height: 24px;\n}\n.bulk-create__list-li.first .bulk-create__textarea {\n  font-size: 20px;\n  line-height: 24px;\n  height: 24px;\n}\n.bulk-create__list-li.first:hover {\n  border-color: #4262ff;\n}\n.bulk-create__list-li.ng-enter {\n  animation: animationFadeInUp ease-out 0.2s;\n  animation-fill-mode: backwards;\n  animation-iteration-count: 1;\n}\n.bulk-create__list-li.ng-leave {\n  animation: animationFadeOut ease-out 0.2s;\n  animation-fill-mode: forwards;\n  animation-iteration-count: 1;\n  overflow: hidden;\n}\n.bulk-create__list-li:nth-child(5) {\n  opacity: 0.6;\n}\n.bulk-create__list-li:nth-child(6) {\n  opacity: 0.3;\n}\n.bulk-create__list-li:nth-child(7) {\n  opacity: 0.1;\n}\n.bulk-create__list-li:nth-child(8) {\n  opacity: 0.05;\n}\n.bulk-create__list-li:nth-child(n + 8) {\n  visibility: hidden;\n  display: none;\n}\n.bulk-create__list-li .bulk_create__list-li-close {\n  position: absolute;\n  height: 24px;\n  width: 24px;\n  top: 50%;\n  left: 100%;\n  transform: translateY(-50%);\n  cursor: pointer;\n  opacity: 0;\n  transition: opacity 0.2s;\n}\n@media only screen and (max-device-width: 1024px) {\n  .bulk-create__list-li .bulk_create__list-li-close {\n    opacity: 1;\n  }\n}\n.bulk-create__list-li .bulk_create__list-li-close i {\n  display: block;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  position: relative;\n  width: 10px;\n  height: 10px;\n}\n.bulk-create__list-li .bulk_create__list-li-close i:after,\n.bulk-create__list-li .bulk_create__list-li-close i:before {\n  content: ' ';\n  font-size: 0;\n  display: block;\n  width: 14px;\n  height: 2px;\n  background: #c3c2cf;\n  transform-origin: 50% 50%;\n  transform: rotate(45deg);\n  position: absolute;\n  top: 50%;\n  left: -2px;\n  transition: background-color 0.2s;\n}\n.bulk-create__list-li .bulk_create__list-li-close i:before {\n  transform: rotate(135deg);\n}\n.bulk-create__list-li .bulk_create__list-li-close i:hover:after,\n.bulk-create__list-li .bulk_create__list-li-close i:hover:before {\n  background: #5a87e8;\n}\n.bulk-create__list-li:hover {\n  opacity: 1;\n  color: #050038;\n  border-color: #827f9b;\n}\n.bulk-create__list-li:hover .bulk-create__textarea-edit {\n  color: #050038;\n}\n.bulk-create__list-li:hover .bulk_create__list-li-close {\n  opacity: 1;\n}\n.bulk-create__color {\n  width: 24px;\n  height: 24px;\n  border-radius: 16px;\n  position: absolute;\n  bottom: 12px;\n  left: 0px;\n  background: #555566;\n  margin: 0;\n  cursor: pointer;\n}\n.bulk-create__textarea {\n  font-size: 30px;\n  line-height: 41px;\n  height: 41px;\n  margin: 0;\n  padding: 0;\n  display: block;\n  margin-left: 40px;\n  resize: none;\n  width: 328px;\n  overflow: hidden;\n}\n.bulk-create__textarea::-webkit-input-placeholder {\n  color: #aaaaaa;\n  opacity: 0.5;\n}\n.bulk-create__textarea::-moz-placeholder {\n  color: #aaaaaa;\n  opacity: 0.5;\n}\n.bulk-create__textarea:-ms-input-placeholder {\n  color: #aaaaaa;\n  opacity: 0.5;\n}\n.bulk-create__textarea-edit {\n  font-size: 14px;\n  color: rgba(5, 0, 56, 0.6);\n}\n.bulk-create__textarea-edit[readonly='readonly'] {\n  cursor: pointer;\n}\n.bulk-create__done {\n  position: absolute;\n  display: block;\n  top: 40%;\n  left: 50%;\n  width: 155px;\n  margin-left: 275px;\n  color: #4262ff;\n  animation: animationFadeInDown ease-out 0.2s;\n  animation-fill-mode: backwards;\n  animation-iteration-count: 1;\n}\n@media only screen and (max-device-width: 1024px) {\n  .bulk-create__done {\n    top: 60px;\n    left: 60px;\n    margin-left: 0;\n  }\n}\n.bulk-create__done-text {\n  display: block;\n  font-size: 20px;\n  line-height: 24px;\n  height: 24px;\n  margin-bottom: 3px;\n}\n.bulk-create__done-key {\n  font-size: 13px;\n  color: #c3c2cf;\n}\n@media only screen and (max-device-width: 1024px) {\n  .bulk-create__done-key {\n    display: none;\n  }\n}\n.bulk-create__done-count {\n  color: #c3c2cf;\n}\n.bulk-create__done:hover {\n  color: #5a87e8;\n}\n.bulk-create__close {\n  position: absolute;\n  top: 57px;\n  right: 130px;\n  animation-duration: 0.1s;\n  animation: animationFadeInDown ease-out 0.2s;\n  animation-fill-mode: backwards;\n  animation-iteration-count: 1;\n}\n@media only screen and (max-device-width: 1024px) {\n  .bulk-create__close {\n    top: 60px;\n    right: 60px;\n  }\n}\n.bulk-create__close-cross {\n  position: relative;\n  width: 42px;\n  height: 42px;\n}\n.bulk-create__close-cross:after,\n.bulk-create__close-cross:before {\n  content: ' ';\n  font-size: 0;\n  display: block;\n  width: 58.8px;\n  height: 2px;\n  background: #c3c2cf;\n  transform-origin: 50% 50%;\n  transform: rotate(45deg);\n  position: absolute;\n  top: 50%;\n  left: -8.4px;\n  transition: background-color 0.2s;\n}\n.bulk-create__close-cross:before {\n  transform: rotate(135deg);\n}\n.bulk-create__close-cross:hover:after,\n.bulk-create__close-cross:hover:before {\n  background: #5a87e8;\n}\n.bulk-create__close-esc {\n  color: #c3c2cf;\n  cursor: default;\n  font-size: 13px;\n  margin: 11px 0 0 10px;\n}\n@media only screen and (max-device-width: 1024px) {\n  .bulk-create__close-esc {\n    display: none;\n  }\n}\n.animation-background-overlay {\n  animation: animationBgOverlay ease-out 0.2s;\n  animation-fill-mode: both;\n  animation-iteration-count: 1;\n}\n@keyframes animationBgOverlay {\n  0% {\n    background: rgba(255, 255, 255, 0);\n  }\n  100% {\n    background: rgba(255, 255, 255, 0.96);\n  }\n}\n.bulk-create .bulk-create__excel {\n  position: absolute;\n  top: calc(40% + 280px);\n  width: 430px;\n  white-space: nowrap;\n  left: 50%;\n  margin-left: -185px;\n  color: #4a4a4a;\n  font-size: 13px;\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 0.2s linear, opacity 0.2s linear;\n}\n@media only screen and (max-device-width: 1024px) {\n  .bulk-create .bulk-create__excel {\n    display: none;\n  }\n}\n.bulk-create .bulk-create__excel--visible {\n  visibility: visible;\n  opacity: 1;\n}\n.bulk-create .bulk-create__excel .icon {\n  width: 24px;\n  height: 24px;\n  margin-bottom: 11px;\n}\n",""])},5396:function(t,n,e){t.exports='<div class="bulk-create">\n    <ul class="bulk-create__list">\n        <li class="bulk-create__list-li first">\n            <span class="colorPalette_circle bulk-create__color"\n                  hm-tap="stickerBulkCreate.changeColor($event)"\n                  ng-style="{background:stickerBulkCreate.getRGBColor(stickerBulkCreate.background)}">\n            </span>\n\n            <input class="bulk-create__textarea"\n                   id="bulk-create__textarea"\n                   contenteditable="true"\n                   autofocus="true"\n                   maxlength="260"\n                   ng-trim="false"\n                   rows="1"\n                   placeholder="{{stickerBulkCreate.placeholder}}"\n                   ng-keydown="$event.keyCode == 13 && stickerBulkCreate.add($event)"\n                   ng-model="stickerBulkCreate.text">\n        </li>\n\n        <li class="bulk-create__list-li use-ng-animate"\n            ng-repeat="sticker in stickerBulkCreate.stickers">\n            <span class="colorPalette_circle bulk-create__color"\n                  hm-tap="stickerBulkCreate.changeColor($event,$index)"\n                  ng-style="{background:stickerBulkCreate.getRGBColor(sticker.background)}">\n            </span>\n            <input class="bulk-create__textarea bulk-create__textarea-edit"\n                   readonly="readonly"\n                   maxlength="260"\n                   ng-trim="false"\n                   hm-tap="stickerBulkCreate.edit($event)"\n                   ng-keydown="$event.keyCode == 13 && stickerBulkCreate.update($event)"\n                   ng-blur="stickerBulkCreate.update($event)"\n                   ng-model="sticker.text">\n            <span class="btn bulk_create__list-li-close" hm-tap="stickerBulkCreate.remove(sticker)"><i></i></span>\n        </li>\n    </ul>\n\n    <span class="btn bulk-create__done"\n          hm-tap="stickerBulkCreate.done()"\n          ng-show="stickerBulkCreate.isDoneShow">\n        <span class="bulk-create__done-text">Done\n            <span class="bulk-create__done-count" ng-show="stickerBulkCreate.getStickerCount() > 0">\n                ({{stickerBulkCreate.getStickerCount()}})\n            </span>\n        </span>\n        <span class="bulk-create__done-key">{{stickerBulkCreate.donekey}}</span>\n    </span>\n\n    <span class="btn bulk-create__close" hm-tap="stickerBulkCreate.tryClose()">\n        <div class="bulk-create__close-cross"></div>\n        <div class="bulk-create__close-esc">Esc</div>\n    </span>\n\n    <div class="sub-context-menu-hor color-scm bulk-create__color-palette"\n         id="bulk-create__color-palette"\n         ng-style="{top: stickerBulkCreate.palette.top, left: stickerBulkCreate.palette.left}"\n         ng-if="stickerBulkCreate.isPaletteOpen"\n         do-if-click-out="stickerBulkCreate.isPaletteOpen = false">\n        <color-palette colors="stickerBulkCreate.colors"\n                       selected-color="stickerBulkCreate.currentColor"\n                       on-changed="stickerBulkCreate.setColor(value, selected)">\n        </color-palette>\n    </div>\n\n    <div class="bulk-create__excel" ng-class="{\'bulk-create__excel--visible\': !stickerBulkCreate.stickers.length}">\n        <svg  class="icon"  ><use xlink:href="'+e(5397)+'"></use></svg>\n        <div class="bulk-create__excel-description">\n            When importing notes from a spreadsheet, simply copy and paste<br/>\n            cells to the board. Each cell will be pasted as a new sticky note.\n        </div>\n    </div>\n</div>\n'},5397:function(t,n){t.exports="#img__warning"},5398:function(t,n,e){var i=e(5399);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5399:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".stickers-recognition-box {\n  position: fixed;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  z-index: 300;\n}\n.stickers-recognition-box > * {\n  pointer-events: all;\n}\n#stickers-recognition-canvas,\n.stickers-recognition-loader {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  height: calc(100% - 70px);\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-align: center;\n      align-items: center;\n}\n#stickers-recognition-canvas {\n  background: #f2f2f2;\n  z-index: 302;\n}\n.stickers-recognition-loader {\n  background: rgba(255, 255, 255, 0.6);\n  z-index: 304;\n}\n.recognition-controls-separator {\n  position: absolute;\n  bottom: 70px;\n  left: 0;\n  height: 2px;\n  width: 100%;\n  background: rgba(0, 0, 0, 0.05);\n  z-index: 303;\n}\n.recognition-controls-container {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: 70px;\n  width: 100%;\n  z-index: 300;\n  background: #fff;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row;\n      flex-direction: row;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.recognition-controls-container .main-view-buttons,\n.recognition-controls-container .edit-view-buttons,\n.recognition-controls-container .vp-view-buttons {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-direction: row;\n      flex-direction: row;\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  height: 70px;\n}\n.recognition-controls-container .vp-view-buttons.ng-hide,\n.recognition-controls-container .main-view-buttons.ng-hide {\n  transform: translateY(70px);\n}\n.recognition-controls-container .vp-view-buttons.ng-hide-add,\n.recognition-controls-container .main-view-buttons.ng-hide-add,\n.recognition-controls-container .vp-view-buttons.ng-hide-remove,\n.recognition-controls-container .main-view-buttons.ng-hide-remove {\n  transition: transform 0.2s ease-out;\n}\n.recognition-controls-container .vp-view-buttons .vp-view-submit,\n.recognition-controls-container .main-view-buttons .vp-view-submit,\n.recognition-controls-container .vp-view-buttons .vp-view-cancel,\n.recognition-controls-container .main-view-buttons .vp-view-cancel,\n.recognition-controls-container .vp-view-buttons .main-view-submit,\n.recognition-controls-container .main-view-buttons .main-view-submit,\n.recognition-controls-container .vp-view-buttons .main-view-cancel,\n.recognition-controls-container .main-view-buttons .main-view-cancel {\n  width: 140px;\n  text-align: center;\n  color: #4262ff;\n  font-size: 18px;\n  padding: 23px 0;\n}\n.recognition-controls-container .vp-view-buttons .vp-view-hint,\n.recognition-controls-container .main-view-buttons .vp-view-hint,\n.recognition-controls-container .vp-view-buttons .main-view-hint,\n.recognition-controls-container .main-view-buttons .main-view-hint {\n  cursor: default;\n  color: #4a4a4a;\n  font-size: 13px;\n  text-align: center;\n  margin-left: 60px;\n  margin-right: 60px;\n}\n.recognition-controls-container .edit-view-buttons.ng-hide {\n  transform: translateY(-70px);\n}\n.recognition-controls-container .edit-view-buttons.ng-hide-add,\n.recognition-controls-container .edit-view-buttons.ng-hide-remove {\n  transition: transform 0.2s ease-out;\n}\n.recognition-controls-container .edit-view-buttons .edit-view-delete,\n.recognition-controls-container .edit-view-buttons .edit-view-save {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row;\n      flex-direction: row;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: center;\n      justify-content: center;\n  padding: 23px 0;\n  cursor: pointer;\n}\n.recognition-controls-container .edit-view-buttons .edit-view-delete span {\n  margin-left: 11px;\n  font-size: 18px;\n  color: #4a4a4a;\n}\n.recognition-controls-container .edit-view-buttons .edit-view-delete .icon {\n  width: 11px;\n  height: 11px;\n}\n.recognition-controls-container .edit-view-buttons .edit-view-save {\n  margin-left: 70px;\n}\n.recognition-controls-container .edit-view-buttons .edit-view-save span {\n  margin-left: 11px;\n  font-size: 18px;\n  color: #4262ff;\n}\n.recognition-controls-container .edit-view-buttons .edit-view-save .icon {\n  width: 16px;\n  height: 11px;\n}\n",""])},5400:function(t,n,e){t.exports='<div>\n    <div ng-if="ctrl.showCanvas" class="stickers-recognition-box">\n        <div id="stickers-recognition-canvas" ng-show="!ctrl.selectViewportMode">\n        </div>\n        <div ng-show="ctrl.showLoader" class="stickers-recognition-loader">\n            <material-spinner></material-spinner>\n        </div>\n        <div class="recognition-controls-separator"></div>\n        <div class="recognition-controls-container">\n            <div class="main-view-buttons use-ng-animate" ng-show="ctrl.showMainButtons()">\n                <div class="btn main-view-cancel" hm-tap="ctrl.destroy(true)">Cancel</div>\n                <div class="main-view-hint" ng-hide="ctrl.showLoader">Tap to add or edit a selection</div>\n                <div class="btn main-view-submit"\n                     ng-hide="ctrl.showLoader"\n                     hm-tap="ctrl.showViewportSelector()">+ Add to board\n                </div>\n            </div>\n            <div class="edit-view-buttons ng-hide use-ng-animate" ng-show="ctrl.showEditButtons()">\n                <div class="edit-view-delete" hm-tap="ctrl.deleteContour()">\n                    <svg  class="icon"  ><use xlink:href="'+e(5401)+'"></use></svg>\n                    <span>Delete</span>\n                </div>\n                <div class="edit-view-save" hm-tap="ctrl.saveContour()">\n                    <svg  class="icon"  ><use xlink:href="'+e(5402)+'"></use></svg>\n                    <span>Done</span>\n                </div>\n            </div>\n            <div class="vp-view-buttons ng-hide use-ng-animate" ng-show="ctrl.showViewportButtons()">\n                <div class="btn vp-view-cancel" hm-tap="ctrl.closeVPSelector()">Cancel</div>\n                <div class="vp-view-hint" ng-hide="ctrl.showLoader">Choose a place<br/>for stickers</div>\n                <div class="btn vp-view-submit"\n                     ng-hide="ctrl.showLoader"\n                     hm-tap="ctrl.addToBoard()">Done\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},5401:function(t,n){t.exports="#img__del"},5402:function(t,n){t.exports="#img__done"},5403:function(t,n,e){var i=e(5404);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5404:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".bottom-bar {\n  display: -ms-flexbox;\n  display: flex;\n  position: absolute;\n  z-index: 90;\n  bottom: 8px;\n  left: 8px;\n  padding: 0 8px;\n  transition: width 0.2s cubic-bezier(0.25, 0.1, 0.25, 0.1), transform 0.4s cubic-bezier(0.25, 0.1, 0.25, 0.1);\n  /*JQuery3 quick animation fix*/\n  width: 0;\n}\n.bottom-bar__inner {\n  display: -ms-flexbox;\n  display: flex;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  transition: width 0.2s cubic-bezier(0.25, 0.1, 0.25, 0.1);\n}\n.bottom-bar__inner .svg-button {\n  width: 40px;\n}\n.bottom-bar__toggle {\n  width: 40px;\n  margin-right: 8px;\n  position: absolute;\n  right: 0;\n}\n.bottom-bar__toggle svg {\n  color: rgba(5, 0, 56, 0.2);\n  transform: rotate(270deg);\n}\n.bottom-bar--collapsed .bottom-bar__inner {\n  width: 0;\n}\n.bottom-bar--collapsed .bottom-bar__toggle svg {\n  transform: rotate(90deg);\n}\n",""])},5405:function(t,n,e){t.exports='<div class="bottom-bar board-panel--transparent board-panel--hidden-bottom"\n     ng-class="{\'bottom-bar--collapsed\': ctrl.collapsed}"\n     ng-style="{width: ctrl.getWidth()}">\n    <div class="bottom-bar__inner">\n        <div class="svg-button"\n             ng-repeat="item in ctrl.items | filter:ctrl.getVisibleItems | orderBy:\'positionPriority\' track by item.pluginId"\n             ng-class="[ctrl.getClassForAutoTests(item),\n                       {\'svg-button--active\': item.isActive(),\n                        \'svg-button--notification-top\': ctrl.hasSimpleNotification(item),\n                        \'svg-button--disabled\': item.isDisabled() === true }]"\n             tooltip="{{ item.title.toLowerCase() }}"\n             ui-tip="{{ ctrl.getUITip(item) }}"\n             tooltip-placement="{{ $index && \'top\' || \'top-left\' }}"\n             tooltip-offset-h="{{ $index && \'0\' || \'8\' }}"\n             tooltip-append-to-body="true"\n             hm-tap="ctrl.onItemClick(item)">\n            <badge>\n                <div class="svg-button__big-notification badge" ng-if="ctrl.getNotSimpleNotification(item)">{{ ctrl.getNotSimpleNotification(item) }}</div>\n                <svg>\n                    <use xlink:href="" ng-attr-xlink:href="{{ item.iconURL }}"></use>\n                </svg>\n            </badge>\n        </div>\n    </div>\n    <div class="bottom-bar__toggle svg-button"\n         ng-class="{\'svg-button--notification-top\': ctrl.isCollapsedNotificationVisible() }"\n         hm-tap="ctrl.toggle()">\n        <svg   ><use xlink:href="'+e(1313)+'"></use></svg>\n    </div>\n</div>'},5406:function(t,n,e){"use strict";(function(t){var i=e(59),o=e(5407),s=e(73),a=function(){function n(t){var n=this;this.panelMovers=new Map,this.floatingPanels=Object(s.a)().floatingPanels,t.pluginsIds=i.a,this.setPanelMover(i.a.VIDEO_CHAT,"floating-panel__video-chat"),this.floatingPanels.activePluginsChanged.add(this.onActivePluginsChanged,this),t.$on("$destroy",function(){n.floatingPanels.activePluginsChanged.remove(n.onActivePluginsChanged,n),n.destroyPanelMovers()})}return n.prototype.onActivePluginsChanged=function(t){if(this.panelMovers.has(t)){var n=this.floatingPanels.getActivePlugin(t),e=this.panelMovers.get(t);n&&n.direction&&e.tryInitPosition(n.direction),e.setVisible(!!n)}},n.prototype.destroyPanelMovers=function(){for(var t=0,n=this.panelMovers.values();t<n.length;t++){n[t].destroy()}},n.prototype.setPanelMover=function(n,e){this.panelMovers.set(n,new o.a(t("."+e),.5,1))},n.prototype.isActive=function(t){return this.floatingPanels.isPluginActive(t)},n.prototype.closeVideoChat=function(){this.floatingPanels.deactivate(i.a.VIDEO_CHAT)},n.$inject=["$scope"],n}();n.a=a}).call(this,e(36))},5407:function(t,n,e){"use strict";(function(t){var i=e(21),o=e(133),s=e.n(o),a=e(183),r=e(87),c=e(541),l=e(95),d=function(){function n(n,e,i){var o=this;void 0===e&&(e=0),void 0===i&&(i=0),this.resizeOriginX=e,this.resizeOriginY=i,this.availableArea={top:0,bottom:0,left:0,right:0},this.initialized=!1,this.visible=!1,this.currentPosition={top:0,left:0},this.onDown=function(n){var e=a.b(n),i=o.element.offset();o.startOffsetY=e.y-i.top,o.startOffsetX=e.x-i.left,t(document).on("mousemove touchmove",o.onMove),t(document).on("mouseup touchend",o.onUp)},this.onMove=function(t){var n=a.b(t);o.moveElement(o.correctPosition({top:n.y-o.startOffsetY,left:n.x-o.startOffsetX}))},this.onUp=function(n){n.preventDefault(),t(document).off("mousemove touchmove",o.onMove),t(document).off("mouseup touchend",o.onUp)},this.element=n,this.calcAvailableArea()}return n.prototype.tryInitPosition=function(t){this.initialized||(this.initialized=!0,this.moveElement(this.correctPosition(this.getPosition(t))))},n.prototype.getPosition=function(t){var n,e,i=this.element.width()||0,o=this.element.height()||0;switch(t){case l.a.RIGHT_TOP:e=window.innerWidth-i-8,n=60;break;case l.a.CENTER:e=.5*Math.max(window.innerWidth-i,0),n=.5*(document.body.clientHeight-o);break;default:e=8,n=8}return{left:e,top:n}},n.prototype.getVisible=function(){return this.visible},n.prototype.setVisible=function(t){this.visible=t,t?(this.element.show(),this.checkPosition(),this.init()):(this.element.hide(),this.destroy())},n.prototype.moveElement=function(t){this.element.css(t),this.currentPosition=t},n.prototype.correctPosition=function(t){var n=this.element.width(),e=this.element.height();return t.top<this.availableArea.top&&(t.top=this.availableArea.top),t.top+e>this.availableArea.bottom&&(t.top=this.availableArea.bottom-e),t.left<this.availableArea.left&&(t.left=this.availableArea.left),t.left+n>this.availableArea.right&&(t.left=this.availableArea.right-n),t},n.prototype.calcAvailableArea=function(){var t=Object(r.a)().leftSidebar.visibleWidth,n=document.body.clientWidth-Object(r.a)().rightSidebar.visibleWidth;this.availableArea.top=0,this.availableArea.bottom=document.body.clientHeight,this.availableArea.left=t,this.availableArea.right=n},n.prototype.getCurrentPosition=function(){return this.currentPosition},n.prototype.checkPosition=function(){if(this.visible){this.calcAvailableArea();var t=this.getCurrentPosition(),n=this.correctPosition(Object.assign({},t));s()(t,n)||this.moveElement(n),this.saveElementCurrentSize()}},n.prototype.saveElementCurrentSize=function(){this.elementWidth=this.element.width(),this.elementHeight=this.element.height()},n.prototype.init=function(){this.element.on("mousedown touchstart",this.onDown),this.observer=new MutationObserver(this.checkPosition),this.observer.observe(this.element.get(0),{childList:!0,subtree:!0}),window.addEventListener("resize",this.checkPosition)},n.prototype.destroy=function(){this.element.off("mousedown touchstart",this.onDown),this.observer.disconnect(),window.removeEventListener("resize",this.checkPosition)},Object(i.c)([c.autobind],n.prototype,"checkPosition",null),n}();n.a=d}).call(this,e(36))},5408:function(t,n,e){var i=e(5409);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5409:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".floating-panel {\n  position: fixed;\n  z-index: 10;\n  display: none;\n}\n.floating-panel__inner {\n  width: 300px;\n  box-sizing: border-box;\n  background-color: #fff;\n}\n.floating-panel.ng-enter,\n.floating-panel.ng-leave {\n  transition: all linear 450ms;\n}\n.floating-panels__close {\n  position: absolute;\n  right: 0;\n  color: #827f9b;\n  font-size: 20px;\n  text-align: center;\n  padding: 4px 11px;\n  cursor: pointer;\n  z-index: 1;\n}\n.floating-panels__close:hover {\n  color: #050038;\n}\n.floating-panel.ng-enter.ng-enter-active {\n  animation-name: bounceIn;\n  animation-duration: 450ms;\n  animation-timing-function: linear;\n  animation-fill-mode: forwards;\n}\n@keyframes bounceIn {\n  0% {\n    opacity: 0;\n    transform: scale(0.3) translate3d(0, 0, 0);\n  }\n  50% {\n    opacity: 0.9;\n    transform: scale(1.1);\n  }\n  80% {\n    opacity: 1;\n    transform: scale(0.89);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1) translate3d(0, 0, 0);\n  }\n}\n.floating-panel.ng-leave.ng-leave-active {\n  animation-name: bounceOut;\n  animation-duration: 200ms;\n  animation-timing-function: linear;\n  animation-fill-mode: forwards;\n}\n@keyframes bounceOut {\n  0% {\n    opacity: 1;\n    transform: scale(1) translate3d(0, 0, 0);\n  }\n  100% {\n    opacity: 0;\n    transform: scale(0.3) translate3d(0, 0, 0);\n  }\n}\n.floating-panel.floating-panel__video-chat {\n  min-width: 300px;\n}\n",""])},5410:function(t,n){t.exports='<div class="floating-panels">\n\x3c!--add your floatingpanels here--\x3e\n    <div class="floating-panel floating-panel__video-chat use-ng-animate" ng-show="ctrl.isActive(pluginsIds.VIDEO_CHAT)">\n        <div class="video-chat">\n            <div id=\'video-chat-contacts\' class="video-chat__container"></div>\n            <div id="video-chat-self-video-container" class="video-chat__container"></div>\n        </div>\n    </div>\n</div>\n'},5411:function(t,n,e){"use strict";(function(t){var i=e(21),o=e(26),s=e(463),a=e(721),r=e(183),c=e(54),l=e(45),d=e(72),p=e(286),u=e(39),g=e(61),h=e(34),m=e(92),b=e(5684),v=e(220),f=e(110),_=e(205),x=e(22),w=e(372),y=e(73),k=e(127),C=e(112),O=e(77),T=e(160),j=e(162),S=e(78),E=e(871),A=function(n){function e(t,e){var i=n.call(this,t,e)||this;return i.isProcessLoading=!1,i.boardInfoOpened=!1,i.boardExportOpened=!1,i.isRegularUser=Object(h.a)().userType===m.a.REGULAR,i.dashboardButtonClicked=function(t){var n=Object(u.a)().currentBoard.boardInfo,e=n&&n.account,s=e&&e.id||"";o.Ne(i.boardId,s,"miro"),i.isRegularUser?Object(y.a)().getMode()===k.a.EMBED?Object(d.a)().openBoard(i.boardId,!0):i.openDashboard(t):w.a().openInNewTab("/index/?utm_source=public_board")},i.openDashboard=function(t){Object(d.a)().openDashboard(Object(r.h)(t))},i.attachHistoryEvent(),i.$scope.$on("$destroy",function(){i.detachHistoryEvent()}),i}return Object(i.d)(e,n),e.prototype.attachHistoryEvent=function(){Object(_.a)().resourceLoadingStarted.add(this.onResourceLoading,this),x.pixiCanvas.onEnterFrame.add(this.onEnterFrame,this),x.onCanvasUnloaded.add(this.onCanvasUnloaded,this),x.onCanvasReset.add(this.onCanvasUnloaded,this)},e.prototype.detachHistoryEvent=function(){Object(_.a)().resourceLoadingStarted.remove(this.onResourceLoading,this),x.pixiCanvas.onEnterFrame.remove(this.onEnterFrame,this),x.onCanvasUnloaded.remove(this.onCanvasUnloaded,this),x.onCanvasReset.remove(this.onCanvasUnloaded,this),this.setProcessLoading(!1)},e.prototype.onResourceLoading=function(t){this.onProcessWaiting(t.promise)},e.prototype.onEnterFrame=function(){x.canvasHistory.hasUnconfirmedHistory()&&this.onProcessWaiting()},e.prototype.onCanvasUnloaded=function(){this.setProcessLoading(!1)},e.prototype.onProcessWaiting=function(t){var n=this,e=x.canvasHistory;this.processes||(this.processes=0,this.processTimeout=setTimeout(function(){n.isProcessLoading||n.setProcessLoading(!0)},300)),this.processes++;var i=function(){n.processes--,(n.processes<=0||!e.hasUnconfirmedHistory())&&(n.processes=0,clearTimeout(n.processTimeout),n.isProcessLoading&&n.setProcessLoading(!1))};t?t.then(i).catch(i):i()},e.prototype.setProcessLoading=function(t){this.isProcessLoading=t,this.$scope.safeApply()},e.prototype.openBoardInfo=function(){var t=this;f.c(),Object(u.a)().currentBoard.boardInfo.template?Object(l.a)().show(Object(E.a)({isNewTemplate:!1})):Object(v.a)().then(function(n){n.showDetailsModal({boardId:t.boardId,boardPreviewEnabled:!0,isTemplate:Object(u.a)().currentBoard.boardInfo.template,enableSubmitByEnter:!0})}),o.Xg(),Object(C.b)("board_description_opened",Object(C.a)({}))},e.prototype.openBoardExport=function(){var n=this,e=t(".board-top-left-panel__export").offset();this.boardExportOpened=!0,Object(l.a)().show(Object(b.a)({backgroundClass:"transparent-bg",position:{x:e.left-8,y:e.top+52}})).closed.addOnce(function(){n.$scope.$evalAsync(function(){n.boardExportOpened=!1})});var i={app_type:Object(T.a)(Object(T.b)()),device_os:j.b,account_id:Object(S.s)(function(){return Object(u.a)().currentBoard.boardInfo.account.id}),board_id:Object(S.s)(function(){return Object(u.a)().currentBoard.boardInfo.id})};Object(o.Yh)("export_clicked",i),Object(O.a)().sendApiEvent("export_clicked",i)},e.prototype.exitTemplate=function(t){var n=a.d();n?(Object(d.a)().openBoard(n),Object(p.a)().show(new s.a)):this.openDashboard(t)},e.prototype.makeStarred=function(t){t.preventDefault(),Object(g.b)().ui.board.boardStarred({boardId:this.boardId,callback:function(t){o.Zh(t)}})},Object(i.c)([Object(c.c)("board.info.id")],e.prototype,"boardId",void 0),Object(i.c)([Object(c.c)("board.info.starred")],e.prototype,"isStarred",void 0),Object(i.c)([Object(c.c)("board.info.title")],e.prototype,"boardTitle",void 0),e}(c.a);n.a=A}).call(this,e(36))},5412:function(t,n,e){var i=e(5413);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5413:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".board-export-modal {\n  position: fixed;\n  height: auto;\n  width: auto;\n  top: 55px;\n  left: 65px;\n  transform: translateX(0) translateY(0);\n}\n.board-export-modal .md-content {\n  transform-origin: top left;\n  width: 300px;\n  padding: 20px 24px;\n  margin-left: 0;\n  border-radius: 4px;\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n}\n.board-export-modal .export-item {\n  display: -ms-flexbox;\n  display: flex;\n  height: 40px;\n  -ms-flex-align: center;\n      align-items: center;\n  cursor: pointer;\n}\n.board-export-modal .export-item svg {\n  margin-right: 16px;\n  width: 24px;\n  height: 24px;\n}\n.board-export-modal .export-item:hover {\n  color: #4262ff;\n}\n.board-export-modal .export-item--disabled {\n  cursor: default;\n  color: #cdccd7 !important;\n}\n.board-export-modal .export-item__check {\n  color: #4262ff;\n  width: 24px;\n  height: 24px;\n  margin-left: 4px;\n}\n",""])},5414:function(t,n,e){t.exports='<rtb-modal-old class="board-export-modal">\n    <div class="export-item"\n         ng-if="modal.isShareItemVisible()"\n         hm-tap="modal.onShareItemClick()">\n        <svg   ><use xlink:href="'+e(2217)+'"></use></svg>\n        <span>Share board</span>\n    </div>\n    <div class="export-item"\n         ng-repeat="item in modal.items | orderBy:\'positionPriority\' track by item.pluginId"\n         ng-class="[modal.getClassForAutoTests(item), {\'export-item--disabled\': item.isEnabled() === false}]"\n         ng-show="modal.isVisible(item)"\n         hm-tap="modal.onItemClick(item)"\n         tooltip="{{ item.getTooltip() }}"\n         tooltip-placement="top"\n         tooltip-append-to-body="true">\n        <svg>\n            <use xlink:href="" ng-attr-xlink:href="{{ item.iconURL }}"></use>\n        </svg>\n        <span>{{ item.title }}</span>\n        <svg  class="export-item__check"\n             ng-show="modal.isDone(item)"\n              ><use xlink:href="'+e(814)+'"></use></svg>\n    </div>\n</rtb-modal-old>'},5415:function(t,n){t.exports="#img__globe-bold"},5416:function(t,n){t.exports="#img__user-bold"},5417:function(t,n){t.exports="#img__lock-cur-color"},5418:function(t,n,e){var i=e(5419);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5419:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".board-top-share-button {\n  display: -ms-flexbox;\n  display: flex;\n}\n.board-top-share-button .icon {\n  width: 24px;\n  height: 24px;\n  padding: unset;\n}\n.board-top-share-button .request-to-edit-button {\n  padding: 0 6px 0 5px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.board-top-share-button .share-board-button.share-board-button--with-icon {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.board-top-share-button .share-board-button.share-board-button--with-icon .share-board-button__icon {\n  width: 16px;\n  height: 16px;\n  margin-right: 6px;\n}\n",""])},5420:function(t,n,e){t.exports='<div class="board-top-share-button">\n    <div ui-tip="SHARE_USM">\n        <div ui-tip="SHARE_BOARD">\n            <div ui-tip="SHARE_BRAINWRITING">\n                <div ui-tip="SHARE_RETRO">\n                    <div ui-tip="SHARE_KANBAN">\n                        <button class="rtb-btn rtb-btn--primary rtb-btn--xsmall rtb-btn--bold share-board-button"\n                                data-autotest-id="{{ctrl.autotestId}}"\n                                id="share-board-button"\n                                ng-show="panels.SHARE_BUTTON"\n                                hm-tap="ctrl.openShareModal()"\n                                tooltip="{{ctrl.tooltipText}}"\n                                ui-tip="SHARE_AFTER_TUTORIAL"\n                                tooltip-placement="bottom"\n                                tooltip-append-to-body="true"\n                                ng-class="{\'share-board-button--with-icon\': ctrl.needShowShareAccessIcon}">\n                                <svg ng-if="ctrl.needShowShareAccessIcon" class="share-board-button__icon">\n                                    <use xlink:href="" ng-attr-xlink:href="{{ctrl.icon}}"></use>\n                                </svg>\n                                Share\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <button class="rtb-btn rtb-btn--primary rtb-btn--xsmall rtb-btn--bold request-to-edit-button"\n            data-autotest-id="request-to-edit-blue-button"\n            hm-tap="ctrl.toggleEditRequestPanel()"\n            ng-show="panels.REQUEST_TO_EDIT_BTN">\n                \x3c!-- view only --\x3e\n                <svg  class="board-top-right-panel icon"\n                     ng-if="ctrl.isRequestButtonViewerMode()"\n                      \n                     style="margin-right: 4px"><use xlink:href="'+e(5421)+'"></use></svg>\n                <span ng-if="ctrl.isRequestButtonViewerMode()">View only</span>\n\n                \x3c!-- comment only --\x3e\n                <svg  class="board-top-right-panel icon"\n                     ng-if="ctrl.isRequestButtonCommenterMode()"\n                      \n                     style="margin-right: 4px"><use xlink:href="'+e(5422)+'"></use></svg>\n                <span ng-if="ctrl.isRequestButtonCommenterMode()">Comment only</span>\n\n                <svg  class="board-top-right-panel icon"\n                      \n                     style="margin-left: 4px"><use xlink:href="'+e(5423)+'"></use></svg>\n    </button>\n\n    <button class="rtb-btn rtb-btn--primary rtb-btn--xsmall rtb-btn--bold"\n            id="save-demo-board-button"\n            ng-show="panels.SAVE_DEMO_BOARD_BUTTON"\n            hm-tap="ctrl.openSaveToMyBoardsModal()"> Save to edit\n    </button>\n</div>'},5421:function(t,n){t.exports="#img__eye"},5422:function(t,n){t.exports="#img__comment"},5423:function(t,n){t.exports="#img__arrow_down"},5424:function(t,n,e){var i=e(5425);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5425:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".board-edit-request-panel {\n  box-sizing: border-box;\n  position: absolute;\n  z-index: 200;\n  top: 52px;\n  right: 0;\n  width: 320px;\n  padding: 11px 25px 17px 25px;\n  background-color: #fff;\n  border-radius: 4px;\n  font-size: 14px;\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n  transform-origin: top center;\n}\n.board-edit-request-panel.ng-enter,\n.board-edit-request-panel.ng-leave.ng-leave-active {\n  opacity: 0;\n  transform: scale(0.8);\n}\n.board-edit-request-panel.ng-leave,\n.board-edit-request-panel.ng-enter.ng-enter-active {\n  opacity: 1;\n  transform: scale(1);\n}\n.board-edit-request-panel.ng-enter,\n.board-edit-request-panel.ng-leave {\n  transition: all 0.15s cubic-bezier(0.25, 0.5, 0.5, 0.9);\n}\n.board-edit-request-panel .rtb-btn {\n  margin: auto;\n}\n.board-edit-request-panel--left {\n  right: unset;\n  left: 0;\n}\n",""])},5426:function(t,n){t.exports='<div class="board-edit-request-panel", ng-class="{\'board-edit-request-panel--left\': controller.isLeftPosition}">\n    <p ng-if="controller.isGuestMode()">\n        You\'re a\n        <span ng-if="controller.isViewerMode()">viewer</span>\n        <span ng-if="controller.isCommenterMode()">commenter</span>\n        on this board. To ask for editor rights to make changes, please\n        <a hm-tap="controller.onLoginHandler()"\n           class="rtb-link rtb-link--primary rtb-link--no-wrapped">log in</a>\n        or\n        <a hm-tap="controller.onSingUpHandler()"\n           class="rtb-link rtb-link--primary rtb-link--no-wrapped">sign up</a>.\n    </p>\n\n    <div ng-if="!controller.isGuestMode()">\n        <p>\n            <span ng-if="controller.isViewerMode()"> You\'re a viewer on this board.</span>\n            <span ng-if="controller.isCommenterMode() || controller.isNoLicenseMode()">You\'re a commenter on this board.</span>\n            <span ng-if="controller.isCommenterMode() || controller.isViewerMode()">\n                Ask for editor rights to make changes.\n            </span>\n            <span ng-if="controller.isNoLicenseMode()">\n                Ask Company Admin for a license to start editing.\n            </span>\n        </p>\n\n        <button ng-if="controller.isCommenterMode() || controller.isViewerMode()"\n                class="rtb-btn rtb-btn--primary-flat rtb-btn--small"\n                hm-tap="controller.requestEditAccess()"\n                data-autotest-id="board-edit-request-panel__button">\n            Request editor rights\n        </button>\n\n        <button ng-if="controller.isNoLicenseMode()"\n                class="rtb-btn rtb-btn--primary-flat rtb-btn--small"\n                hm-tap="controller.requestLicense()"\n                data-autotest-id="board-edit-request-panel__button">\n            Request a license to edit\n        </button>\n    </div>\n</div>'},5427:function(t,n,e){var i=e(5428);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5428:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,"/**\n  \u041e\u0431\u0449\u0438\u0435 \u043c\u0438\u043a\u0441\u0438\u043d\u044b \u0434\u043b\u044f account & application.\n */\n@keyframes ContentPlaceholderGradient {\n  from {\n    background-position: 100% 50%;\n  }\n  to {\n    background-position: 0 50%;\n  }\n}\n@keyframes spinner {\n  to {\n    transform: rotate(360deg);\n  }\n}\n.board-top-left-panel {\n  display: -ms-flexbox;\n  display: flex;\n  min-width: 1px;\n}\n.board-top-left-panel--unexpanded {\n  width: 100%;\n}\n.board-top-left-panel__dashboard {\n  padding: 0 16px;\n}\n.board-top-left-panel__dashboard .to-dashboard {\n  width: 64px;\n  height: 24px;\n  transform: translateY(-2px);\n}\n.board-top-left-panel__export {\n  padding: 0 16px;\n}\n.board-top-left-panel__board-name {\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  -ms-flex-positive: 1;\n      flex-grow: 1;\n  overflow: hidden;\n}\n.board-top-left-panel__title {\n  padding: 0 16px;\n  font-size: 14px;\n  font-weight: bold;\n  line-height: 48px;\n  color: #050038;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  font-family: Formular, sans-serif;\n  font-size: 16px;\n  font-weight: 500;\n}\n.board-top-left-panel__title--editable {\n  cursor: pointer;\n}\n.board-top-left-panel__title--editable:hover {\n  color: #4262ff;\n}\n.star-icon {\n  cursor: pointer;\n  line-height: 48px;\n  color: #000;\n  margin: 1px 8px 0 -10px;\n}\n.star-icon svg {\n  vertical-align: middle;\n  width: 24px;\n  height: 24px;\n  margin-top: -5px;\n  display: none;\n}\n.star-icon .star-icon-hollow {\n  display: inline;\n}\n.do-hovers .star-icon:hover svg {\n  color: #4262ff;\n}\n.star-icon-hollow {\n  color: rgba(5, 0, 56, 0.2);\n}\n.star-icon.star-icon--active svg {\n  color: #4262ff;\n}\n.star-icon.star-icon--active .star-icon-hollow {\n  display: none;\n}\n.star-icon.star-icon--active .star-icon-full {\n  display: inline;\n}\n",""])},5429:function(t,n,e){t.exports='<div class="board-top-left-panel board-panel--transparent board-panel--hidden-top" ng-class="{\'board-top-left-panel--unexpanded\': !expanded}">\n    <div class="svg-button board-top-left-panel__dashboard"\n         ng-class="{\'board-top-left-panel__dashboard--waiting\': ctrl.isProcessLoading}"\n         hm-tap-up="ctrl.dashboardButtonClicked($event)"\n         tooltip="go&nbsp;to&nbsp;boards"\n         tooltip-placement="bottom"\n         tooltip-append-to-body="true"\n         tooltip-enable="{{ctrl.isRegularUser}}"\n         ng-show="panels.DASHBOARD_BUTTON">\n        <svg  class="to-dashboard"   ng-if="expanded"><use xlink:href="'+e(243)+'"></use></svg>\n        <svg    ng-if="!expanded"><use xlink:href="'+e(5430)+'"></use></svg>\n    </div>\n\n    <button class="rtb-btn rtb-btn--primary rtb-btn--xsmall rtb-btn--bold"\n            ng-show="panels.EXIT_TEMPLATE && expanded"\n            hm-tap="ctrl.exitTemplate($event)">Save and exit</button>\n\n    <div class="board-panel__splitter"\n         ng-show="panels.DASHBOARD_BUTTON || panels.EXIT_TEMPLATE"></div>\n\n    <div class="board-top-left-panel__board-name">\n        <div class="board-top-left-panel__title board-top-left-panel__title--editable"\n             hm-tap="ctrl.openBoardInfo()"\n             tooltip="edit&nbsp;board&nbsp;settings"\n             tooltip-placement="bottom"\n             ng-show="panels.BOARD_INFO_EDIT">\n            {{ ctrl.boardTitle }}\n        </div>\n\n        <div class="board-top-left-panel__title"\n             ng-show="panels.BOARD_INFO_VIEW">\n            {{ ctrl.boardTitle }}\n        </div>\n\n        <div ng-show="ctrl.isRegularUser && (panels.BOARD_INFO_EDIT || panels.BOARD_INFO_VIEW)" class="star-icon" ng-class="{\'star-icon--active\': ctrl.isStarred}" hm-tap="ctrl.makeStarred($event)"\n             tooltip="{{ (ctrl.isStarred ? \'Uns\' : \'S\') + \'tar&nbsp;this&nbsp;board\' }}"\n             tooltip-placement="bottom"\n            >\n            <svg  class="star-icon-hollow"   ><use xlink:href="'+e(821)+'"></use></svg>\n            <svg  class="star-icon-full"   ><use xlink:href="'+e(682)+'"></use></svg>\n        </div>\n    </div>\n\n    <div class="board-panel__splitter"\n         ng-show="panels.BOARD_EXPORT"></div>\n\n    <board-top-share-button panels="panels" ng-show="!expanded" autotest-id="board__share-button--tablet" />\n\n    <board-edit-request-panel\n            class="use-ng-animate"\n            ng-if="!expanded && panels.REQUEST_TO_EDIT_PANEL">\n    </board-edit-request-panel>\n\n    <div class="svg-button board-top-left-panel__export"\n         ng-class="{\'svg-button--active\': ctrl.boardExportOpened}"\n         hm-tap="ctrl.openBoardExport()"\n         tooltip="export&nbsp;this&nbsp;board"\n         tooltip-placement="bottom"\n         tooltip-enable="{{!boardExportOpened}}"\n         ng-show="expanded && panels.BOARD_EXPORT">\n        <svg  class="icon"  ><use xlink:href="'+e(5431)+'"></use></svg>\n    </div>\n</div>\n'},5430:function(t,n){t.exports="#img__home2"},5431:function(t,n){t.exports="#img__export-board"},5432:function(t,n,e){"use strict";(function(t){var i=e(21),o=e(26),s=e(129),a=e(54),r=e(73),c=e(39),l=e(59),d=e(413),p=e(235),u=e(87),g=e(211),h=e(137),m=e(33),b=e(77),v=e(34),f=d.b(),_=function(n){function e(t,e){var i=n.call(this,t,e)||this;i.tutorialTipVisible=!1;var o=function(){t.notificationsCount=f().changesInfo.count.unread+Object(p.a)().getUnreadCount,t.safeApply()};o(),f().changesUpdated.add(o),Object(p.a)().tipsUpdated.add(o);var s=function(n){i.tutorialTipVisible=n,t.safeApply()};return h.i.add(s),t.$on("$destroy",function(){h.i.remove(s),f().changesUpdated.remove(o),Object(p.a)().tipsUpdated.remove(o)}),i}return Object(i.d)(e,n),Object.defineProperty(e.prototype,"isPanelVisible",{get:function(){return this.$scope.panels.SHARE_BUTTON||this.$scope.panels.SAVE_DEMO_BOARD_BUTTON||this.$scope.panels.INSPIRATION_CENTER_BUTTON||this.$scope.panels.BOARD_SETTINGS_BUTTON||this.$scope.panels.SEARCH_BUTTON||this.$scope.panels.FEED_BUTTON},enumerable:!0,configurable:!0}),e.prototype.canShowFeedButton=function(){return t.desktop&&Object(m.u)(Object(c.a)().currentBoard.boardInfo.account)},e.prototype.hideInteractiveTutorialSkippedTip=function(){this.interactiveTutorialSkippedTipVisible&&Object(h.d)().then(function(t){return t.hideInteractiveTutorialSkippedTip()})},e.prototype.isInspirationCenterOpened=function(){return Object(u.a)().rightSidebar.activePluginId===l.a.INSPIRATION_CENTER},e.prototype.toggleInspirationCenter=function(){if(Object(u.a)().rightSidebar.activePluginId!==l.a.INSPIRATION_CENTER){var t=Object(c.a)().currentBoard.boardInfo,n={clicked_guide_from:"board",board_id:t.id,user_id:Object(v.a)().userInfo.id,account_id:t.account.id};o.xd(n),Object(b.a)().sendApiEvent("clicked_guide",n)}g.j({byUser:!0})},e.prototype.toggleSearch=function(){Object(r.a)().togglePanelVisibility(s.a.SEARCH)},e.prototype.toggleSettingsMenu=function(){Object(r.a)().togglePanelVisibility(s.a.BOARD_SETTINGS),Object(r.a)().getPanelVisible(s.a.BOARD_SETTINGS)&&o.ch("board")},e.prototype.hideTutorialTip=function(){Object(h.e)()},Object(i.c)([Object(a.c)("ui.interactiveTutorial.skippedTip.html")],e.prototype,"interactiveTutorialSkippedTip",void 0),Object(i.c)([Object(a.c)("ui.interactiveTutorial.skippedTip.visible")],e.prototype,"interactiveTutorialSkippedTipVisible",void 0),e}(a.a);n.a=_}).call(this,e(0))},5433:function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return E});var i=e(52),o=e(372),s=e(26),a=e(22),r=e(567),c=e(611),l=e(45),d=e(139),p=e(75),u=e(65),g=e(56),h=e(435),m=e(876),b=e(127),v=e(39),f=e(73),_=e(1563),x=e(263),w=e(164),y=e(50),k=e(33),C=e(34),O=e(320),T=e(117),j=g.b(),S=h.b();function E(){return[{title:"Follow all Threads",icon:e(686),dataAutotestId:"follow-threads",onClick:function(){var t=Object(k.wb)(Object(v.a)().currentBoard.subscriptionMode)?O.a.MANUALLY_UNSUBSCRIBED:O.a.MANUALLY_SUBSCRIBED;return Object(v.a)().setSubscriptionMode(t),!1},isCheckVisible:function(){return Object(k.wb)(Object(v.a)().currentBoard.subscriptionMode)},available:Object(k.Q)(Object(v.a)().currentBoard.boardInfo.account,T.a.THREAD_SUBSCRIPTIONS)},{title:"Shortcuts",icon:e(5434),dataAutotestId:"shortcuts",available:!t.isTouchSupportedAndNotDesktop,onClick:function(){return s.hd(),p.a.onSettingsShortcutsClicked(),Object(l.a)().show(Object(_.a)()),!0}},{title:"Navigation mode",icon:e(5435),dataAutotestId:"nav-mode",available:!t.isTouchSupportedAndNotDesktop,onClick:function(){return p.a.onSettingsNavigationModeClicked(),Object(d.a)().showDialog("help_menu"),!0}},{title:"Snap objects",icon:e(2344),dataAutotestId:"snap-objects",onClick:function(){return a.snapObjects.snapObjects=!a.snapObjects.snapObjects,p.a.onSettingsSnapObjectsClicked(a.snapObjects.snapObjects),!1},isCheckVisible:function(){return a.snapObjects.snapObjects}},{title:"Suggest object size",icon:e(2344),dataAutotestId:"suggest-object-size",available:Object(x.a)().isEnabled(w.a.SUGGEST_SIZE),onClick:function(){return a.snapObjects.suggestObjectSize=!a.snapObjects.suggestObjectSize,!1},isCheckVisible:function(){return a.snapObjects.suggestObjectSize}},{title:"Show grid",icon:e(5436),dataAutotestId:"show-grid",onClick:function(){return p.a.onSettingsShowGridClicked(),r.e(!r.b()),!1},isCheckVisible:function(){return r.b()}},{title:"Set start view",icon:e(5437),dataAutotestId:"set-start-view",available:Object(v.a)().currentBoard.canCreateAndEditWidgets()&&Object(f.a)().getMode()===b.a.NORMAL,onClick:function(){return p.a.onSettingsSetStartViewClicked(),j().setTool(u.a.CURSOR),S().editView(),!0},isCheckVisible:function(){return!1}},{title:"Collaborators' cursors",icon:e(5438),dataAutotestId:"cursors",onClick:function(){return p.a.onSettingsCollaboratorsCursorsClicked(),Object(c.a)().setShowCursors(!Object(c.a)().getShowCursors(),!0,"right-top"),!1},isCheckVisible:function(){return Object(c.a)().getShowCursors()}},{title:"Apps & Integrations",icon:e(5439),dataAutotestId:"marketplace",available:Object(f.a)().getMode()!==b.a.EMBED&&m.a(),onClick:function(){return s.oh(),p.a.onSettingsAddonsClicked(),m.b(),!0}},{title:"API Documentation",icon:e(5440),dataAutotestId:"api-documentation",onClick:function(){return s.T("board"),o.a().openInNewTab("https://developers.miro.com/docs"),!0}},{title:"Account settings",icon:e(2345),dataAutotestId:"acc-settings",available:Object(f.a)().getMode()!==b.a.EMBED,onClick:function(){s.Wb(),p.a.onSettingsAccountSettingsClicked();var t=Object(v.a)().currentBoard.boardInfo.account,n=t&&Object(C.a)().accounts.find(function(n){return t.id===n.id});if(Object(k.s)(t))Object(s.dh)({open_new_settings_app_from:s.n.PROFILE_SETTINGS_FROM_BOARD,role:t.currentUserPermission&&t.currentUserPermission.role||"",org_id:"",account_plan:t.type}),i.a.teamUserProfile(t.id,void 0,!0);else if(n&&k.a(n)&&n.organization&&k.e(n.organization)){var e=n.organization;Object(s.dh)({open_new_settings_app_from:s.n.PROFILE_SETTINGS_FROM_BOARD,role:!!e&&e.currentUserPermission&&e.currentUserPermission.role||"",org_id:!!e&&e.id||"",account_plan:!!e&&e.type||""}),i.a.companyUserProfile(e.id,void 0,!0)}else i.w().openInNewTab();return!0}},{title:"Log out",icon:e(2345),dataAutotestId:"logout",available:Object(f.a)().getMode()===b.a.EMBED&&""!==Object(y.i)("authFailRedirect"),onClick:function(){return o.a().navigateTo(i.b.logoutLink(Object(y.i)("authFailRedirect"))),!0}}]}}).call(this,e(0))},5434:function(t,n){t.exports="#img__shortcuts-24"},5435:function(t,n){t.exports="#img__navigation-24"},5436:function(t,n){t.exports="#img__grid-24"},5437:function(t,n){t.exports="#img__start-view-24"},5438:function(t,n){t.exports="#img__collab-cursor-24"},5439:function(t,n){t.exports="#img__plugins-24"},5440:function(t,n){t.exports="#img__api-24"},5441:function(t,n,e){t.exports='<div class="board-settings">\n    <div class="board-settings__item"\n         ng-repeat="item in ::menuItems"\n         ng-hide="item.available === false"\n         hm-tap="onItemClick(item)"\n         ng-attr-data-autotest-id="AT__board-settings__{{item.dataAutotestId}}">\n        <svg>\n            <use xlink:href="" ng-attr-xlink:href="{{ ::item.icon }}"></use>\n        </svg>\n        <span>{{ ::item.title }}</span>\n        <svg  class="check-icon"\n             ng-show="item.isCheckVisible()"\n              ><use xlink:href="'+e(814)+'"></use></svg>\n    </div>\n</div>'},5442:function(t,n,e){var i=e(5443);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5443:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".board-settings {\n  box-sizing: border-box;\n  position: absolute;\n  z-index: 200;\n  top: 52px;\n  right: 0;\n  width: 300px;\n  padding: 20px 25px;\n  background-color: #fff;\n  border-radius: 4px;\n  font-size: 14px;\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n  transform-origin: top center;\n}\n.board-settings.ng-enter,\n.board-settings.ng-leave.ng-leave-active {\n  opacity: 0;\n  transform: scale(0.8);\n}\n.board-settings.ng-leave,\n.board-settings.ng-enter.ng-enter-active {\n  opacity: 1;\n  transform: scale(1);\n}\n.board-settings.ng-enter,\n.board-settings.ng-leave {\n  transition: all 0.15s cubic-bezier(0.25, 0.5, 0.5, 0.9);\n}\n.board-settings__item {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  cursor: pointer;\n  height: 40px;\n  color: #050038;\n}\n.board-settings__item span {\n  margin: 0 4px 0 16px;\n}\n.board-settings__item .check-icon {\n  color: #4262ff;\n}\n.board-settings__item svg {\n  display: inline-block;\n  width: 24px;\n  height: 24px;\n}\n.board-settings__item:hover {\n  color: #4262ff;\n}\n",""])},5444:function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return a});var i=e(30),o=e(2335),s=e(25);function a(){e(2336),Object(s.b)().directive("canvasSearch",r)}function r(){return Object(i.a)({restrict:"E",template:e(5445),controller:o.a,link:function(n,e){var i=e.find("input"),o=e.find(".cnvsSearch_results");n.inputFocus=function(){i.focus()},n.inputBlur=function(){i.blur()},n.inputSelect=function(){i.select()},n.itemScrollIntoView=function(n){var e=o.children().get(n+1);e&&t(e).scrollIntoView()},n.listSetMaxHeight=function(t){o.css("max-height",t+"px")}}})}}).call(this,e(36))},5445:function(t,n,e){t.exports='<div id="searchPanel"\n     class="cnvsSearch canvas-ui-container use-ng-animate">\n    <div class="cnvsSearch_inputContainer">\n        <svg  class="cnvsSearch_inputContainer_icon"\n              \n             hm-tap="closeSearchPanel($event)"><use xlink:href="'+e(679)+'"></use></svg>\n        <input class="cnvsSearch_inputContainer_input" ng-model="values.input" ng-keydown="onKeyDown($event)" ng-change="onChange()" placeholder="{{ inputPlaceholder }}">\n        <div class="svg-button search-options__filters"\n             ng-class="{\'svg-button--active\': values.optionsVisible}" hm-tap="switchOptions()">\n            <svg   ><use xlink:href="'+e(632)+'"></use></svg>\n        </div>\n    </div>\n\n    <div class="cnvsSearch__box">\n        <div class="search-options__container" ng-show="values.optionsVisible">\n            <div class="search-options__button"\n                 hm-tap="switchFiltersMenu()"\n                 hm-tap-down="preventCloseContextMenu($event)">\n                <div ng-hide="values.filterType">Everywhere</div>\n                <div ng-show="values.filterType">In: {{filterDefs[values.filterType].name}}</div>\n                <div class="search-options__triangle"></div>\n            </div>\n\n            <div class="search-options__button"\n                 ng-class="{\'search-options__button--disabled\': !canSelectAll()}"\n                 hm-tap="selectAll()">\n                Select all\n            </div>\n        </div>\n\n        <div class="cnvsSearch_separator" ng-show="values.optionsVisible && (values.result.length || values.input || values.filterType)"></div>\n\n        <scrollable no-bottom-line="true" no-top-line="true">\n            <div class="cnvsSearch_results">\n                <div class="cnvsSearch_results_whiteSpace" ng-hide="!values.result.length && !values.input && !values.filterType"></div>\n                <div class="cnvsSearch_results_result" ng-repeat="item in values.result track by item.index" hm-tap="selectItem(item)"\n                     ng-class="{\'cnvsSearch_results_result-selected\':item.selected}">\n                    <div class="icon">\n                        <svg class="cnvsSearch_icon">\n                            <use xlink:href="" ng-attr-xlink:href="{{item.icon}}"></use>\n                        </svg>\n                    </div>\n\n                    <div class="cnvsSearch_tag" ng-show="item.tagText" ng-style="{\'background-color\': item.tagColor}">\n                        {{item.tagText}}\n                    </div>\n\n                    <div class="cnvsSearch-text" title="{{item.fullText}}">\n                        {{item.text}}\n                    </div>\n                </div>\n                <div class="cnvsSearch_results_noResults" ng-hide="values.result.length || !values.input && !values.filterType">\n                    No results\n                </div>\n                <div class="cnvsSearch_results_whiteSpace" ng-hide="!values.result.length && !values.input && !values.filterType"></div>\n            </div>\n        </scrollable>\n    </div>\n</div>'},5446:function(t,n,e){var i=e(5447);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5447:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".board-top-right-panel {\n  display: -ms-flexbox;\n  display: flex;\n  padding-left: 8px;\n  padding-right: 8px;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.board-top-right-panel .rtb-btn {\n  margin-left: 0;\n}\n.board-top-right-panel .svg-button {\n  width: 40px;\n  height: 48px;\n}\n.board-top-right-panel .icon {\n  width: 24px;\n  height: 24px;\n  padding: unset;\n}\n.board-top-right-panel .toggle-search-button {\n  transition: width 0.2s ease-out;\n  -ms-flex-align: start;\n      align-items: flex-start;\n}\n.board-top-right-panel .toggle-search-button svg {\n  margin-left: 8px;\n}\n.board-top-right-panel .inspiration-center-launcher__popup {\n  margin-top: 24px;\n}\n.board-top-right-panel--search-opened {\n  background-color: #fff;\n}\n.board-top-right-panel--search-opened .toggle-search-button {\n  width: 254px;\n}\n",""])},5448:function(t,n,e){t.exports='<div class="board-top-right-panel board-panel--transparent board-panel--hidden-top"\n     ng-show="ctrl.isPanelVisible"\n     ng-class="{\'board-top-right-panel--search-opened\': panels.SEARCH}">\n\n    <board-top-share-button panels="panels" autotest-id="board__share-button--desktop" />\n\n    <div class="svg-button settings-menu-button"\n         id="settings-menu-button"\n         ng-class="{\'svg-button--active\': panels.BOARD_SETTINGS}"\n         ng-show="panels.BOARD_SETTINGS_BUTTON"\n         hm-tap="ctrl.toggleSettingsMenu()"\n         ui-tip="FEED_THREAD_FOLLOWED"\n         tooltip="settings"\n         tooltip-append-to-body="true"\n         tooltip-placement="bottom">\n        <svg   ><use xlink:href="'+e(1772)+'"></use></svg>\n    </div>\n\n    <inspiration-center-launcher id="inspiration-center-button"\n                                 class="btn svg-button svg-button__big-notification"\n                                 ng-class="{\'svg-button--active\': ctrl.isInspirationCenterOpened()}"\n                                 notifications-visible="notificationsCount > 0"\n                                 notifications-count="notificationsCount"\n                                 on-click="ctrl.toggleInspirationCenter()"\n                                 tooltip-text="ctrl.interactiveTutorialSkippedTip"\n                                 tooltip-visible="ctrl.interactiveTutorialSkippedTipVisible"\n                                 hide-tooltip="ctrl.hideInteractiveTutorialSkippedTip()"\n                                 tooltip-append-to-body="true"\n                                 ui-tip="CHECK_OUR_GUIDE"\n                                 ng-show="panels.INSPIRATION_CENTER_BUTTON">\n    </inspiration-center-launcher>\n\n    <feed-launcher ng-if="panels.FEED_BUTTON && ctrl.canShowFeedButton()"></feed-launcher>\n\n    <div class="btn svg-button toggle-search-button"\n         id="search-button"\n         ng-show="panels.SEARCH_BUTTON"\n         ng-class="{\'svg-button--active\': panels.SEARCH}"\n         hm-tap="ctrl.toggleSearch()"\n         tooltip="search"\n         tooltip-append-to-body="true"\n         tooltip-placement="bottom">\n        <svg   ><use xlink:href="'+e(685)+'"></use></svg>\n    </div>\n\n    <board-edit-request-panel\n            class="use-ng-animate"\n            ng-if="panels.REQUEST_TO_EDIT_PANEL">\n    </board-edit-request-panel>\n    <board-settings class="use-ng-animate" ng-if="panels.BOARD_SETTINGS"></board-settings>\n    <canvas-search ng-show="panels.SEARCH"></canvas-search>\n</div>\n'},5449:function(t,n,e){var i=e(5450);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5450:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".undo-redo {\n  width: 97px;\n  margin-left: 8px;\n  display: -ms-flexbox;\n  display: flex;\n}\n.undo-redo .svg-button {\n  width: 48px;\n}\n",""])},5451:function(t,n,e){t.exports='<div class="undo-redo board-panel--transparent board-panel--hidden-top"\n     ng-show="ctrl.undoEnabled || ctrl.redoEnabled">\n    <div class="svg-button"\n         ng-class="{\'svg-button--disabled\': !ctrl.undoEnabled}"\n         hm-tap="ctrl.undo()"\n         tooltip="undo" tooltip-hotkey="%@%+Z" tooltip-placement="bottom">\n        <svg  class="icon"  ><use xlink:href="'+e(5452)+'"></use></svg>\n    </div>\n    <div class="board-panel__splitter"></div>\n    <div class="svg-button"\n         ng-class="{\'svg-button--disabled\': !ctrl.redoEnabled}"\n         hm-tap="ctrl.redo()"\n         tooltip="redo" tooltip-hotkey="%@%+Shift+Z" tooltip-placement="bottom">\n        <svg  class="icon"  ><use xlink:href="'+e(5453)+'"></use></svg>\n    </div>\n</div>'},5452:function(t,n){t.exports="#img__undo"},5453:function(t,n){t.exports="#img__redo"},5454:function(t,n,e){"use strict";(function(t,i){var o=e(21),s=e(26),a=e(22),r=e(34),c=e(611),l=e(60),d=e(256),p=e(39),u=e(248),g=e(2089),h=e(235),m=e(71),b=e(255),v=r.b(),f=p.b(),_=c.b(),x=u.b(),w=t.desktop?100:50,y=function(){function t(t){var n=this;this.$scope=t,this.onlineUsers=[],this.onlineClientsMap=new Map,this.onlineUsersMap=new Map,i.log("ng","OnlineUsersController"),t.canvasLoaded=!1,t.allOnlineUsersCount=0,t.onlineUsersToDisplay=[],t.isCursorsActive=!1,t.toggleTooltipPlacement="bottom",t.userTooltipPlacement="bottom",t.maxCount=m.m,_().collaboratorsCursorsSwitched.add(this.onCursorsSwitched,this),t.moveToViewport=function(t){s.Vc(),_().moveToViewport(t)},t.onCursorsClicked=function(){t.toggleCursors(),g.b(t.isCursorsActive),t.isCursorsActive&&s.id(),Object(h.a)().trigger(l.a.VOTING_PLUGIN_HELPFUL_TIP)},t.toggleCursors=function(){t.isCursorsActive=!t.isCursorsActive,_().setShowCursors(t.isCursorsActive,!0,"right-bottom"),v().achievements.open(l.a.CLICK_SHOW_CURSORS)},a.onCanvasLoaded.addOnce(this.onCanvasLoaded,this),x().clientAttached.add(this.clientAttachedHandler,this),x().clientDetached.add(this.clientDetachedHandler,this),x().clientActivated.add(this.onClientTabActivated,this),x().clientDeactivated.add(this.onClientTabDeactivated,this),x().userInfoUpdated.add(this.onUserInfoUpdated,this),b.i.add(this.onScreenSharingStateChanged,this),t.$on("$destroy",function(){x().clientAttached.remove(n.clientAttachedHandler,n),x().clientDetached.remove(n.clientDetachedHandler,n),x().clientActivated.remove(n.onClientTabActivated,n),x().clientDeactivated.remove(n.onClientTabDeactivated,n),x().userInfoUpdated.add(n.onUserInfoUpdated,n),b.i.remove(n.onScreenSharingStateChanged,n),t.isCursorsActive&&_().setShowCursors(!1,!1)})}return t.prototype.onCanvasLoaded=function(){this.$scope.canvasLoaded=!0,!this.$scope.isCursorsActive&&g.a()&&this.$scope.toggleCursors()},t.prototype.onCursorsSwitched=function(){this.$scope.isCursorsActive=_().getShowCursors()},t.prototype.clientAttachedHandler=function(t,n,e){var i=null;try{i=this.onlineUsersMap.get(t)}catch(e){ErrorsTracker.debug("OnlineUsersController.ts #49740 Uncaught SyntaxError: Unexpected identifier",{onlineUsers:this.onlineUsers,userId:t,clientId:n})}if(i)i.count++;else{var o={id:t,clientId:n,count:1,deactivated:!1,userData:e};this.onlineClientsMap.set(n,o),this.onlineUsersMap.set(t,o),this.onlineUsers.push(o),this.updateDisplayUsersList(),this.$scope.safeDigest()}f().currentBoard.boardInfo.demo||s.Me()},t.prototype.clientDetachedHandler=function(t){var n=this.onlineUsers.findIndex(function(n){return n.id===t});if(-1!=n){var e=this.onlineUsers[n];e.count--,0==e.count&&(this.onlineUsersMap.delete(e.id),this.onlineClientsMap.delete(e.clientId),this.onlineUsers.splice(n,1),this.updateDisplayUsersList(),this.$scope.safeDigest())}},t.prototype.updateDisplayUsersList=function(){this.$scope.allOnlineUsersCount=this.onlineUsers.length,this.$scope.onlineUsersToDisplay=this.onlineUsers.slice(0,w)},t.prototype.onClientTabActivated=function(t){var n=this.onlineClientsMap.get(t);n&&(n.deactivated=!1,this.$scope.$digest())},t.prototype.onClientTabDeactivated=function(t){var n=this.onlineClientsMap.get(t);n&&(n.deactivated=!0,this.$scope.$digest())},t.prototype.onScreenSharingStateChanged=function(t){var n=t!==d.a.NONE;n&&(this.$scope.isCursorsActive=!1,this.$scope.safeDigest()),_().setShowCursors(!1,n)},t.prototype.onUserInfoUpdated=function(t,n){var e=this.onlineUsers.findIndex(function(n){return n.id===t});if(-1!==e){var i=this.onlineUsers[e],s=Object(o.a)(Object(o.a)({},i),{userData:Object(o.a)({},n)});this.onlineUsersMap.set(i.id,s),this.onlineClientsMap.set(i.clientId,s),this.onlineUsers.splice(e,1,s),this.updateDisplayUsersList(),this.$scope.$digest()}},t.$inject=["$scope"],t}();n.a=y}).call(this,e(0),e(29))},5455:function(t,n,e){var i=e(5456);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5456:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".canvas-online-users {\n  z-index: 90;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: end;\n      justify-content: flex-end;\n  position: static;\n  margin-right: 12px;\n  -ms-flex-negative: 1;\n      flex-shrink: 1;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  -ms-flex-direction: row;\n      flex-direction: row;\n  height: 48px;\n  border-radius: 4px;\n  background-color: rgba(255, 255, 255, 0.8);\n}\n.canvas-online-users--active {\n  padding: 0 10px;\n}\n.canvas-online-users .user-picture {\n  transition: 1.2s linear all;\n}\n@media screen and (max-width: 1024px) {\n}\n.canvas-online-users .user-picture.ng-leave {\n  transition: 0.5s linear all;\n}\n.canvas-online-users .user-picture.ng-leave-active {\n  transform: translateY(10px);\n  opacity: 0;\n}\n.canvas-online-users .user-picture.ng-enter.ng-enter-active {\n  animation: onlineUserBounce 0.6s;\n}\n@keyframes onlineUserBounce {\n  0% {\n    transform: translateY(10px);\n  }\n  28% {\n    transform: translateY(-45px);\n  }\n  30% {\n    transform: translateY(-50px);\n  }\n  35% {\n    transform: translateY(-51px);\n  }\n  100% {\n    transform: translateY(0px);\n  }\n}\n.canvas-online-users__item {\n  margin: 0 4px;\n}\n.canvas-online-users__cursors {\n  position: relative;\n  box-sizing: border-box;\n  transition: 300ms;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  -ms-flex-order: -1;\n      order: -1;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: center;\n      justify-content: center;\n  width: 28px;\n  height: 28px;\n}\n.canvas-online-users__cursors img {\n  width: 28px;\n  height: 28px;\n  min-width: 28px;\n  max-width: 28px;\n  min-height: 28px;\n  max-height: 28px;\n  overflow: hidden;\n}\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  .canvas-online-users__cursors img {\n    width: auto;\n    height: auto;\n  }\n}\n.canvas-online-users__cursors--deactivated {\n  opacity: 0.5;\n}\n.canvas-online-users__cursors svg {\n  width: 16px;\n  height: 16px;\n  color: #050038;\n}\n.canvas-online-users__cursors:hover svg {\n  color: #000;\n}\n.canvas-online-users__cursors .icon {\n  float: left;\n  display: inline-block;\n  padding: 8px 0 0 2px;\n}\n.canvas-online-users__cursors--active svg {\n  opacity: 1;\n  color: #4262ff;\n}\n.canvas-online-users__count {\n  font-weight: bold;\n  line-height: 26px;\n  margin-left: 12px;\n  width: auto;\n}\n.canvas-online-users__count:hover {\n  color: #4262ff;\n}\n",""])},5457:function(t,n,e){t.exports='<div class="canvas-online-users board-panel--transparent"\n     ng-class="{\'canvas-online-users--active\': allOnlineUsersCount}">\n\n    <user-icons-row\n        ng-show="allOnlineUsersCount && canvasLoaded" class="canvas-online-users__item"\n    \tusers="onlineUsersToDisplay"\n    \tall-users-count="allOnlineUsersCount"\n    \tmax-visible="3"\n    \tshow-more="true"\n    \tclicked="moveToViewport($user.clientId)"></user-icons-row>\n\n    <div class="btn canvas-online-users__item canvas-online-users__cursors"\n         ng-show="allOnlineUsersCount && canvasLoaded"\n         ng-class="{\'canvas-online-users__cursors--active\': isCursorsActive}"\n         hm-tap="onCursorsClicked()"\n         tooltip="{{isCursorsActive ? \'hide\' : \'show\'}}&nbsp;collaborators\'&nbsp;cursors"\n         tooltip-append-to-body="true"\n         tooltip-placement="{{ toggleTooltipPlacement }}">\n\n        <svg>\n            <use xlink:href="'+e(5458)+'"></use>\n        </svg>\n    </div>\n</div>\n'},5458:function(t,n){t.exports="#img__cursor"},5459:function(t,n,e){var i=e(5460);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5460:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".board-top__notes-button {\n  width: 60px;\n  margin-left: 8px;\n}\n",""])},5461:function(t,n,e){t.exports='<div class="svg-button board-top__notes-button board-panel--transparent"\n     ng-class="{\'svg-button--notification-top\': isShowNotification, \'svg-button--active\': ctrl.isNotesOpened()}"\n     ng-show="ctrl.isNotesPluginEnabled()"\n     hm-tap="ctrl.toggleDocPanel()"\n     tooltip="note"\n     tooltip-append-to-body="true"\n     tooltip-placement="bottom">\n        <svg  class="icon"  ><use xlink:href="'+e(1495)+'"></use></svg>\n\n        <div class="ui-tip-target" ui-tip="NOTES_BUTTON_PLACE"></div>\n        <div class="ui-tip-target" ui-tip="NOTES_TRY_AGAIN"></div>\n</div>'},5462:function(t,n,e){"use strict";(function(t){var i=e(111),o=e.n(i),s=e(87),a={TO_CHANGE_EXPANDED_FLAG:670,TO_DEACTIVATE_OPENED_SIDEBAR:230},r=function(){function n(t){var n=this;this.$scope=t,this.expanded=!0,this.leftSidebar=Object(s.a)().leftSidebar,this.rightSidebar=Object(s.a)().rightSidebar,this.onResize=o()(function(){return n.updateExpandedFlag()},300),this.updateExpandedFlag=function(){n.expanded=Object(s.a)().calcWidthBetweenSidebars()>a.TO_CHANGE_EXPANDED_FLAG,n.$scope.safeDigest()},this.getSidebarActivePluginChangedListener=function(t){return function(){Object(s.a)().calcWidthBetweenSidebars()<a.TO_DEACTIVATE_OPENED_SIDEBAR&&t.deactivate()}},this.attachResizeEvent(),this.attachSidebarsEvents(),this.$scope.$on("$destroy",function(){n.detachResizeEvent(),n.detachSidebarsEvents()})}return n.prototype.attachResizeEvent=function(){t(window).on("resize",this.onResize),this.leftSidebar.activePluginsChanged.add(this.updateExpandedFlag),this.rightSidebar.activePluginsChanged.add(this.updateExpandedFlag),this.leftSidebar.resized.add(this.updateExpandedFlag),this.rightSidebar.resized.add(this.updateExpandedFlag)},n.prototype.detachResizeEvent=function(){t(window).off("resize",this.onResize),this.leftSidebar.activePluginsChanged.remove(this.updateExpandedFlag),this.rightSidebar.activePluginsChanged.remove(this.updateExpandedFlag),this.leftSidebar.resized.remove(this.updateExpandedFlag),this.rightSidebar.resized.remove(this.updateExpandedFlag)},n.prototype.attachSidebarsEvents=function(){this.leftSidebar.activePluginsChanged.add(this.getSidebarActivePluginChangedListener(this.rightSidebar)),this.rightSidebar.activePluginsChanged.add(this.getSidebarActivePluginChangedListener(this.leftSidebar))},n.prototype.detachSidebarsEvents=function(){this.leftSidebar.activePluginsChanged.remove(this.getSidebarActivePluginChangedListener(this.rightSidebar)),this.rightSidebar.activePluginsChanged.remove(this.getSidebarActivePluginChangedListener(this.leftSidebar))},n.$inject=["$scope"],n}();n.a=r}).call(this,e(36))},5463:function(t,n,e){var i=e(5464);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5464:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".board-top {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 102;\n  pointer-events: none;\n  padding: 8px;\n  display: -ms-flexbox;\n  display: flex;\n}\n.board-top > * {\n  pointer-events: all;\n}\n.board-top__left {\n  position: relative;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex: 1;\n      flex: 1;\n  min-width: 0;\n  pointer-events: none;\n}\n.board-top__left > * {\n  pointer-events: all;\n}\n@media screen and (max-width: 800px) {\n  .board-top__left > a {\n    display: none;\n  }\n}\n.board-top__right {\n  position: relative;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: end;\n      justify-content: flex-end;\n  margin-left: 8px;\n}\n",""])},5465:function(t,n){t.exports='<div class="board-top">\n    <div class="board-top__left" ng-show="panels.CANVAS_TOP">\n        <board-top-left-panel panels="panels" expanded="ctrl.expanded"></board-top-left-panel>\n        <undo-redo ng-if="ctrl.expanded && (panels.CANVAS_TOOLS || panels.CANVAS_COMMENTATOR_TOOLS)"></undo-redo>\n    </div>\n\n    <div class="board-top__right" ng-show="panels.CANVAS_TOP && ctrl.expanded">\n        <online-users ng-show="panels.ONLINE_USERS"></online-users>\n        <board-top-right-panel panels="panels"></board-top-right-panel>\n    </div>\n\n    <board-top-notes-button ng-if="panels.CANVAS_TOP && !panels.EXIT_TEMPLATE && ctrl.expanded"/>\n</div>\n'},5466:function(t,n,e){var i=e(5467);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5467:function(t,n,e){var i=e(82);(t.exports=e(23)(!1)).push([t.i,".tip-bigscreen-helper {\n  border-radius: 4px;\n  cursor: pointer;\n  width: 48px;\n  height: 48px;\n  margin-right: 8px;\n  background-size: 70% 70%;\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-image: url("+i(e(5468))+");\n}\n.tip-bigscreen-helper:active {\n  background-color: rgba(0, 0, 0, 0.6);\n}\n.tip-bigscreen-helper,\n.tip-bigscreen-helper:hover {\n  background-color: rgba(0, 0, 0, 0.2);\n}\n",""])},5468:function(t,n,e){t.exports=e.p+"c720e21bb7d48aeb283d78f0ea338bac.svg"},5469:function(t,n){t.exports='<div class="tip-bigscreen-helper use-ng-animate" hm-tap="showTip()"></div>'},5470:function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return c});var i=e(30),o=e(25),s=e(87),a=e(111),r=e.n(a);function c(){Object(o.b)().directive("bottomPanelPositioner",p)}var l=8,d=1e3;function p(){return Object(i.a)({restrict:"A",scope:void 0,link:function(n,e){var i,o,a=t("#canvasContainer"),c=function(){var n=a.width(),o=e.width(),s=(n-o)/2,r=(n+o)/2,c=(t(".bottom-bar").outerWidth()||0)+l<s&&n-(t(".mini-map").width()||0)-l>r;i!==c&&(c?e.css({left:"50%",marginLeft:"-"+e.width()/2+"px",bottom:l+"px"}):e.css({left:l+"px",marginLeft:"0",bottom:"60px"}),i=c)},p=r()(function(){c()},300);t(window).on("resize",p),Object(s.a)().leftSidebar.activePluginsChanged.add(p),Object(s.a)().rightSidebar.activePluginsChanged.add(p),o=setInterval(p,d),e.css("visibility","hidden"),requestAnimationFrame(function(){c(),e.css("visibility","visible")}),n.$on("$destroy",function(){t(window).off("resize",p),Object(s.a)().leftSidebar.activePluginsChanged.remove(p),Object(s.a)().rightSidebar.activePluginsChanged.remove(p),clearInterval(o)})}})}}).call(this,e(36))},5471:function(t,n,e){var i=e(5472);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5472:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".voting-create {\n  height: 100%;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n}\n.voting-create .voting-wrap {\n  -ms-flex-positive: 0;\n      flex-grow: 0;\n}\n.voting-create__content {\n  padding-top: 23px;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n  scrollbar-color: #827f9b transparent;\n  scrollbar-width: thin;\n}\n.voting-create__content::-webkit-scrollbar {\n  width: 4px;\n  height: 4px;\n}\n.voting-create__content::-webkit-scrollbar-thumb {\n  background-color: #827f9b;\n  border: 0 solid transparent;\n  border-radius: 2px;\n}\n.voting-create__content::-webkit-scrollbar-track {\n  background-color: initial;\n}\n.voting-create__scroll {\n  padding: 0 24px;\n}\n.voting-create .rtb-input,\n.voting-create .voting-create__center {\n  box-sizing: border-box;\n  height: 48px !important;\n  margin-right: 0;\n}\n.voting-create .voting-create__center {\n  width: 76px;\n  text-align: center;\n  border-top: 1px solid rgba(0, 0, 0, 0.2);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  display: -ms-flexbox;\n  display: flex;\n}\n.voting-create .voting-create__duration,\n.voting-create .voting-create__votes {\n  width: auto;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.voting-create .voting-create__duration .voting-create__input,\n.voting-create .voting-create__votes .voting-create__input {\n  border-radius: 0px;\n  border: none;\n  padding: 0px;\n  text-align: center;\n  box-sizing: border-box !important;\n  font-size: 16px;\n}\n.voting-create .voting-create__duration .voting-create__hours,\n.voting-create .voting-create__votes .voting-create__hours,\n.voting-create .voting-create__duration .voting-create__minutes,\n.voting-create .voting-create__votes .voting-create__minutes {\n  width: 22px;\n  -ms-flex-positive: 1;\n      flex-grow: 1;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n}\n.voting-create .voting-create__duration .voting-create__hours,\n.voting-create .voting-create__votes .voting-create__hours {\n  text-align: right;\n}\n.voting-create .voting-create__duration .voting-create__minutes,\n.voting-create .voting-create__votes .voting-create__minutes {\n  text-align: left;\n}\n.voting-create .voting-create__duration .voting-create__colon,\n.voting-create .voting-create__votes .voting-create__colon {\n  -ms-flex-item-align: center;\n      -ms-grid-row-align: center;\n      align-self: center;\n  width: 8px;\n  -ms-flex-positive: 0;\n      flex-grow: 0;\n  -ms-flex-negative: 1;\n      flex-shrink: 1;\n}\n.voting-create .voting-create__checkboxs {\n  padding-top: 8px;\n}\n.voting-create .voting-create__checkboxs .voting-create__checkbox {\n  margin-bottom: 8px;\n}\n.voting-create .voting-button--disabled {\n  pointer-events: none;\n}\n.voting-create .voting-button--disabled svg {\n  opacity: 0.2;\n}\n.voting-create__input-votes {\n  width: 76px;\n}\n.voting-create__caption {\n  font-size: 16px;\n  margin: 21px 0 10px;\n  color: #827f9b;\n  display: -ms-flexbox;\n  display: flex;\n}\n",""])},5473:function(t,n,e){t.exports='<div class="voting-create ">\n\n    <div class="voting-wrap">\n        <div class="voting-header">\n            <span class="voting-header__item voting-header__item--prev" hm-tap="ctrl.openVoting()">Voting</span>\n            <span class="voting-header__item voting-header__item--arr svg-button">\n            <svg><use xlink:href="'+e(1304)+'"></use></svg>\n        </span>\n            <span class="voting-header__item voting-header__item--actual">Create new</span>\n        </div>\n    </div>\n\n    <div class="voting-create__content" no-prevent-default=\u201ctrue\u201d>\n        <div class="voting-create__scroll">\n            <div class="voting-create__caption">Name</div>\n            <div class="voting-create__title">\n                <input type="text" id="voting-create__title-field" class="rtb-input-old blue"\n                       maxlength="100"\n                       minlength="1"\n                       placeholder=""\n                       tabindex="0"\n                       ng-required="ctrl.localTitle.length ===  0"\n                       ng-model="ctrl.localTitle">\n            </div>\n\n            <div class="voting-create__caption">Duration, hh:mm</div>\n            <div class="voting-create__duration">\n                <div class="svg-button voting-plus-button"\n                     ng-class="{\'voting-button--disabled\': ctrl.localDuration === ctrl.durationMin}"\n                     hm-tap="ctrl.decreaseDuration()">\n                    <svg class="icon">\n                        <use xlink:href="'+e(959)+'"></use>\n                    </svg>\n                </div>\n\n                <div class="voting-create__center voting-create__time">\n                    <number-input class="rtb-input rtb-input--hours voting-create__input voting-create__hours"\n                                  value="ctrl.hours"\n                                  max-value="99"\n                                  min-value="0"\n                                  tabindex="0"\n                                  step-value="1"\n                                  on-change="ctrl.setDurationFromForm()"></number-input>\n\n                    <span class="voting-create__colon">:</span>\n\n                    <number-input class="rtb-input rtb-input--minutes voting-create__input voting-create__minutes"\n                                  value="ctrl.minutes"\n                                  max-value="59"\n                                  min-value="0"\n                                  tabindex="0"\n                                  step-value="1"\n                                  on-change="ctrl.setDurationFromForm()"></number-input>\n\n                </div>\n                <div class="svg-button voting-minus-button"\n                     ng-class="{\'voting-button--disabled\': ctrl.localDuration === ctrl.durationMax}"\n                     hm-tap="ctrl.increaseDuration()">\n                    <svg class="icon">\n                        <use xlink:href="'+e(566)+'"></use>\n                    </svg>\n                </div>\n            </div>\n\n            <div class="voting-create__caption">Votes per person</div>\n            <div class="voting-create__votes">\n                <div class="svg-button voting-plus-button" ng-class="{\'voting-button--disabled\': ctrl.localVotes === ctrl.votesMin}" hm-tap="ctrl.decreaseVotes()">\n                    <svg class="icon">\n                        <use xlink:href="'+e(959)+'"></use>\n                    </svg>\n                </div>\n                <div class="voting-create__center">\n                    <input type="text" class="rtb-input voting-create__input voting-create__input-votes" maxlength="2"\n                           id="voting-votes"\n                           tabindex="0"\n                           ng-blur="ctrl.setViewVotes()"\n                           ng-model="ctrl.localVotes"\n                           ng-keydown="ctrl.onVotesKeydown($event)">\n                </div>\n                <div class="svg-button voting-minus-button" ng-class="{\'voting-button--disabled\': ctrl.localVotes === ctrl.votesMax}" hm-tap="ctrl.increaseVotes()">\n                    <svg>\n                        <use xlink:href="'+e(566)+'"></use>\n                    </svg>\n                </div>\n            </div>\n\n            <div class="voting-create__caption">\n                <span class="voting-create__caption-left">Voting area:\n                    <span>{{ctrl.localArea  ? \'custom space\' : \'whole board\'}}</span>\n                </span>\n            </div>\n            <div class="voting-preview">\n                <div class="voting-preview__links">\n                    <a class="voting-create__caption-right rtb-link rtb-link--dashed"\n                       href=""\n                       ng-show="!ctrl.localArea"\n                       hm-tap="ctrl.selectArea()">\n                        change\n                    </a>\n\n                    <a class="voting-create__caption-right rtb-link rtb-link--dashed"\n                       href=""\n                       ng-show="ctrl.localArea"\n                       hm-tap="ctrl.resetArea()">\n                        reset\n                    </a>\n                </div>\n                <canvas class="voting-preview__canvas" hm-tap="ctrl.selectArea()"></canvas>\n            </div>\n\n            <div class="voting-create__caption">Vote for</div>\n            <div class="voting-create__checkboxs">\n                <div class="voting-create__checkbox">\n\n                    <rtb-checkbox\n                            name="\'someName1\'"\n                            tabindex="0"\n                            checked="ctrl.forStickers"\n                            label="\'Sticky notes\'"></rtb-checkbox>\n\n                </div>\n                <div class="voting-create__checkbox">\n\n                    <rtb-checkbox\n                            name="\'someName1\'"\n                            tabindex="0"\n                            checked="ctrl.forTexts"\n                            label="\'Text\'"></rtb-checkbox>\n\n                </div>\n                <div class="voting-create__checkbox">\n\n                    <rtb-checkbox\n                            name="\'someName1\'"\n                            tabindex="0"\n                            checked="ctrl.forShapes"\n                            label="\'Shapes\'"></rtb-checkbox>\n\n            </div>\n                <div class="voting-create__checkbox">\n\n                    <rtb-checkbox\n                            name="\'someName1\'"\n                            tabindex="0"\n                            checked="ctrl.forCards"\n                            label="\'Cards\'"></rtb-checkbox>\n\n            </div>\n\n                <div class="voting-create__checkbox">\n                <rtb-checkbox\n                        name="\'someName1\'"\n                        checked="ctrl.forImages"\n                        label="\'Images\'"></rtb-checkbox>\n            </div>\n\n        </div>\n\n            <div class="voting-buttons">\n                <button class="rtb-btn rtb-btn--primary rtb-btn--medium"\n                        tabindex="0"\n                        ng-disabled="ctrl.canSubmit()"\n                        ng-class="{\'rtb-btn--loading\':ctr.created}"\n                        hm-tap="ctrl.submit()">Start voting now\n                </button>\n            </div>\n        </div>\n    </div>\n\n</div>\n'},5474:function(t,n){t.exports='<div>\n    <ng-transclude ng-if="!ctrl.rate"></ng-transclude>\n    <rating class="rate-left-side-bar" ng-if="ctrl.rate" header="{{ctrl.rate.getCaption()}}"\n          options="rateOptions"\n          rate="ctrl.rate"\n          submitted="ctrl.rateSubmit()">\n    </rating>\n</div>'},5475:function(t,n,e){var i=e(5476);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5476:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".voting-start .voting-start__title {\n  font-family: Formular, sans-serif;\n  font-size: 24px;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 1.22;\n  margin-bottom: 12px;\n  word-wrap: break-word;\n}\n.voting-start .voting-start__thank {\n  font-size: 36px;\n  margin-top: 32px;\n  line-height: 1;\n  color: #cdccd7;\n}\n.voting-start .voting-start__preview {\n  margin-bottom: 16px;\n}\n.voting-start .voting-buttons .voting-button {\n  width: 120px;\n}\n.voting-start .voting-waiting-container .voting-buttons.ng-hide,\n.voting-start .voting-waiting-container .voting-start__thank.ng-hide {\n  opacity: 0;\n  transform: translateY(-40px);\n}\n.voting-start .voting-waiting-container .voting-buttons.ng-hide-add,\n.voting-start .voting-waiting-container .voting-start__thank.ng-hide-add,\n.voting-start .voting-waiting-container .voting-buttons.ng-hide-remove,\n.voting-start .voting-waiting-container .voting-start__thank.ng-hide-remove {\n  transition: all 0.2s ease-out;\n  display: block !important;\n}\n",""])},5477:function(t,n){t.exports='<div class="voting-start voting-wrap ">\n    <div class="voting-header">\n        <span class="voting-header__item voting-header__item--actual" ng-bind-html="ctrl.active.title"></span>\n    </div>\n\n    <div class="voting-start__title">Voting session started</div>\n\n    <div class="voting-preview voting-start__preview">\n        <canvas class="voting-preview__canvas" hm-tap="ctrl.jumpToArea()"></canvas>\n    </div>\n\n    <div class="voting-lines">\n\n        <div class="voting-lines__line">\n            <div class="voting-line__caption">Voting area:</div>\n            <div>&nbsp;</div>\n            <div class="voting-line__item">{{ctrl.active.area ? \'custom space\' : \'whole board\'}}</div>\n        </div>\n\n        <div class="voting-lines__line">\n            <div class="voting-line__caption">Vote for:</div>\n            <div>&nbsp;</div>\n            <div class="voting-line__item">{{ctrl.votingSubtitle()}}</div>\n        </div>\n\n        <div class="voting-lines__line">\n            <div class="voting-line__caption">Author:</div>\n            <div>&nbsp;</div>\n            <div class="voting-line__item">{{ctrl.active.userName}}</div>\n        </div>\n\n        <div class="voting-lines__line">\n            <span class="voting-line__caption">Time left:&nbsp;</span>\n            <span class="voting-line__item js-voting-timer-container">\n                00:00\n            </span>\n            <span ng-show="ctrl.isEditor">\n                <span class="voting-line__item">&nbsp;\u2014&nbsp;</span>\n                <span class="voting-line__item rtb-link rtb-link--primary"hm-tap="ctrl.finish()">End voting for all</span>\n            </span>\n        </div>\n    </div>\n\n    <div ng-show="!ctrl.waitAsyncRequest" class="voting-waiting-container">\n\n        <div class="voting-buttons" ng-show="!ctrl.activeEnded">\n            <button class="rtb-btn rtb-btn--primary rtb-btn--medium" hm-tap="ctrl.start()">Vote now</button>\n            <button class="rtb-btn rtb-btn--secondary rtb-btn--medium" hm-tap="ctrl.close()">Vote later</button>\n        </div>\n\n        {{ctrl.author}}\n        <div class="voting-start__thank" ng-show="ctrl.activeEnded">\n            <rating-placeholder view-id="voting-rate-view" rate-options="ctrl.options">\n                <span>Thank you!</span>\n            </rating-placeholder>\n        </div>\n    </div>\n</div>'},5478:function(t,n,e){var i=e(5479);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5479:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".voting-archive {\n  height: 100%;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n}\n.voting-archive .voting-archive__button {\n  margin-top: 14px;\n}\n.voting-archive .voting-archive__list {\n  -ms-flex: 2;\n      flex: 2;\n  margin-top: 30px;\n  padding-bottom: 30px;\n}\n.voting-archive .voting-archive__list .voting-archive__history {\n  color: rgba(0, 0, 0, 0.4);\n  padding: 0 24px;\n  padding-bottom: 16px;\n}\n.voting-archive-item {\n  position: relative;\n  cursor: pointer;\n  padding: 13px 0;\n  box-sizing: border-box;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.16);\n}\n.voting-archive-item:first-child {\n  padding-top: 0px;\n}\n.voting-archive-item:hover .voting-archive-item__title {\n  color: #4262ff;\n}\n.voting-archive-item__line {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n}\n.voting-archive-item__dot {\n  position: absolute;\n  top: 20px;\n  left: -10px;\n  width: 4px;\n  height: 4px;\n  border-radius: 50%;\n  background-color: #4262ff;\n}\n.voting-archive-item__title,\n.voting-archive-item__authot {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 200px;\n}\n.voting-archive-item__title,\n.voting-archive-item__votes {\n  font-weight: bold;\n}\n.voting-archive-item__author,\n.voting-archive-item__time {\n  margin-top: -1px;\n  color: rgba(0, 0, 0, 0.4);\n}\n",""])},5480:function(t,n){t.exports='<div class="voting-archive voting-wrap no-padding">\n\n    <div class="voting-head">\n        <div class="voting-header">\n            <span class="voting-header__item voting-header__item--actual">Voting</span>\n        </div>\n\n        <div class="voting__tip" ng-show="!ctrl.isEditor">\n            <p>\n                Only board editors<br> can start a voting session.\n            </p>\n        </div>\n        <div class="voting-archive__button" ng-show="ctrl.isEditor">\n            <button class="rtb-btn rtb-btn--primary rtb-btn--medium"\n                    ng-disabled="ctrl.disabledCreate()"\n                    hm-tap="ctrl.create()">Create new voting session\n            </button>\n        </div>\n    </div>\n\n    <div class="voting-list voting-archive__list" no-prevent-default="true">\n        <div class="voting-archive__history">History</div>\n\n        <div class="voting__tip" ng-show="ctrl.list.length == 0">\n            <p>\n                There are no voting sessions<br> completed yet.\n            </p>\n        </div>\n\n        <div class="voting-list__scroll">\n            <div class="voting-archive-item" ng-repeat="voting in ctrl.list | orderBy:\'startTime\':true track by $index"\n                 hm-tap="ctrl.openVoting(voting)">\n                <div class="voting-archive-item__dot" ng-show="ctrl.active.token.id === voting.token.id"></div>\n\n                <div class="voting-archive-item__line">\n                    <span class="voting-archive-item__title" ng-bind-html="voting.title"></span>\n                    \x3c!--<span class="voting-archive__item-votes">{{voting.votes || 0}} voted</span>--\x3e\n                </div>\n\n                <div class="voting-archive-item__line">\n                    <span class="voting-archive-item__author">by {{voting.userName}}</span>\n                    <span class="voting-archive-item__time"><relativedate value="voting.startTime" absolute-format="\'DD MMM, HH:mm\'" relative-format="\', HH:mm\'"></relativedate></span>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},5481:function(t,n,e){t.exports='<div class="voting-widgets-list__item" hm-tap="ctrl.moveToWidget(widget)">\n    <div class="voting-widgets-list__buttons">\n        <div class="svg-button voting-widgets-list__button voting-widgets-list__button--decrease" hm-tap="ctrl.decrease(widget, $event)">\n            <svg class="icon">\n                <use xlink:href="'+e(959)+'"></use>\n            </svg>\n        </div>\n        <div class="voting-widgets-list__button voting-widgets-list__button--count">{{widget.count}}</div>\n        <div class="svg-button voting-widgets-list__button voting-widgets-list__button--increase"\n             ng-class="{\'voting-widgets-list__button--disabled\':ctrl.isDisabled()}"\n             hm-tap="ctrl.increase(widget, $event)">\n            <svg class="icon">\n                <use xlink:href="'+e(566)+'"></use>\n            </svg>\n        </div>\n    </div>\n\n    <div class="voting-widgets-content js-widget-preview" hm-tap="ctrl.moveToWidget(widget)">\n    </div>\n</div>'},5482:function(t,n,e){var i=e(5483);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5483:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".voting-session {\n  height: 100%;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n}\n.voting-session .voting-header {\n  -ms-flex-direction: column;\n      flex-direction: column;\n  -ms-flex-align: stretch;\n      align-items: stretch;\n  padding-top: 20px;\n}\n.voting-session .voting-header__item--subtitle {\n  font-size: 14px !important;\n  line-height: 20px;\n  color: #050038;\n  margin-top: 8px;\n}\n.voting-session .voting-header__item--actual {\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  width: 260px;\n}\n.voting-session .voting-session__info {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  margin-top: 40px;\n  height: 36px;\n}\n.voting-session .voting-session__info .voting-session__votes-left-count {\n  display: -ms-flexbox;\n  display: flex;\n  text-align: left;\n  width: 96px;\n  border-right: 1px solid #cdccd7;\n  margin-right: 16px;\n}\n.voting-session .voting-session__info .voting-session__votes-left-count .voting-session__value {\n  margin-right: 8px;\n}\n.voting-session .voting-session__info .voting-session__votes-left {\n  font-size: 14px;\n  line-height: 18px;\n  margin-right: 8px;\n  color: #050038;\n}\n.voting-session .voting-session__info .voting-session__value {\n  font-size: 36px;\n  line-height: 36px;\n  color: #050038;\n}\n.voting-session .voting-session__info .voting-session__end {\n  margin-left: auto;\n  margin-right: 0px;\n  width: 70px;\n  min-width: 70px;\n}\n.voting-session .voting-session__list {\n  -ms-flex: 2;\n      flex: 2;\n}\n.voting-session__cancel {\n  background: #fff;\n  position: absolute;\n}\n.voting-session__tip {\n  padding: 0 24px 34px 24px;\n}\n.voting-session__tip h2 {\n  font-size: 36px;\n  line-height: 36px;\n  color: #cdccd7;\n  margin-bottom: 26px;\n}\n.voting-session__tip-item {\n  display: -ms-flexbox;\n  display: flex;\n  margin-bottom: 20px;\n}\n.voting-session__tip-item:last-child {\n  margin-bottom: 0px;\n}\n.voting-session__tip-item:last-child .voting-session__tip-item__icon {\n  background: transparent;\n  color: #ebebef;\n}\n.voting-session__tip-item__icon {\n  color: #827f9b;\n  width: 36px;\n  height: 36px;\n  border-radius: 2px;\n  background-color: #ebebef;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  margin-right: 16px;\n  text-align: center;\n  line-height: 36px;\n  font-size: 18px;\n  font-weight: bold;\n}\n.voting-session__tip-item__icon--minus {\n  line-height: 33px;\n}\n.voting-session__jump-to-area {\n  font-size: 25px;\n  font-weight: bold;\n  text-align: center;\n  line-height: 48px;\n  right: -56px;\n  bottom: 8px;\n  width: 48px;\n  height: 48px;\n  -webkit-backdrop-filter: blur(4px);\n  border-radius: 4px;\n  backdrop-filter: blur(4px);\n  background-color: rgba(255, 255, 255, 0.8);\n  position: absolute;\n}\n.voting-session__tip-item__text {\n  color: rgba(5, 0, 56, 0.6);\n}\n.do-hovers .sidebar-voting .voting-session .voting-widgets-list__item .svg-button:not(.svg-button--disabled):hover {\n  color: #fff;\n}\n",""])},5484:function(t,n,e){t.exports='<div class="voting-session">\n\n    <div class="svg-button left-sidebar__close voting-session__cancel" hm-tap="ctrl.cancel()">\n        <svg>\n            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#img__close-24"></use>\n        </svg>\n    </div>\n\n    <div class="voting-wrap">\n        <div class="voting-header">\n            <div class="voting-header__item voting-header__item--actual" ng-bind-html="ctrl.active.title" ng-attr-title="{{ctrl.getTitleAttr()}}"></div>\n            <div class="voting-header__item voting-header__item--subtitle">{{ctrl.votingSubtitle()}}</div>\n        </div>\n\n        <div class="voting-session__info">\n            <div class="voting-session__votes-left-count">\n                <div class="voting-session__value">{{ctrl.leftVoteInActiveVoting}}</div>\n                <div class="voting-session__votes-left">votes<br/> left</div>\n            </div>\n            <div class="voting-session__value js-voting-timer-container">\n                00:00\n            </div>\n\n            <button class="rtb-btn rtb-btn--primary rtb-btn--small voting-session__end"\n                    ng-disabled="ctrl.waitAsyncRequest"\n                    ng-class="{\'rtb-btn--loading\': ctrl.waitAsyncRequest}"\n                    hm-tap="ctrl.end()">Done\n            </button>\n        </div>\n    </div>\n\n    <div class="voting-widgets-list voting-list">\n        <div class="voting-list__scroll" no-prevent-default=\u201ctrue\u201d ng-class="{\'voting-widgets-list--over\': ctrl.leftVoteInActiveVoting === 0}">\n            <voting-session-item ng-repeat="widget in ctrl.myActiveWidgetsWithVote" widget="widget"></voting-session-item>\n        </div>\n    </div>\n\n    <div class="voting-session__tip" ng-show="ctrl.needShowHelp()">\n        <h2>How it works?</h2>\n        <div class="voting-session__tip-item">\n            <div class="voting-session__tip-item__icon">1</div>\n            <div class="voting-session__tip-item__text">\n                Choose an object and click on it to vote\n            </div>\n        </div>\n        <div class="voting-session__tip-item">\n            <div class="voting-session__tip-item__icon voting-session__tip-item__icon--minus">&mdash;</div>\n            <div class="voting-session__tip-item__text">\n                Find the object in this sidebar and click \u201c\u2212\u201d to undo\n            </div>\n        </div>\n        <div class="voting-session__tip-item">\n            <div class="voting-session__tip-item__icon">\n                <svg    alt="" width="36" height="36"><use xlink:href="'+e(5485)+'"></use></svg>\n            </div>\n            <div class="voting-session__tip-item__text">\n                Voting is anonymous, but everyone can see how many votes you cast\n            </div>\n        </div>\n    </div>\n\n\n    <div class="voting-session__jump-to-area" ng-show="ctrl.active.area">\n        <span class="svg-button">\n            <svg    hm-tap="ctrl.jumpToArea()"><use xlink:href="'+e(5486)+'"></use></svg>\n        </span>\n    </div>\n</div>'},5485:function(t,n){t.exports="#img__anonym"},5486:function(t,n){t.exports="#img__set-start-24"},5487:function(t,n,e){var i=e(5488);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5488:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".sidebar-voting .voting-result {\n  height: 100%;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n}\n.sidebar-voting .voting-result .voting-widgets-list .voting-widgets-list__button {\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.sidebar-voting .voting-result .voting-widgets-list .voting-widgets-list__button:hover {\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.sidebar-voting .voting-result .voting-header__item--prev:hover {\n  color: #4262ff;\n}\n.sidebar-voting .voting-result .voting-widgets-content--img {\n  max-height: 400px;\n}\n.sidebar-voting .voting-result .voting-widgets-content--text {\n  text-overflow: ellipsis;\n  padding: 10px;\n  width: 100%;\n  box-sizing: border-box;\n  max-height: 400px;\n  text-align: center;\n}\n.sidebar-voting .voting-result .voting-widgets-content--text p:first-child {\n  margin-top: 0;\n}\n.sidebar-voting .voting-result .voting-widgets-content--text p:last-child {\n  margin-bottom: 0;\n}\n",""])},5489:function(t,n,e){t.exports='<div class="voting-result">\n    <div class="voting-wrap">\n        <div class="voting-header">\n            <span class="voting-header__item voting-header__item--prev" hm-tap="ctrl.openVoting()">Voting</span>\n            <span class="voting-header__item voting-header__item--arr svg-button">\n                <svg><use xlink:href="'+e(1304)+'"></use></svg>\n            </span>\n            <span class="voting-header__item voting-header__item--actual">Results</span>\n            <div class="voting-header__item voting-header__item--splitter" ng-show="ctrl.isEditor"></div>\n            <span class="svg-button" ng-show="ctrl.isEditor" hm-tap="ctrl.remove()">\n                <svg   ><use xlink:href="'+e(5490)+'"></use></svg>\n            </span>\n        </div>\n\n        <div class="voting-lines">\n            <div class="voting-lines__line">\n                <div class="voting-line__caption">Name:</div>\n                <div>&nbsp;</div>\n                <div class="voting-line__item" ng-bind-html="ctrl.fullVotingView.title"></div>\n            </div>\n\n            <div class="voting-lines__line">\n                <div class="voting-line__caption">Author:</div>\n                <div>&nbsp;</div>\n                <div class="voting-line__item">{{ctrl.fullVotingView.userName}}</div>\n            </div>\n\n            <div class="voting-lines__line">\n                <div class="voting-line__caption">Date:</div>\n                <div>&nbsp;</div>\n                <div class="voting-line__item"><relativedate value="ctrl.fullVotingView.startTime" absolute-format="\'DD MMM, HH:mm\'" relative-format="\', HH:mm\'"></relativedate></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="voting__tip spinner" ng-class="{\'voting__tip--spinner\': ctrl.needShowSpinner()} " ng-show="ctrl.needShowSpinner()">\n        <p>\n            Processing the results,<br/> please wait...\n        </p>\n    </div>\n\n    <div class="voting__tip" ng-show="!ctrl.needShowSpinner() && ctrl.isResultEmpty()">\n        <p>\n            The session is over<br> with no votes cast/given\n        </p>\n    </div>\n\n\n    <div class="voting-widgets-list voting-list" ng-show="!ctrl.needShowSpinner() && !ctrl.isResultEmpty()">\n        <div class="voting-list__scroll" no-prevent-default="true">\n            <div class="voting-widgets-list__item " ng-repeat="widget in ctrl.getWidgets() | orderBy:\'-count\'" hm-tap="ctrl.moveToWidget(widget)">\n                <div class="voting-widgets-list__buttons">\n                    <div class="voting-widgets-list__button voting-widgets-list__button--count">{{widget.count}}</div>\n                </div>\n                <div class="voting-widgets-content ">\n                    <img ng-src="{{widget.resourceUrl}}" class="voting-widgets-content--img" ng-show="widget.resourceUrl">\n                    <div class="voting-widgets-content--text"\n                         ng-hide="widget.resourceUrl"\n                         ng-bind-html="widget.text"\n                         style="color:{{widget.textColor}};background: {{widget.bgColor}};"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},5490:function(t,n){t.exports="#img__trash-24"},5491:function(t,n,e){var i=e(5492);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5492:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".voting-preview {\n  width: 292px;\n  height: 165px;\n  text-align: center;\n  display: -ms-flexbox;\n  display: flex;\n  border-radius: 4px;\n  background-size: cover;\n  border: solid 1px #cccccc;\n  background-color: #fff;\n  margin-bottom: 24px;\n  cursor: pointer;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-line-pack: center;\n      align-content: center;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-grid-column-align: center;\n      justify-items: center;\n  margin-top: 10px;\n  position: relative;\n}\n.voting-preview:hover {\n  border: 1px solid #4262ff;\n}\n.voting-preview:hover .voting-create__caption-right.rtb-link {\n  border-bottom-color: transparent;\n}\n.voting-preview__links {\n  display: block;\n  position: absolute;\n  right: 0px;\n  top: -30px;\n  height: 30px;\n  font-size: 16px;\n  line-height: 16px;\n}\n.sidebar-voting {\n  -ms-flex-positive: 1;\n      flex-grow: 1;\n  box-sizing: border-box;\n  display: block;\n  height: 100%;\n  color: #050038;\n  width: 320px;\n  -ms-flex-align: end;\n      align-items: flex-end;\n}\n.sidebar-voting input {\n  color: #050038;\n}\n.sidebar-voting .sidebar-caption {\n  font-family: Formular, sans-serif;\n  font-size: 24px;\n  font-weight: 500;\n  padding-left: 0;\n}\n.sidebar-voting .rtb-button {\n  width: auto;\n  min-width: auto;\n}\n.voting-wrap {\n  padding: 0 24px;\n}\n.voting-wrap.no-padding {\n  padding: 0px;\n}\n.voting-head {\n  padding: 0 24px;\n}\n.voting__tip {\n  position: relative;\n  text-align: center;\n  color: #050038;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-grid-column-align: center;\n      justify-items: center;\n  -ms-flex-align: center;\n      align-items: center;\n  background: #f5f5f7;\n  padding: 28px;\n  margin: 24px;\n}\n.voting__tip--spinner:before {\n  width: 16px;\n  height: 16px;\n  left: 32px;\n  top: 30px;\n  margin-top: 0px;\n  margin-left: 0px;\n  border-top-color: #6d6d6d;\n}\n.voting__tip p {\n  margin: 0;\n  padding: 0;\n  text-align: center;\n  color: #827f9b;\n  line-height: 1.43;\n  font-size: 14px;\n}\n.voting-header {\n  height: 62px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.voting-header .voting-header__item {\n  font-family: Formular, sans-serif;\n  font-size: 24px;\n  font-weight: 500;\n  cursor: pointer;\n}\n.voting-header .voting-header__item--prev,\n.voting-header .voting-header__item--arr {\n  color: #827f9b !important;\n}\n.voting-header .voting-header__item--arr,\n.voting-header .voting-header__item--actual {\n  cursor: default;\n}\n.voting-header .voting-header__item--splitter {\n  width: 1px;\n  height: 24px;\n  margin: 0 17px;\n  background-color: rgba(0, 0, 0, 0.16);\n}\n.voting-lines .voting-lines__line {\n  display: -ms-flexbox;\n  display: flex;\n}\n.voting-lines .voting-line__item,\n.voting-lines .voting-line__caption {\n  line-height: 1.71;\n}\n.voting-lines .voting-line__caption {\n  font-weight: bold;\n  white-space: nowrap;\n}\n.voting-lines .voting-line__item {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.voting-buttons {\n  margin-top: 32px;\n  margin-bottom: 32px;\n}\n.voting-plus-button,\n.voting-minus-button {\n  width: 48px;\n  height: 48px;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  box-sizing: border-box;\n  min-width: auto;\n  background: white !important;\n}\n.voting-plus-button {\n  border-radius: 4px 0 0 4px;\n}\n.voting-minus-button {\n  border-radius: 0 4px 4px 0;\n}\n.voting-widgets-list {\n  position: relative;\n  -ms-flex: 2;\n      flex: 2;\n  overflow-y: auto;\n  margin-top: 18px;\n}\n.voting-widgets-list__item {\n  position: relative;\n  min-height: 100px;\n  overflow: hidden;\n  cursor: pointer;\n  margin-bottom: 16px;\n  background-color: rgba(0, 0, 0, 0.04);\n  transition: height 0.1s;\n}\n.voting-widgets-list__item .spinner:before {\n  width: 20px;\n  height: 20px;\n  margin-top: -10px;\n  margin-left: -10px;\n}\n.voting-widgets-list__buttons {\n  position: absolute;\n  top: 0;\n  right: 0;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-align: center;\n      align-items: center;\n  height: 36px;\n  z-index: 3;\n}\n.voting-widgets-list__button {\n  width: 36px;\n  height: 36px;\n  color: #fff;\n  font-weight: bold;\n  background-color: rgba(0, 0, 0, 0.2);\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.voting-widgets-list__button:first-child {\n  border-top-left-radius: 2px;\n  border-bottom-left-radius: 2px;\n}\n.voting-widgets-list__button:last-child {\n  border-top-right-radius: 2px;\n  border-bottom-right-radius: 2px;\n}\n.voting-widgets-list__button--decrease,\n.voting-widgets-list__button--increase {\n  cursor: pointer;\n}\n.voting-widgets-list__button--decrease:hover,\n.voting-widgets-list__button--increase:hover {\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.voting-widgets-list--over .voting-widgets-list__button--increase {\n  cursor: default;\n}\n.voting-widgets-list--over .voting-widgets-list__button--increase:hover {\n  background-color: rgba(0, 0, 0, 0.2);\n}\n.voting-widgets-list--over .voting-widgets-list__button--disabled svg {\n  opacity: 0.4;\n}\n.voting-widgets-content {\n  font-size: 16px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center center;\n  min-height: 100px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-grid-column-align: center;\n      justify-items: center;\n  -ms-flex-pack: center;\n      justify-content: center;\n}\n.voting-widgets-content canvas {\n  position: relative;\n  z-index: 2;\n}\n.voting-widgets-content img {\n  position: relative;\n  z-index: 2;\n  max-width: 100%;\n  -ms-flex: 0 0 auto;\n      flex: 0 0 auto;\n}\n.voting-list {\n  overflow: hidden;\n}\n.voting-list__scroll {\n  overflow-y: auto;\n  height: 100%;\n  padding: 0 24px;\n}\n.replace-scroll-bar .voting-list__scroll {\n  -webkit-overflow-scrolling: touch;\n  scrollbar-color: #827f9b transparent;\n  scrollbar-width: thin;\n}\n.replace-scroll-bar .voting-list__scroll::-webkit-scrollbar {\n  width: 4px;\n  height: 4px;\n}\n.replace-scroll-bar .voting-list__scroll::-webkit-scrollbar-thumb {\n  background-color: #827f9b;\n  border: 0 solid transparent;\n  border-radius: 2px;\n}\n.replace-scroll-bar .voting-list__scroll::-webkit-scrollbar-track {\n  background-color: initial;\n}\n.voting-timer__colon {\n  opacity: 1;\n  animation: timer_colon_animation 1s linear infinite;\n}\n@keyframes timer_colon_animation {\n  0% {\n    opacity: 0;\n  }\n  50% {\n    opacity: 0;\n  }\n  51% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n",""])},5493:function(t,n){t.exports='<div class="sidebar-voting">\n    \x3c!-- CREATE --\x3e\n    <voting-create ng-if="ctrl.hasStateCreate"></voting-create>\n    \x3c!-- /CREATE --\x3e\n\n    \x3c!-- START --\x3e\n    <voting-start ng-if="ctrl.hasStateSessionStart"></voting-start>\n    \x3c!-- /START --\x3e\n\n    \x3c!-- VOTING --\x3e\n    <voting-session ng-if="ctrl.hasStateSession"></voting-session>\n    \x3c!-- /VOTING --\x3e\n\n    \x3c!-- VOTING --\x3e\n    <voting-archive ng-if="ctrl.hasStateArchive"></voting-archive>\n    \x3c!-- /VOTING --\x3e\n\n    \x3c!-- VOTING --\x3e\n    <voting-result ng-if="ctrl.hasStateResult"></voting-result>\n    \x3c!-- /VOTING --\x3e\n</div>'},5494:function(t,n,e){"use strict";(function(t){var i=e(21),o=e(73),s=e(2100),a=e(129),r=e(54),c=e(61),l=e(103),d=e(1339),p=e(526),u=e(887),g=e(39),h=e(26),m=e(2351),b=e(522),v=e(59),f=function(n){function f(t,i,o,s){var a=n.call(this,t,o)||this;return a.$element=i,a.$window=s,a.done=!1,a.startedBy="",a.setViewHours(),a.setViewMinutes(),a.setViewSeconds(),a.$time=i.find("#board-countdown__time"),a.$author=i.find("#board-countdown__author"),a.$left=i.find("#board-countdown__left"),a.starterName&&(a.startedBy=a.starterName),a.addListeners(),t.$on("$destroy",function(){a.stopBouncing(),a.removeListeners()}),i.on("mousedown mousemove touchstart touchmove",function(){a.stopBouncing()}),"Audio"in s&&(a.doneSound=new Audio(e(5495))),a}return Object(i.d)(f,n),f.prototype.hide=function(){t.log("countdown","[Component, CountdownController] hide"),this.stopBouncing(),Object(o.a)().setPanelVisible(a.a.COUNTDOWN,!1),Object(h.Fd)()},f.prototype.start=function(){t.log("countdown","[Component, CountdownController] start",this.duration),Object(u.a)().start(this.duration),Object(b.a)(v.a.COUNTDOWN),this.duration!==m.a&&Object(h.xb)()},f.prototype.finish=function(){t.log("countdown","[Component, CountdownController] finish"),Object(u.a)().finish()},f.prototype.reset=function(){t.log("countdown","[Component, CountdownController] reset"),this.done=!1,this.signals.board.countdown.reset()},f.prototype.canEdit=function(){return Object(g.a)().currentBoard.canCreateAndEditWidgets()},f.prototype.formatTime=function(t){var n=Object(p.b)(t)+":"+Object(p.c)(t);return t>=l.b.toMillis(1)&&(n=Object(p.a)(t)+":"+n),n},f.prototype.onTick=function(t){var n=this.formatTime(t.leftTime);this.$time.text(n),this.$left.toggleClass("board-countdown__left--without-right-round",t.leftPercent<=99.8)},f.prototype.onFirstTick=function(t){this.$left.css({width:t.leftPercent+"%","animation-duration":t.leftTime+"ms"})},f.prototype.onFinish=function(){t.log("countdown","[Component, CountdownController] onFinish"),this.signals.board.countdown.reset(),this.done=!0;var n=this.formatTime(0);this.$time.text(n),this.startBouncing(),this.doneSound&&Object(s.a)().play(this.doneSound,1)},f.prototype.stateChanged=function(n){void 0===n&&(n=Object(c.c)("board.countdown.isActive")),t.log("countdown","[Component, CountdownController] stateChanged",n),n&&this.$time&&(this.addListeners(),this.startedBy=this.starterName,this.stopBouncing())},f.prototype.addListeners=function(){d.a.onCountdownTick.add(this.onTick,this),d.a.onCountdownTick.addOnce(this.onFirstTick,this),d.a.onCountdownFinish.add(this.onFinish,this)},f.prototype.removeListeners=function(){d.a.onCountdownTick.remove(this.onTick,this),d.a.onCountdownTick.remove(this.onFirstTick,this),d.a.onCountdownFinish.remove(this.onFinish,this)},f.prototype.startBouncing=function(){this.stopBouncing(),this.$element&&this.$element[0]&&(this.$element.removeClass("board-countdown--bouncing"),this.$element[0].offsetHeight,this.$element.addClass("board-countdown--bouncing"),this.bouncingTimeoutId=setTimeout(this.startBouncing.bind(this),1100))},f.prototype.stopBouncing=function(){clearTimeout(this.bouncingTimeoutId)},f.prototype.setViewHours=function(t){void 0===t&&(t=Object(c.c)("board.countdown.durationInHours")),this.hours=t},f.prototype.setModelHours=function(){var t=this;this.signals.board.countdown.setHours({hours:this.hours,onFail:function(n){return t.setViewHours(n)}})},f.prototype.setViewMinutes=function(t){void 0===t&&(t=Object(c.c)("board.countdown.durationInMinutes")),this.minutes=t},f.prototype.setModelMinutes=function(){var t=this;this.signals.board.countdown.setMinutes({minutes:this.minutes,onFail:function(n){return t.setViewMinutes(n)}})},f.prototype.setViewSeconds=function(t){void 0===t&&(t=Object(c.c)("board.countdown.durationInSeconds")),this.seconds=t},f.prototype.setModelSeconds=function(){var t=this;this.signals.board.countdown.setSeconds({seconds:this.seconds,onFail:function(n){return t.setViewSeconds(n)}})},f.$inject=["$scope","$element","signals","$window"],Object(i.c)([Object(r.c)("board.countdown.isActive")],f.prototype,"isActive",void 0),Object(i.c)([Object(r.c)("board.countdown.duration")],f.prototype,"duration",void 0),Object(i.c)([Object(r.c)("board.countdown.data.startTime")],f.prototype,"startTime",void 0),Object(i.c)([Object(r.c)("board.countdown.data.starterName")],f.prototype,"starterName",void 0),Object(i.c)([Object(r.g)("board.countdown.isActive")],f.prototype,"stateChanged",null),f}(r.a);n.a=f}).call(this,e(29))},5495:function(t,n,e){t.exports=e.p+"8f690faf814fada485f2fbad488cfed6.mp3"},5496:function(t,n,e){var i=e(5497);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5497:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".board-countdown {\n  width: 266px;\n  height: 96px;\n  box-sizing: border-box;\n  position: absolute;\n}\n.board-countdown .board-countdown__buttons {\n  width: 58px;\n  height: 100%;\n  padding: 8px 0 7px;\n  box-sizing: border-box;\n  position: absolute;\n  top: 0;\n  right: 0;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n}\n.board-countdown .board-countdown__buttons .board-countdown__button {\n  padding: 8px 16px;\n  cursor: pointer;\n  font-size: 12px;\n  color: #4262ff;\n}\n.board-countdown .board-countdown__buttons .board-countdown__button:hover {\n  color: #455bed;\n}\n.board-countdown .board-countdown__content {\n  height: 100%;\n  position: relative;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: center;\n      justify-content: center;\n}\n.board-countdown.board-countdown--ios .board-countdown__ios-text {\n  position: absolute;\n  top: 14px;\n  left: 16px;\n  width: 176px;\n  font-size: 14px;\n  line-height: 1.43;\n  color: rgba(0, 0, 0, 0.4);\n}\n.board-countdown.board-countdown--edit {\n  background-color: white;\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n}\n.board-countdown.board-countdown--edit .board-countdown__content .board-countdown__input-border {\n  width: 65px;\n  height: 54px;\n  line-height: 48px;\n  overflow: hidden;\n  box-sizing: border-box;\n  border: solid 1px rgba(0, 0, 0, 0.2);\n  position: absolute;\n  top: 10px;\n}\n.board-countdown.board-countdown--edit .board-countdown__content .board-countdown__input-border--hours {\n  left: 10px;\n  border-right: none;\n  border-radius: 4px 0 0 4px;\n}\n.board-countdown.board-countdown--edit .board-countdown__content .board-countdown__input-border--minutes {\n  left: 75px;\n  width: 68px;\n}\n.board-countdown.board-countdown--edit .board-countdown__content .board-countdown__input-border--seconds {\n  left: 143px;\n  border-left: none;\n  border-radius: 0 4px 4px 0;\n}\n.board-countdown.board-countdown--edit .board-countdown__content .board-countdown__input-wrapper {\n  height: 46px;\n  margin: 3px 0 3px 5px;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n.board-countdown.board-countdown--edit .board-countdown__content .board-countdown__input-wrapper--hours {\n  margin-left: 4px;\n}\n.board-countdown.board-countdown--edit .board-countdown__content .rtb-input-old {\n  width: 58px;\n  margin: -10px 0 0 0;\n  padding: 0;\n  color: #050038;\n  font-size: 48px !important;\n}\n.board-countdown.board-countdown--edit .board-countdown__content .board-countdown__hours,\n.board-countdown.board-countdown--edit .board-countdown__content .board-countdown__minutes,\n.board-countdown.board-countdown--edit .board-countdown__content .board-countdown__seconds {\n  position: absolute;\n  bottom: 15px;\n  width: 56px;\n  font-size: 12px;\n  text-align: center;\n  color: rgba(0, 0, 0, 0.4);\n}\n.board-countdown.board-countdown--edit .board-countdown__content .board-countdown__hours {\n  left: 14px;\n}\n.board-countdown.board-countdown--edit .board-countdown__content .board-countdown__minutes {\n  left: 80px;\n}\n.board-countdown.board-countdown--edit .board-countdown__content .board-countdown__seconds {\n  left: 148px;\n}\n.board-countdown.board-countdown--view .board-countdown__content .board-countdown__time,\n.board-countdown.board-countdown--view .board-countdown__content .board-countdown__author,\n.board-countdown.board-countdown--view .board-countdown__content .board-countdown__left {\n  position: absolute;\n  left: 0;\n}\n.board-countdown.board-countdown--view .board-countdown__content .board-countdown__time {\n  top: 4px;\n  left: 14px;\n  font-size: 48px;\n}\n.board-countdown.board-countdown--view .board-countdown__content .board-countdown__author {\n  left: 16px;\n  top: 64px;\n  width: 185px;\n  font-size: 12px;\n  color: rgba(0, 0, 0, 0.4);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.board-countdown.board-countdown--view .board-countdown__content .board-countdown__left {\n  bottom: 0;\n  width: 100%;\n  height: 2px;\n  border-radius: 0 0 2px 2px;\n  background-color: #2b79ff;\n  opacity: 0;\n  animation: countdown linear;\n}\n.board-countdown.board-countdown--view .board-countdown__content .board-countdown__left--without-right-round {\n  border-radius: 0 0 0 2px;\n}\n@keyframes countdown {\n  from {\n    opacity: 1;\n  }\n  to {\n    width: 0;\n    opacity: 1;\n  }\n}\n@keyframes bounce {\n  0% {\n    transform: translate3d(0, 0, 0);\n    animation-timing-function: ease-out;\n  }\n  17% {\n    top: translate3d(0, -96px, 0);\n    animation-timing-function: ease-in;\n  }\n  34% {\n    transform: translate3d(0, 0, 0);\n    animation-timing-function: ease-out;\n  }\n  51% {\n    transform: translate3d(0, -48px, 0);\n    animation-timing-function: ease-in;\n  }\n  68% {\n    transform: translate3d(0, 0, 0);\n    animation-timing-function: ease-out;\n  }\n  85% {\n    transform: translate3d(0, -24px, 0);\n    animation-timing-function: ease-in;\n  }\n  100% {\n    transform: translate3d(0, 0, 0);\n  }\n}\n.board-countdown.board-countdown--bouncing {\n  animation: bounce 1s 1;\n}\n",""])},5498:function(t,n){t.exports='<div id="board-countdown" class="board-countdown board-panel--transparent board-panel--hidden-bottom"\n     ng-class="{\'board-countdown--edit\': !ctrl.isActive, \'board-countdown--view\': ctrl.isActive || ctrl.done}"\n     bottom-panel-positioner>\n\n    <div class="board-countdown__content" ng-show="!ctrl.isActive && !ctrl.done">\n        <div class="board-countdown__input-border board-countdown__input-border--hours">\n            <div class="board-countdown__input-wrapper board-countdown__input-wrapper--hours">\n                <number-input class="rtb-input--hours" tabindex="1" ng-disabled="!ctrl.canEdit()"\n                              value="ctrl.hours" max-value="99" min-value="0" step-value="1"\n                              on-change="ctrl.setModelHours()"></number-input>\n            </div>\n        </div>\n\n        <div class="board-countdown__input-border board-countdown__input-border--minutes">\n            <div class="board-countdown__input-wrapper board-countdown__input-wrapper--minutes">\n                <number-input class="rtb-input--minutes" tabindex="2" ng-disabled="!ctrl.canEdit()"\n                              value="ctrl.minutes" max-value="59" min-value="0" step-value="1"\n                              on-change="ctrl.setModelMinutes()"></number-input>\n            </div>\n        </div>\n\n        <div class="board-countdown__input-border board-countdown__input-border--seconds">\n            <div class="board-countdown__input-wrapper board-countdown__input-wrapper--seconds">\n                <number-input class="rtb-input--seconds" tabindex="3" ng-disabled="!ctrl.canEdit()"\n                              value="ctrl.seconds" max-value="59" min-value="0" step-value="1"\n                              on-change="ctrl.setModelSeconds()"></number-input>\n            </div>\n        </div>\n\n        <div class="board-countdown__hours">hours</div>\n        <div class="board-countdown__minutes">min</div>\n        <div class="board-countdown__seconds">sec</div>\n    </div>\n\n    <div class="board-countdown__content" ng-show="ctrl.isActive || ctrl.done">\n        <div class="board-countdown__time" id="board-countdown__time"></div>\n        <div class="board-countdown__author" id="board-countdown__author">by {{ctrl.startedBy}}</div>\n        <div class="board-countdown__left" id="board-countdown__left"></div>\n    </div>\n\n    <div class="board-countdown__buttons">\n        <div class="board-countdown__button board-countdown__button--hide" hm-tap="ctrl.hide()">{{ctrl.done ? \'Close\' : \'Hide\'}}</div>\n\n        <div class="board-countdown__button board-countdown__button--start"\n             ng-show="ctrl.canEdit() && !ctrl.isActive && !ctrl.done" hm-tap="ctrl.start()">Start</div>\n        <div class="board-countdown__button board-countdown__button--finish"\n             ng-show="ctrl.canEdit() && ctrl.isActive && !ctrl.done" hm-tap="ctrl.finish()">Stop</div>\n        <div class="board-countdown__button board-countdown__button--reset"\n             ng-show="ctrl.canEdit() && !ctrl.isActive && ctrl.done" hm-tap="ctrl.reset()">Reset</div>\n    </div>\n</div>'},5499:function(t,n,e){"use strict";(function(t){var i=e(21),o=e(94),s=e.n(o),a=e(54),r=e(37),c=e(249),l=e(22),d=e(39),p=e(229),u=e(439),g=e(170),h=e(888),m=e(1326),b=e(74),v=e(190),f=e(31),_=e(59),x=e(26),w=e(239),y=e(241),k=e(57),C=e(122),O=e(87),T=e(78),j=C.b(),S=d.b(),E=400,A=function(n){function e(e,i,o){var s=n.call(this,e,o)||this;return s.$element=i,s.widgets=[],s.widgetsState=new Map,s.loading=!0,s.count=0,s.history=[],s.highlightedWidgets=[],s.deletedWidgets=[],s.scrollHandler=function(){s.$container[0].scrollHeight-s.$container.outerHeight()-s.$container.scrollTop()<E&&!s.loading&&s.count<s.widgets.length&&s.loadBatch(s.count,s.itemsPerBatch)},s.$container=t(".activity-list__content"),s.$container.on("scroll",s.scrollHandler),s.itemsPerBatch=Math.floor(s.$container.height()/32),s.range=s.getLastChangesDateRange(),l.widgetController.onWidgetLoaded.add(s.onWidgetLoaded,s),l.widgetController.onWidgetUnloaded.add(s.onWidgetUnloaded,s),l.widgetController.onWidgetHistoryChanged.add(s.onWidgetHistoryDataChanged,s),Object(O.a)().leftSidebar.activePluginsChanged.addOnce(s.onActivePluginChanged,s),Object(u.a)().highlightsChanged.add(s.onHighlightsChanged,s),j().commentUpdated.add(s.onCommentUpdated,s),j().commentCreated.add(s.onCommentUpdated,s),s.$scope.$on("$destroy",function(){s.$container.off("scroll",s.scrollHandler),l.widgetController.onWidgetLoaded.remove(s.onWidgetLoaded,s),l.widgetController.onWidgetUnloaded.remove(s.onWidgetUnloaded,s),l.widgetController.onWidgetHistoryChanged.remove(s.onWidgetHistoryDataChanged,s),Object(u.a)().highlightsChanged.remove(s.onHighlightsChanged,s),Object(m.a)().onData.remove(s.onDeletedWidgetsReceived,s),j().commentUpdated.remove(s.onCommentUpdated,s),j().commentCreated.remove(s.onCommentUpdated,s),s.widgets.forEach(function(t){t.widget&&t.widget.stateChanged.remove(s.onWidgetStateChanged,s)})}),Object(m.a)().load(),Object(m.a)().onData.add(s.onDeletedWidgetsReceived,s),s.init(),s}return Object(i.d)(e,n),e.prototype.onActivePluginChanged=function(t,n){n===_.a.ACTIVITY_LIST&&x.Cd()},e.prototype.init=function(){this.initWidgets();var t=this.getLastChangesCount();this.highlightChanges=Object(u.a)().isHighlighted(),this.loadBatch(0,Math.max(t,this.itemsPerBatch))},e.prototype.onWidgetLoaded=function(t){this.count+=1;var n=this.deletedWidgets.findIndex(function(n){return n.widgetId===t.tokenizer.id});n>-1&&this.deletedWidgets.splice(n,1),this.refresh()},e.prototype.onCommentUpdated=function(){this.refresh()},e.prototype.onWidgetUnloaded=function(t){this.count-=1,t.widgetType&&this.deletedWidgets.push({widget:t,widgetId:t.tokenizer.id,time:(new Date).getTime(),userId:t.historyData.lastChangeUserId?t.historyData.lastChangeUserId.toString():"",text:this.getPlainText(t),action:"deleted "+this.getWidgetType(t),highlighted:!1}),this.refresh()},e.prototype.onDeletedWidgetsReceived=function(t){var n=this;if(t.size>0){var e=(t.data||[]).map(function(t){var e=t.time.getNumber();return{widgetId:t.widgetId,time:e,userId:t.userId?t.userId.toString():"",text:t.widgetText?b.j(t.widgetText):"",action:"deleted "+n.getDeletedWidgetType(t.widgetType),highlighted:n.isWidgetHighlighted(e,n.range.start,n.range.end)}});this.deletedWidgets=this.deletedWidgets.concat(e)}t.size>0&&this.deletedWidgets.length===t.size&&this.refresh(!1)},e.prototype.onWidgetHistoryDataChanged=function(t){this.refresh()},e.prototype.getWidgetType=function(t){switch(t.widgetType){case r.a.CARD:return"card";case r.a.JIRACARD:return"Jira card";case r.a.RALLYCARD:return"Rally card";case r.a.WEBSCREEN:return"screenshot";case r.a.STICKER:return"sticky note";case r.a.CURVE:return"drawing"}if(t.mockupType)switch(t.mockupType){case w.j:return"pie chart";case w.g:return"column chart";case w.f:return"bar chart";case w.i:return"funnel chart";case w.sb:return"table"}return t.is("mindmap")?"mind map node":r.a[t.widgetType].toLowerCase()},e.prototype.getDeletedWidgetType=function(t){switch(t){case v.a.CARD:return"card";case v.a.JIRACARD:return"Jira card";case v.a.RALLYCARD:return"Rally card";case v.a.EMBED:return"embed";case v.a.PREVIEW:return"preview";case v.a.STICKER:return"sticky note"}return t.toLowerCase().replace("widget","")},e.prototype.refresh=function(t){var n=this;void 0===t&&(t=!0),this.loading||(this.loading=!0,setTimeout(function(){n.initWidgets(),n.loadBatch(0,Math.max(n.count,n.itemsPerBatch),!0)},t?3e3:0))},e.prototype.initWidgets=function(){var t=this;this.history=[];var n=l.quadTree.allObjects.filter(function(t){return t.widgetType&&t.isPresent&&t.widgetType!=r.a.COMMENT&&!(t.is("mindmap")&&t.widgetType==r.a.LINE)}).map(function(n){var e=n.historyData.creationUserId?n.historyData.creationUserId.toString():"",i=n.historyData.lastChangeUserId?n.historyData.lastChangeUserId.toString():"",o=n.historyData.lastChangeTime?n.historyData.lastChangeTime.getNumber():0,s=n.historyData.creationTime?n.historyData.creationTime.getNumber():0,a=(o-s)/1e3<60?"added":"edited",r=Math.max(o,s);return{time:r,widget:n,widgetId:n.tokenizer.id,userId:i||e,text:t.getPlainText(n),action:a+" "+t.getWidgetType(n),highlighted:t.isWidgetHighlighted(r,t.range.start,t.range.end)}}),e=j().getAllComments().filter(function(t){return t.messages.length>0}).map(function(n){var e=n.messages,i=e[0].senderId.toString(),o=k.i(e[0].timestampData,!0).getTime();return{time:o,widget:n,widgetId:n.tokenizer.id,userId:i,text:t.getPlainText(n),action:"added "+t.getWidgetType(n),highlighted:t.isWidgetHighlighted(o,t.range.start,t.range.end)}});this.deletedWidgets=this.deletedWidgets.map(function(t){return t.widget&&(t.userId=t.widget.historyData.lastChangeUserId.toString(),t.widget=void 0),t}),this.widgets=n.concat(this.deletedWidgets).concat(e),this.widgets.sort(function(t,n){return n.time-t.time}),this.hasLastChanges=this.getLastChangesCount()>0,this.highlightedWidgets=[]},e.prototype.loadBatch=function(t,n,e){var i=this,o=this.widgets.slice(t,t+n),s=[],a=[];o.length>0&&(this.loading=!0,o.forEach(function(t){if(t.userId){var n=i.getActivityListEvent(t).then(function(n){s.push(n),i.updateState(n),t.widget&&(n.highlighted&&n.widget&&i.highlightedWidgets.push(n.widget),t.widget.stateChanged.add(i.onWidgetStateChanged,i))});a.push(n)}})),Promise.all(a).then(function(){i.loading=!1,e||(i.count+=s.length),i.addBatchToHistory(s)})},e.prototype.onWidgetStateChanged=function(t){var n=this;if(t.getState()===g.a.NORMAL){var e=t.historyData.lastChangeTime?t.historyData.lastChangeTime.getNumber():0,i=t.historyData.creationTime?t.historyData.creationTime.getNumber():0,o=Math.max(e,i);this.highlightChanges&&this.isWidgetHighlighted(o,this.range.start,this.range.end)&&(this.highliting=!0,setTimeout(function(){Object(u.a)().highlightWidget(t),n.highliting=!1},1e3))}},e.prototype.getActivityListEvent=function(t){var n=this;return new Promise(function(e){c.a(t.userId,!0).then(function(i){var o=n.widgetsState.get(t.widgetId.toString()),a={widgetId:t.widgetId,widget:t.widget,userId:t.userId,userPic:i.picture.medium,userName:i.name,time:t.time,text:t.text,action:t.action,formattedTime:s()(t.time).format("HH:mm"),expanded:!!o&&o.expanded,deleted:!1,cut:t.text.length>32,highlighted:t.time>n.range.start.getNumber()&&t.time<n.range.end.getNumber()};e(a)})})},e.prototype.addBatchToHistory=function(t){var n=this,e=Object(T.m)(t,function(t){return s()(t.time).format("MMMM DD, YYYY")}),i=Object.keys(e).map(function(t){var n=e[t],i=n.slice().sort(function(t,n){return n.time-t.time}),o=[];return i.forEach(function(t){if(0===o.length){var n={userId:t.userId,userName:t.userName,userPic:t.userPic,events:[t]};o.push(n)}else t.userId===o[o.length-1].userId?o[o.length-1].events.push(t):o.push({userId:t.userId,userName:t.userName,userPic:t.userPic,events:[t]})}),{users:o,longDate:t,date:new Date(n[0].time)}});Object(T.p)(i,function(t){return s()(t.longDate,"MMMM DD, YYYY")},!0),i.forEach(function(t){var e=n.history.find(function(n){return n.longDate===t.longDate});if(e){var i=e.users[e.users.length-1],o=t.users[0];i.userId===o.userId?(i.events=i.events.concat(o.events),e.users=e.users.concat(t.users.slice(1))):e.users=e.users.concat(t.users)}else n.history=n.history.concat(t)}),this.$scope.$digest()},e.prototype.getPlainText=function(t){if(t.widgetType==r.a.COMMENT){var n=t.getTextsForSearch();return n.length?n[0].text:""}var e=t,i="";return e&&e.getPlainText&&(i=e.getPlainText(!1)),i},e.prototype.getLastChangesDateRange=function(){var t=Object(h.a)().getDates();return{start:t&&t.start?t.start:S().currentBoard.closedTime,end:t&&t.end?t.end:S().currentBoard.openedTime}},e.prototype.getLastChangesCount=function(){var t=0;return this.widgets.forEach(function(n){n.widget&&n.highlighted&&t++}),t},e.prototype.isWidgetHighlighted=function(t,n,e){return n.getNumber()>0&&t>n.getNumber()&&t<e.getNumber()},e.prototype.updateState=function(t){this.widgetsState.set(t.widgetId.toString(),{expanded:t.expanded})},e.prototype.onClick=function(t){if(t.widget){var n=t.widget;if(n.widgetType!==r.a.COMMENT)p.a.setViewport(n.bounds).calculateScreenOffset({fitTo100Percent:!0}).jumpWithAnimation(),l.canvasActions.onViewportAnimationEnded.addOnce(function(){l.mySelection.selectObject(n)});else{var e=n;Object(y.a)().openMessage(e,e.messages[e.messages.length-1].id.toString())}}},e.prototype.expand=function(t,n){t.expanded=!t.expanded,n.stopPropagation(),this.updateState(t)},e.prototype.toggleChangesHighlighting=function(){this.highlightChanges=!this.highlightChanges,this.highlightChanges?(Object(u.a)().processChanges(this.highlightedWidgets),this.highlightWidgets()):Object(u.a)().clearHighlights(),x.Jc(this.highlightChanges)},e.prototype.onHighlightsChanged=function(t){this.highliting||(this.highlightChanges=t,this.hasLastChanges=this.getLastChangesCount()>0)},e.prototype.highlightWidgets=function(){if(this.highlightedWidgets.length){var t=f.f(this.highlightedWidgets);t&&(t.x-=t.width/2,t.y-=t.height/2,t.width*=2,t.height*=2,l.canvasActions.jumpToViewport(t))}},e.$inject=["$scope","$element","signals"],e}(a.a);n.a=A}).call(this,e(36))},5500:function(t,n,e){var i=e(5501);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5501:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".activity-list {\n  width: 340px;\n}\n.activity-list .activity-list__empty {\n  font-size: 12px;\n  padding: 46px 50px 55px;\n  text-align: center;\n}\n.activity-list .activity-list__content {\n  color: #050038;\n  display: block;\n  overflow-y: auto;\n  width: 340px;\n  margin-top: 14px;\n  height: calc(100% - 150px);\n  max-height: calc(100% - 150px);\n  -webkit-overflow-scrolling: touch;\n  scrollbar-color: #827f9b transparent;\n  scrollbar-width: thin;\n}\n.activity-list .activity-list__content::-webkit-scrollbar {\n  width: 4px;\n  height: 4px;\n}\n.activity-list .activity-list__content::-webkit-scrollbar-thumb {\n  background-color: #827f9b;\n  border: 0 solid transparent;\n  border-radius: 2px;\n}\n.activity-list .activity-list__content::-webkit-scrollbar-track {\n  background-color: initial;\n}\n.activity-list .activity-list__header {\n  font-size: 14px;\n  font-weight: bold;\n  height: 44px;\n  padding: 22px 0 0 24px;\n  font-family: Formular, sans-serif;\n  font-size: 24px;\n  font-weight: 500;\n}\n.activity-list .activity-list__btn {\n  padding: 0 24px;\n}\n.activity-list .activity-list__day {\n  margin-bottom: 17px;\n}\n.activity-list .activity-list__title {\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0 20px 0 24px;\n}\n.activity-list .activity-list__title span {\n  color: #050038;\n  font-weight: bold;\n  padding: 0 4px;\n  font-size: 14px;\n}\n.activity-list .activity-list__title::after,\n.activity-list .activity-list__title::before {\n  content: '';\n  display: block;\n  background-color: #e1e0e7;\n  height: 1px;\n  -ms-flex-positive: 1;\n  flex-grow: 1;\n  margin-top: 9px;\n}\n.activity-list .activity-list__item {\n  font-size: 14px;\n  line-height: 20px;\n  margin-top: 10px;\n}\n.activity-list .activity-list__item .activity-list__user {\n  padding: 0 24px 0 24px;\n}\n.activity-list .activity-list__item .activity-list__user-avatar {\n  width: 28px;\n  height: 28px;\n  min-width: 28px;\n  max-width: 28px;\n  min-height: 28px;\n  max-height: 28px;\n  border-radius: 50%;\n  vertical-align: middle;\n}\n.activity-list .activity-list__item .activity-list__user-name {\n  font-weight: bold;\n  margin-left: 4px;\n}\n.activity-list .activity-list__item .activity-list__user .activity-list__user-name {\n  font-family: Formular, sans-serif;\n  font-size: 18px;\n  font-weight: normal;\n}\n.activity-list .activity-list__item .activity-list__event {\n  padding: 6px 24px 6px 24px;\n  cursor: pointer;\n}\n.activity-list .activity-list__item .activity-list__event:hover:not(.activity-list__event--deleted) {\n  background-color: rgba(0, 0, 0, 0.04);\n}\n.activity-list .activity-list__item .activity-list__action {\n  position: relative;\n  color: #827f9b;\n}\n.activity-list .activity-list__item .activity-list__action-dot {\n  display: none;\n  width: 4px;\n  height: 4px;\n  border-radius: 50%;\n  background-color: #4262ff;\n  position: absolute;\n  left: 11px;\n  top: 8px;\n}\n.activity-list .activity-list__item .activity-list__action-type {\n  margin-left: 35px;\n}\n.activity-list .activity-list__item .activity-list__action-time {\n  margin-left: 4px;\n}\n.activity-list .activity-list__item .activity-list__action--highlighted {\n  color: inherit;\n}\n.activity-list .activity-list__item .activity-list__action--highlighted .activity-list__action-dot {\n  display: inline-block;\n}\n.activity-list .activity-list__item .activity-list__text {\n  margin-left: 35px;\n  padding-left: 8px;\n  font-style: italic;\n  margin-top: 4px;\n  border-left: 2px solid #cdccd7;\n  color: #827f9b;\n  word-wrap: break-word;\n  box-sizing: border-box;\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n  width: 95%;\n}\n.activity-list .activity-list__item .activity-list__text > span {\n  display: inline-block;\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n  -webkit-user-select: text;\n     -moz-user-select: text;\n      -ms-user-select: text;\n          user-select: text;\n  cursor: text;\n}\n.activity-list .activity-list__item .activity-list__text .icon {\n  width: 24px;\n  height: 24px;\n  display: inline-block;\n  vertical-align: top;\n  transform: rotate(180deg);\n  opacity: 0.6;\n  position: relative;\n  left: -7px;\n  top: -1px;\n}\n.activity-list .activity-list__item .activity-list__text--collapsed {\n  height: 20px;\n}\n.activity-list .activity-list__item .activity-list__text--collapsed > span {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  height: 20px;\n}\n.activity-list .activity-list__item .activity-list__text--collapsed .icon {\n  transform: none;\n}\n.activity-list .activity-list__item .activity-list__text--cut > span {\n  width: 85%;\n}\n",""])},5502:function(t,n,e){t.exports='<div class="activity-list">\n\n    <div class="activity-list__header">Activity</div>\n\n    <div class="activity-list__btn" ng-show="ctrl.history.length > 0">\n        <button class="rtb-btn rtb-btn--primary rtb-btn--medium rtb-btn--fluid"\n                ng-disabled="!ctrl.hasLastChanges"\n                ng-class="{\'rtb-btn--disabled rtb-btn--secondary-bordered\': !ctrl.hasLastChanges, \'rtb-btn--primary-bordered\': ctrl.highlightChanges}"\n                hm-tap="ctrl.toggleChangesHighlighting()">{{ctrl.hasLastChanges ? ctrl.highlightChanges ? \'Hide changes highlighting\' : \'Show changes highlighting\' : \'No changes since your last visit\'}}\n        </button>\n    </div>\n\n    <div class="activity-list__empty" ng-show="ctrl.history.length === 0">\n        Looks like the board is empty. You don\'t have any history on this board yet.\n    </div>\n\n    <div class="activity-list__content" no-prevent-default="true">\n        <div class="activity-list__day" ng-repeat="day in ctrl.history">\n\n            <div class="activity-list__title">\n                <span><relativedate value="day.date" absolute-format="\'MMMM DD\'" relative-format="\'\'"></relativedate></span>\n            </div>\n\n            <div class="activity-list__item" ng-repeat="user in day.users">\n                <div class="activity-list__user">\n                    <img class="activity-list__user-avatar"\n                         ng-src="{{user.userPic}}"/>\n                    <span class="activity-list__user-name">{{ ::user.userName }}</span>\n                </div>\n\n                <div class="activity-list__event"\n                     hm-tap="ctrl.onClick(event)"\n                     ng-repeat="event in user.events"\n                     ng-class="{\'activity-list__event--deleted\': event.deleted}">\n\n                    <div class="activity-list__action" ng-class="{\'activity-list__action--highlighted\': ctrl.highlightChanges && event.highlighted}">\n                        <span class="activity-list__action-dot"></span>\n                        <span class="activity-list__action-type">{{ ::event.action }}</span>\n                        <span class="activity-list__action-time">{{ ::event.formattedTime }}</span>\n                    </div>\n                    <div class="activity-list__text"\n                         ng-class="{\'activity-list__text--collapsed\': !event.expanded, \'activity-list__text--cut\': event.cut}"\n                         ng-show="{{event.text != \'\'}}">\n                        <span>{{ ::event.text }}</span>\n                        <svg   \n                             alt=""\n                             class="icon"\n                             ng-show="event.cut"\n                             hm-tap="ctrl.expand(event, $event)"><use xlink:href="'+e(1766)+'"></use></svg>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},5503:function(t,n,e){"use strict";(function(t,i,o){e.d(n,"a",function(){return w});var s=e(94),a=e.n(s),r=e(30),c=e(246),l=e.n(c),d=e(34),p=e(335),u=e(5504),g=e(25),h=e(311),m=e(274),b=e(87),v=e(522),f=e(59),_=e(2076),x=d.b();function w(){Object(u.a)(),Object(m.a)(),Object(p.a)(),e(5507),Object(g.b)().directive("chat",y)}function y(n){return Object(r.a)({restrict:"E",template:e(5509),scope:!0,link:function(e,s){var r,c,d=new Date,p=!1;function u(){t.log("chat","[ChatDirective] onMessagesChanged",e,s);var n=Object(h.a)().getMessages();m(),e.messages=n,e.isMessages=!l()(n),e.safeApply()}function g(){m()}function m(){if(p)return w(),void(p=!1);var t=Object(b.a)().leftSidebar.activePluginOptions?Object(b.a)().leftSidebar.activePluginOptions.messageId:void 0;t?setTimeout(function(){return function(t){if(!isNaN(t)){var n=Object(h.a)().getMessagesData().some(function(n){return n.id===t});if(n){var e=o("#chat-message-"+t);e.length&&e[0].scrollIntoView({block:"end"})}}}(t)}):function(){var t=r.height(),n=r.scrollTop(),e=r.prop("scrollHeight");return!n||e-n-t<=20}()&&w()}function w(){setTimeout(function(){return r.scrollTop(1e6)},200)}e.viewMode=!0,e.displayShadow=!1,e.newMessage="",e.messages=[],e.isMessages=!1,e.selectedMessage=null,e.today=a.a.months(d.getMonth())+" "+d.getDate()+", "+d.getFullYear(),e.getUserId=function(){return x().userInfo.id},e.addNewMessage=function(){Object(v.a)(f.a.CHAT),t.log("chat","[ChatDirective] addNewMessage",e,s,e.newMessage),e.newMessage&&(Object(h.a)().addMessage(e.newMessage),e.newMessage="",p=!0),i.isTouchSupportedAndNotDesktop||setTimeout(function(){return c.click()})},e.onAddNewMessageClick=function(){e.newMessageCtrl.save()},e.setViewMode=function(){e.viewMode=!0,e.safeApply()},e.setEditMode=function(){e.viewMode=!1,e.safeApply()},n(function(){c=s.find("div.bottom .editable"),(r=s.find("div.scrollable")).scroll(function(){var t=r.height(),n=r.scrollTop(),i=r.prop("scrollHeight");e.displayShadow=i>t&&i-n!=t,e.$digest()}),w(),Object(h.a)().chatOpened.add(g),Object(h.a)().messagesChanged.add(u),_.a.opened(),e.$on("$destroy",function(){_.a.closed(),Object(h.a)().chatOpened.remove(g),Object(h.a)().messagesChanged.remove(u)})})}})}y.$inject=["$timeout"]}).call(this,e(29),e(0),e(36))},5504:function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return u});var i=e(30),o=e(249),s=e(71),a=e(135),r=e(311),c=e(335),l=e(25),d=r.b(),p=t.isTouchSupportedAndNotDesktop?"touchstart":"click";function u(){Object(c.a)(),Object(l.b)().directive("chatMessage",g)}function g(){return Object(i.a)({restrict:"E",template:e(5505),scope:{message:"=",editable:"=",setViewMode:"&",setEditMode:"&"},link:function(t,n){function e(n){var e=document.querySelector(".js--chat-message-save"),i=document.querySelector(".js--chat-message-cancel");e&&e.contains(n.target)?t.controller.save():i&&i.contains(n.target)?(t.controller.cancel(),t.endEdit()):t.controller.save()}t.selected=!1,t.id=a.b(),t.timestamp=t.message.date.getTime(),t.startEdit=function(){t.selected=!0,t.setEditMode(),document.addEventListener(p,e,!0)},t.endEdit=function(){t.selected=!1,document.removeEventListener(p,e,!0),t.setViewMode()},t.remove=function(){d().removeMessage(t.message.id),t.endEdit()},t.save=function(){t.message.text?(d().updateMessage(t.message.id,t.message.text),t.endEdit()):t.remove()},t.messageChanged=function(){var e=n.parents(".scrollable"),i=e.scrollTop(),o=e.outerHeight(),s=i+n.position().top+t.controller.getScrollTop();s>i+o-5*t.controller.getLineHeight()&&e.scrollTop(s)},o.a(t.message.senderId).then(function(n){t.userPicture=n.picture.medium||s.j,t.userName=n.name,t.$digest()})}})}}).call(this,e(0))},5505:function(t,n,e){t.exports='<div class="chat-message" title="Posted on {{::timestamp | date:\'MMMM dd, yyyy, HH:mm\'}}">\n    <div class="picture">\n        <img ng-show="userPicture" ng-src="{{::userPicture}}"/>\n        <span class="time">{{::timestamp | date:\'HH:mm\'}}</span>\n    </div>\n    <div class="message">\n        <div class="chat-message__header">\n            <span class="name">{{::userName}}</span>\n            <span class="time">{{::timestamp | date:\'HH:mm\'}}</span>\n        </div>\n        <div>\n            <ui-textarea ui-textarea-links\n                         ui-textarea-mentions\n                         ng-model="message.text"\n                         editable="editable"\n                         on-focus="startEdit()"\n                         on-enter="save()"\n                         on-change="messageChanged()"\n                         controller="controller"\n                         edit-as-html="true"\n                         ng-attr-id="{{\'js--ui-textarea-chat-\' + message.id}}"></ui-textarea>\n        </div>\n    </div>\n    <div class="remove-box">\n        <svg  ng-show="selected" hm-tap="remove()"  ><use xlink:href="'+e(5506)+'"></use></svg>\n    </div>\n</div>'},5506:function(t,n){t.exports="#img__delete-message"},5507:function(t,n,e){var i=e(5508);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5508:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".chat {\n  width: 100%;\n  max-height: calc(100vh - 140px);\n  min-height: 255px;\n  background: #fff;\n  color: rgba(5, 0, 56, 0.8);\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);\n  box-sizing: border-box;\n  font-size: 14px;\n}\n.chat .chat-header {\n  box-sizing: border-box;\n  height: 64px;\n  position: absolute;\n  background-color: rgba(255, 255, 255, 0.96);\n  width: 340px;\n  z-index: 10;\n  top: 0;\n}\n.chat .editable {\n  width: 100%;\n  border: none;\n  box-sizing: border-box;\n  line-height: 16px;\n  font-size: 14px;\n  word-wrap: break-word;\n  -webkit-overflow-scrolling: touch;\n  scrollbar-color: #827f9b transparent;\n  scrollbar-width: thin;\n}\n.chat .editable::-webkit-scrollbar {\n  width: 4px;\n  height: 4px;\n}\n.chat .editable::-webkit-scrollbar-thumb {\n  background-color: #827f9b;\n  border: 0 solid transparent;\n  border-radius: 2px;\n}\n.chat .editable::-webkit-scrollbar-track {\n  background-color: initial;\n}\n.chat .top {\n  position: relative;\n}\n.chat .top .editable {\n  padding: 4px 6px;\n}\n.chat .top .ui-textarea {\n  margin-left: -4px;\n  margin-top: 4px;\n}\n.chat .top .scrollable {\n  max-height: calc(100vh - 222px);\n  min-height: 191px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  box-sizing: border-box;\n  -webkit-overflow-scrolling: touch;\n  scrollbar-color: #827f9b transparent;\n  scrollbar-width: thin;\n}\n.chat .top .scrollable::-webkit-scrollbar {\n  width: 4px;\n  height: 4px;\n}\n.chat .top .scrollable::-webkit-scrollbar-thumb {\n  background-color: #827f9b;\n  border: 0 solid transparent;\n  border-radius: 2px;\n}\n.chat .top .scrollable::-webkit-scrollbar-track {\n  background-color: initial;\n}\n.chat .top .scrollable .scrollable-height {\n  padding: 0 24px;\n}\n.chat .top .scrollable .chat-date {\n  display: -ms-flexbox;\n  display: flex;\n  padding-bottom: 26px;\n}\n.chat .top .scrollable .chat-date::after,\n.chat .top .scrollable .chat-date::before {\n  content: '';\n  display: block;\n  background-color: #e1e0e7;\n  height: 1px;\n  -ms-flex-positive: 1;\n      flex-grow: 1;\n  margin-top: 9px;\n}\n.chat .top .scrollable .chat-date span {\n  color: #050038;\n  font-weight: bold;\n  padding: 0 4px;\n}\n.chat .top .scrollable .chat-date--empty {\n  margin-top: 10px;\n  padding: 0 20px;\n}\n.chat .top .scrollable .chat-message {\n  display: -ms-flexbox;\n  display: flex;\n  width: 100%;\n  margin: 12px 0 24px 0;\n}\n.chat .top .scrollable .chat-message .picture {\n  width: 36px;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  margin-top: -4px;\n}\n.chat .top .scrollable .chat-message .picture .time {\n  display: none;\n  margin-top: 7px;\n}\n.chat .top .scrollable .chat-message .picture img {\n  width: 28px;\n  height: 28px;\n  min-width: 28px;\n  max-width: 28px;\n  min-height: 28px;\n  max-height: 28px;\n  overflow: hidden;\n  border-radius: 50%;\n}\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  .chat .top .scrollable .chat-message .picture img {\n    width: auto;\n    height: auto;\n  }\n}\n.chat .top .scrollable .chat-message .message {\n  -ms-flex-positive: 1;\n      flex-grow: 1;\n}\n.chat .top .scrollable .chat-message .remove-box {\n  width: 20px;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n}\n.chat .top .scrollable .chat-message .remove-box svg {\n  top: 23px;\n  display: block;\n  position: relative;\n  left: 8px;\n  cursor: pointer;\n  width: 24px;\n  height: 24px;\n  color: #000;\n}\n.chat .top .scrollable .chat-message .remove-box svg:hover {\n  color: #d92929;\n}\n.chat .top .scrollable .chat-message .name {\n  display: inline-block;\n  vertical-align: text-top;\n  font-size: 14px;\n  color: #050038;\n  font-weight: bold;\n  max-width: 180px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.chat .top .scrollable .chat-message .time {\n  font-size: 14px;\n  margin-left: 6px;\n  color: #827f9b;\n}\n.chat .top .scrollable .chat-message.tape .chat-message__header {\n  display: none;\n}\n.chat .top .scrollable .chat-message.tape .time {\n  display: block;\n  visibility: hidden;\n  position: relative;\n  right: 12px;\n}\n.chat .top .scrollable .chat-message.tape img {\n  display: none;\n}\n.chat .top .scrollable .chat-message.tape .remove-box svg {\n  top: 0;\n}\n.chat .top .scrollable .chat-message:hover .time {\n  visibility: visible !important;\n}\n.chat .top .scrollable .editable:focus {\n  background-color: #f5f5f7;\n  border-radius: 4px;\n}\n.chat .bottom {\n  height: 64px;\n  padding: 8px;\n  box-sizing: border-box;\n}\n.chat .bottom .editable {\n  width: 100%;\n  height: 48px !important;\n  min-height: 48px;\n  border-radius: 4px;\n  border: 1px solid #c3c2cf;\n  overflow-y: auto;\n  padding: 14px 10px 0 10px;\n}\n.chat .bottom .ui-textarea__placeholder {\n  top: 15px;\n  left: 11px;\n}\n.chat .bottom .icon {\n  cursor: pointer;\n  width: 27px;\n  height: 22px;\n  padding: 10px;\n  margin: -10px 0 0 -10px;\n}\n.chat .bottom .buttons {\n  margin: 0 -8px;\n  display: -ms-flexbox;\n  display: flex;\n  padding-top: 10px;\n}\n.chat .bottom .buttons .btn {\n  text-align: center;\n  -ms-flex-positive: 1;\n      flex-grow: 1;\n  font-size: 14px;\n  line-height: 24px;\n  display: inline-block;\n}\n.chat .bottom .buttons .btn.apply {\n  color: #4262ff;\n}\n.chat .bottom .buttons .btn.apply:hover {\n  color: #455bed;\n}\n.chat .bottom .buttons .btn.cancel {\n  color: #050038;\n}\n.chat .bottom .buttons .btn.cancel:hover {\n  color: #000;\n}\n.chat .bottom .buttons .splitter {\n  display: inline-block;\n  height: 24px;\n  width: 1px;\n  background-color: rgba(0, 0, 0, 0.16);\n}\n.sidebar--chat {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: end;\n      align-items: flex-end;\n}\n.sidebar--chat .collaboration-block {\n  position: static;\n}\n.sidebar--chat .chat {\n  box-shadow: none;\n  width: 340px;\n  max-height: 100%;\n  height: 100%;\n  position: absolute;\n}\n.sidebar--chat .chat .top {\n  height: calc(100% - 128px);\n  padding-top: 64px;\n}\n.sidebar--chat .chat .scrollable {\n  height: 100%;\n  max-height: 100%;\n}\n.sidebar--chat .chat .scrollable .scrollable-height {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  -ms-flex-pack: end;\n      justify-content: flex-end;\n  min-height: 100%;\n  box-sizing: border-box;\n}\n.sidebar--chat .chat .chat-date--empty {\n  position: absolute;\n  width: 100%;\n  bottom: 60px;\n  box-sizing: border-box;\n}\n",""])},5509:function(t,n){t.exports='<div class="collaboration chat">\n    <div class="chat-header">\n        <div class="sidebar-caption">Chat</div>\n    </div>\n    <div class="top">\n        <div class="scrollable" no-prevent-default="true">\n            <div class="scrollable-height" ng-if="isMessages">\n                <div class="year" ng-repeat="(year, years) in messages track by year">\n                    <div class="month" ng-repeat="(month, months) in years track by month" ng-if="months">\n                        <div class="day" ng-repeat="(day, days) in months track by day" ng-if="days.list.length">\n                            <div class="chat-date">\n                                <span><relativedate value="days.date" absolute-format="\'MMMM DD, YYYY\'" relative-format="\'\'"></relativedate></span>\n                            </div>\n\n                            <chat-message ng-class="{tape:message.senderId == days.list[$index - 1].senderId}" message="message"\n                                          ng-attr-id="{{\'chat-message-\' + message.id}}"\n                                          ng-repeat="message in days.list track by message.id"\n                                          editable="message.senderId == getUserId()"\n                                          set-edit-mode="setEditMode()" set-view-mode="setViewMode()"\n                                          data-mentions-position="chat"></chat-message>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="chat-date chat-date--empty" ng-if="!isMessages"><span>{{::today}}</span></div>\n        </div>\n    </div>\n\n    <div class="bottom">\n        <ui-textarea ng-show="viewMode"\n                     ui-textarea-mentions\n                     placeholder="\'Type a message. Use @ to mention.\'"\n                     ng-model="newMessage"\n                     controller="newMessageCtrl"\n                     on-enter="addNewMessage()"\n                     data-mentions-position="chat"\n                     autoblur="true"\n                     autosave="false"\n                     edit-as-html="true"></ui-textarea>\n\n        <div class="buttons" ng-hide="viewMode">\n            <span class="btn apply js--chat-message-save">Save</span>\n            <span class="splitter"></span>\n            <span class="btn cancel js--chat-message-cancel">Cancel</span>\n        </div>\n    </div>\n</div>'},5510:function(t,n,e){"use strict";(function(t){var i=e(26),o=e(232),s=e(1908),a=e(395),r=e(56),c=e(65),l=e(122),d=e(615),p=e(241),u=e(1246),g=e(59),h=e(87),m=e(622),b=e(192),v=e(401),f=r.b(),_=p.b(),x=l.b(),w=d.b(),y="",k="All comments",C=function(){function n(n){var e=this;this.$scope=n,this.offset=157,this.filter="mentions",this.tabsVisible=!1,this.withUnread=0,this.withMentions=0,this.showTooltip=!1,this.commentsState=new Map,this.addMenu(),this.withMentions||(y&&!this.withUnread?this.filter=y:this.filter="all"),n.model={selectedTabIdent:k,tabs:[],onTabClick:function(t,i){n.model.selectedTabIdent=i.name,e.updateActiveTab()}},i.Yg(this.filter,Boolean(this.withUnread)),w().showTooltipChanged.addOnce(this.onTooltipChanged,this),w().needUpdateTabs.add(this.onTabsUpdated,this),w().needUpdateList.add(this.onCommentUpdated,this),n.$on("$destroy",function(){w().showTooltipChanged.remove(e.onTooltipChanged,e),w().needUpdateTabs.remove(e.onTabsUpdated,e),w().needUpdateList.remove(e.onCommentUpdated,e)}),this.menuButton=t("#collaboration-tools-menu-button"),Object(h.a)().leftSidebar.activePluginsChanged.addOnce(this.onActivePluginChanged,this),this.onTabsUpdated(),this.onCommentUpdated()}return n.prototype.updateActiveTab=function(){var t=this;this.$scope.model.tabs.some(function(n){return n.isActive=n.name===t.$scope.model.selectedTabIdent})},n.prototype.onActivePluginChanged=function(t,n){var e=this;n===g.a.COMMENTS&&this.commentsState.forEach(function(t,n){if(t){var i=e.getAllComments().find(function(t){return t.id===n});i&&e.markCommentAsRead(i)}})},n.prototype.onTabsUpdated=function(){this.$scope.model.tabs=w().getCommentSources().map(function(t){return{name:t,title:t,badge:"",isActive:!1}}),this.updateActiveTab(),this.tabsVisible=w().getCustomSourcesCount()>1},n.prototype.onCommentUpdated=function(){this.updateCounters(),this.$scope.safeApply()},n.prototype.updateCounters=function(){var t="all"==this.filter;this.withUnread=w().getUnreadMessagesCount(),this.withMentions=w().getUnreadMentionsCount(),this.$scope.model.tabs.forEach(function(n,e){n.badge=n.name==k?null:t?w().getUnreadMessagesCount(n.name):w().getUnreadMentionsCount(n.name)}),this.markAllLabel.disabled=!this.withUnread,this.$scope.viewer=!u.c()},n.prototype.onTooltipChanged=function(t){var n=this;setTimeout(function(){n.showTooltip=t,n.$scope.$digest()},1e3)},n.prototype.toggleFilter=function(t){y=t,this.filter=t,this.updateCounters()},n.prototype.toggleMenu=function(){this.menu.isVisible?this.menu.hide():this.menu.show({x:this.menuButton.offset().left-this.offset,y:105})},n.prototype.hideMenu=function(){this.menu.isVisible&&this.menu.hide()},n.prototype.hideTooltip=function(){this.showTooltip=!1},n.prototype.openMessage=function(t,n,e,i){if(void 0===i&&(i="-1"),-1==e)Object(m.a)().executeManual("openChat");else{var o=n.commentGetOpenCommand();"openComment"==o&&Object(b.a)().then(function(t){return t.closePanel(v.b.MOVE_TO_CANVAS_COMMENT)}),Object(m.a)().executeManual(o,e,i)}},n.prototype.liveComment=function(){f().setTool(c.a.COMMENT)},n.prototype.getAllComments=function(){return w().getComments()},Object.defineProperty(n.prototype,"comments",{get:function(){var t=this.$scope.model.selectedTabIdent;return w().getComments(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mentions",{get:function(){var t=this.$scope.model.selectedTabIdent;return w().getMentions(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showMenu",{get:function(){return x().comments.filter(function(t){return t.isPresent}).length},enumerable:!0,configurable:!0}),n.prototype.isCommentsVisible=function(){return x().getCommentsVisible()},n.prototype.isResolvedCommentsVisible=function(){return _().showResolved},n.prototype.isReadAllAvailable=function(){return 0!==this.withUnread},n.prototype.toggleCommentsVisible=function(){x().setCommentsVisible(!x().getCommentsVisible())},n.prototype.toggleResolved=function(){_().toggleResolved()},n.prototype.markAllAsRead=function(){w().markAllAsRead()},n.prototype.markCommentAsRead=function(t){if(t.withUnread){t.withUnread=!1;var n=t.comment;n&&n.getController().markAsRead(n)}},n.prototype.toggleComment=function(t,n){var e=this.commentsState.get(t.id);e?(this.markCommentAsRead(t),this.commentsState.set(t.id,!e)):this.commentsState.set(t.id,!0),n.stopPropagation()},n.prototype.isCommentOpened=function(t){return this.commentsState.get(t.id)||!1},n.prototype.getMessagesCount=function(t){if(!t.withUnread)return t.messages.length-1;var n=t.messages.filter(function(t){return t.withUnread}).length;return t.messages[0].withUnread?n-1:n},n.prototype.addMenu=function(){this.menu=new a.a(!0,"canvasContextMenu--collaboration-tools-comments"),this.markAllLabel=new o.a("Mark all as read"),this.markAllLabel.setClickHandler(function(){return w().markAllAsRead()},null,!0),this.resolveLabel=new s.a("Show resolved",_().showResolved),this.resolveLabel.setClickHandler(function(){return _().toggleResolved()},null,!1),this.menu.addItem(this.resolveLabel),this.menu.addItem(this.markAllLabel)},n.$inject=["$scope"],n}();n.a=C}).call(this,e(36))},5511:function(t,n,e){t.exports='<div class="collaboration-tools-comments__message btn">\n    <div class="collaboration-tools-comments__message-name" >\n        <img ng-src="{{::userPicture}}"> <span ng-bind-html="userName" title="{{::userName}}"></span>\n    </div>\n\n    <div class="collaboration-tools-comments__message-time" title="{{message.timestamp | date:\'MMMM dd, yyyy \\\'at\\\' hh:mma\'}}">\n        <relativedate\n                value="fakeTime || message.timestamp"\n                absolute-format="\'DD MMM, HH:mm\'"\n                relative-format="\', HH:mm\'">\n        </relativedate>\n    </div>\n\n    <div class="clear"></div>\n\n    <ui-textarea ui-textarea-links ui-textarea-mentions ng-model="message.text" editable="false"></ui-textarea>\n\n    <div ng-if="ctrl.messageHasEmojies" class="collaboration-tools-comments__message-emojis">\n        <comment-emoji\n                ng-repeat="emoji in message.emojis"\n                emoji="emoji"\n                readonly="true"\n                tooltip-placement="right">\n        </comment-emoji>\n    </div>\n\n    <div class="collaboration-tools-comments__message-unread" ng-show="message.withUnread && !message.resolved"></div>\n    <svg  class="collaboration-tools-comments__message-resolved" ng-show="message.resolved"  ><use xlink:href="'+e(669)+'"></use></svg>\n    <div ng-transclude></div>\n</div>'},5512:function(t,n,e){var i=e(5513);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5513:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".collaboration-tools-comments {\n  width: 340px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n}\n.collaboration-tools-comments .tabs__header {\n  padding: 0 24px !important;\n}\n.collaboration-tools-comments .tabs__header .tab {\n  margin-right: 16px !important;\n}\n.collaboration-tools-comments .tabs__header .tab .tab__text {\n  font-size: 14px !important;\n  display: -ms-flexbox !important;\n  display: flex !important;\n  -ms-flex-align: center !important;\n      align-items: center !important;\n}\n.collaboration-tools-comments .collaboration-tools-comments__message-name {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  font-family: Formular, sans-serif;\n  font-size: 16px;\n  font-weight: normal;\n}\n.collaboration-tools-comments .collaboration-tools-comments__message-name img {\n  display: block;\n  margin-right: 8px;\n  width: 20px;\n  height: 20px;\n  min-width: 20px;\n  max-width: 20px;\n  min-height: 20px;\n  max-height: 20px;\n  overflow: hidden;\n  border-radius: 50%;\n}\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  .collaboration-tools-comments .collaboration-tools-comments__message-name img {\n    width: auto;\n    height: auto;\n  }\n}\n.collaboration-tools-comments .collaboration-tools-comments__message-name span {\n  max-width: 200px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.collaboration-tools-comments--viewer .collaboration-tools-comments__filters-filter--mentions {\n  display: none;\n}\n.collaboration-tools-comments--viewer .collaboration-tools-comments__filters-filter .collaboration-tools-comments__filters-filter-name:hover,\n.collaboration-tools-comments--viewer .collaboration-tools-comments__filters-filter--selected .collaboration-tools-comments__filters-filter-name {\n  cursor: inherit;\n  border-bottom-color: transparent !important;\n}\n.collaboration-tools-comments__filters {\n  height: 60px;\n  padding: 0 17px 0 40px;\n  box-sizing: border-box;\n  border-bottom: 1px solid #d7d7d7;\n}\n.collaboration-tools-comments__filters-filter {\n  float: left;\n  display: inline-block;\n}\n.collaboration-tools-comments__filters-filter-name:hover,\n.collaboration-tools-comments__filters-filter--selected .collaboration-tools-comments__filters-filter-name {\n  border-bottom: 2px solid #4262ff;\n}\n.collaboration-tools-comments__filters-filter-name,\n.collaboration-tools-comments__filters-filter-unread {\n  height: 60px;\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 68px;\n  display: inline-block;\n  letter-spacing: 0.4px;\n  box-sizing: border-box;\n  text-transform: uppercase;\n}\n.collaboration-tools-comments__filters-filter-name {\n  cursor: pointer;\n  margin-right: 3px;\n  border-bottom: 2px solid transparent;\n}\n.collaboration-tools-comments__filters-filter-unread {\n  width: 28px;\n  color: #4262ff;\n  margin-left: -1px;\n}\n.collaboration-tools-comments__filters-menu {\n  width: 19px;\n  height: 5px;\n  opacity: 0.2;\n  float: right;\n  margin-top: 12px;\n  padding: 18px 11px;\n}\n.collaboration-tools-comments__filters-menu:hover {\n  opacity: 0.6;\n}\n.collaboration-tools-comments__scroll {\n  overflow-y: auto;\n  overflow-x: hidden;\n  -ms-flex-positive: 1;\n      flex-grow: 1;\n  -webkit-overflow-scrolling: touch;\n  scrollbar-color: #827f9b transparent;\n  scrollbar-width: thin;\n}\n.collaboration-tools-comments__scroll::-webkit-scrollbar {\n  width: 4px;\n  height: 4px;\n}\n.collaboration-tools-comments__scroll::-webkit-scrollbar-thumb {\n  background-color: #827f9b;\n  border: 0 solid transparent;\n  border-radius: 2px;\n}\n.collaboration-tools-comments__scroll::-webkit-scrollbar-track {\n  background-color: initial;\n}\n.collaboration-tools-comments--mentions .collaboration-tools-comments__group {\n  background-color: inherit !important;\n}\n.collaboration-tools-comments--mentions .collaboration-tools-comments__group-more {\n  display: none;\n}\n.collaboration-tools-comments--mentions__message:hover {\n  background-color: rgba(0, 0, 0, 0.04);\n}\n.collaboration-tools-comments__group-unread,\n.collaboration-tools-comments__message-unread {\n  width: 4px;\n  height: 4px;\n  border-radius: 50%;\n  background-color: #4262ff;\n  position: absolute;\n  left: 10px;\n}\n.collaboration-tools-comments__group {\n  position: relative;\n}\n.collaboration-tools-comments__group + .collaboration-tools-comments__group--empty {\n  display: none;\n}\n.collaboration-tools-comments__group--empty {\n  font-size: 12px;\n  padding: 46px 50px 55px;\n  text-align: center;\n}\n.collaboration-tools-comments__group--empty:hover {\n  background-color: inherit !important;\n}\n.collaboration-tools-comments__group-more {\n  opacity: 0.4;\n  cursor: pointer;\n  float: left;\n}\n.collaboration-tools-comments__group-more--unread {\n  color: #4262ff;\n  opacity: 1;\n}\n.collaboration-tools-comments__group-more--unread:hover {\n  opacity: 1;\n  color: #3d51d4;\n}\n.collaboration-tools-comments__group-more:hover {\n  opacity: 1;\n}\n.collaboration-tools-comments__group-unread {\n  bottom: 7px;\n}\n.collaboration-tools-comments__group-inf {\n  height: 20px;\n  margin: 16px 0;\n}\n.collaboration-tools-comments__message {\n  font-size: 14px;\n  position: relative;\n  box-sizing: border-box;\n  padding: 0 24px;\n  margin: 16px 0;\n}\n.collaboration-tools-comments__message-name,\n.collaboration-tools-comments__message-time {\n  display: inline-block;\n}\n.collaboration-tools-comments__message-name {\n  float: left;\n  max-width: 200px;\n  font-weight: bold;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  margin-right: 10px;\n  color: #050038;\n}\n.collaboration-tools-comments__message-name img {\n  display: none;\n}\n.collaboration-tools-comments__message-time {\n  color: #827f9b;\n  float: right;\n  font-size: 12px;\n  margin-top: 2px;\n}\n.collaboration-tools-comments__message-text {\n  margin-top: 3px;\n  box-sizing: border-box;\n  word-break: break-word;\n  white-space: pre-wrap;\n}\n.collaboration-tools-comments__message-unread {\n  top: 7px;\n}\n.collaboration-tools-comments__message-resolved {\n  color: #4262ff;\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  left: 4px;\n  top: 0;\n  z-index: 1;\n}\n.collaboration-tools-comments__message:hover {\n  cursor: pointer;\n}\n.collaboration-tools-comments__message .ui-textarea__view,\n.collaboration-tools-comments__message .ui-textarea__edit {\n  padding: 0 3px;\n  margin: 4px 0 8px -3px;\n  background: transparent;\n  cursor: pointer;\n}\n.collaboration-tools-comments__message-emojis {\n  margin-bottom: 5px;\n}\n.collaboration-tools-comments__last-message-time {\n  color: #827f9b;\n  float: right;\n  font-size: 12px;\n  margin-top: 2px;\n}\n.collaboration-tools-comments__tooltip {\n  position: absolute;\n  top: 50px;\n  right: 15px;\n  width: 340px;\n  background: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  font-size: 13px;\n  line-height: 18px;\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\n  padding: 20px;\n  text-align: center;\n  border-radius: 2px;\n  z-index: 1;\n  pointer-events: none;\n  box-sizing: border-box;\n  opacity: 0;\n  transition: opacity ease 200ms;\n}\n.collaboration-tools-comments__tooltip--active {\n  opacity: 1;\n}\n.collaboration-tools-comments__tooltip:before {\n  content: ' ';\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 0 10px 10px 10px;\n  border-color: transparent transparent rgba(0, 0, 0, 0.8) transparent;\n  position: absolute;\n  top: -10px;\n  right: 12px;\n}\n.collaboration-tools-comments__top {\n  height: 64px;\n  min-height: 64px;\n  background-color: rgba(255, 255, 255, 0.96);\n  display: -ms-flexbox;\n  display: flex;\n  z-index: 1;\n}\n.collaboration-tools-comments__top .splitter {\n  margin-top: 20px;\n  margin-left: 13px;\n  margin-right: 10px;\n  width: 1px;\n  height: 24px;\n  opacity: 0.16;\n  background-color: #000;\n}\n.collaboration-tools-comments__top .svg-button {\n  width: 36px;\n  margin-top: 9px;\n}\n.collaboration-tools-comments__bottom {\n  padding-top: 7px;\n}\n.collaboration-tools-comments__bottom .svg-button {\n  margin-left: 10px;\n  width: 40px;\n}\n.collaboration-tools-comments__bottom .bottom-btn {\n  float: right;\n  font-size: 14px;\n  cursor: pointer;\n  color: #050038;\n  line-height: 40px;\n  margin-right: 20px;\n  margin-top: 4px;\n}\n.collaboration-tools-comments__bottom .bottom-btn:hover {\n  color: #4262ff;\n}\n.collaboration-tools-comments__bottom .bottom-btn--disabled {\n  pointer-events: none;\n  color: #cdccd7;\n}\n.collaboration-tools-comments__border {\n  border-bottom: 1px solid #050038;\n  margin: 16px auto;\n  opacity: 0.16;\n  width: 292px;\n}\n",""])},5514:function(t,n,e){t.exports='<div class="collaboration-tools-comments collaboration-tools-comments--{{ctrl.filter}}"\n     ng-class="{\'collaboration-tools-comments--viewer\': viewer}"\n     hm-tap="ctrl.hideTooltip()">\n    <div class="collaboration-tools-comments__top">\n        <div class="sidebar-caption">Comments</div>\n        <div class="splitter"></div>\n        <div class="svg-button"\n             ng-class="{\'svg-button--active\': ctrl.filter === \'all\'}"\n             hm-tap="ctrl.toggleFilter(\'all\')"\n             tooltip="comments"\n             tooltip-placement="bottom">\n            <badge>\n                <div class="svg-button__big-notification badge" ng-show="ctrl.withUnread && ctrl.filter != \'all\'">{{ ctrl.withUnread }}</div>\n                <svg   ><use xlink:href="'+e(5515)+'"></use></svg>\n            </badge>\n        </div>\n        <div class="svg-button"\n             ng-class="{\'svg-button--active\': ctrl.filter === \'mentions\'}"\n             hm-tap="ctrl.toggleFilter(\'mentions\')"\n             tooltip="mentions"\n             tooltip-placement="bottom">\n            <badge>\n                <div class="svg-button__big-notification badge" ng-show="ctrl.withMentions && ctrl.filter != \'mentions\'">{{ ctrl.withMentions }}</div>\n                <svg   ><use xlink:href="'+e(2346)+'"></use></svg>\n            </badge>\n        </div>\n    </div>\n\n    <div ng-if="ctrl.tabsVisible">\n        <tabs tabs="model.tabs" on-tab-click="model.onTabClick($event, tab)"></tabs>\n    </div>\n\n    <div class="collaboration-tools-comments__scroll" ng-scroll="ctrl.hideMenu()" no-prevent-default="true" ng-switch="ctrl.filter">\n        <div ng-switch-when="mentions">\n            <div class="collaboration-tools-comments__group" ng-if="ctrl.mentions.length">\n                <collaboration-tools-comments-message ng-repeat="mention in ctrl.mentions track by mention.id" message="mention"\n                                                      hm-tap="ctrl.openMessage($event, mention.comment, mention.commentId, mention.id)"\n                                                      fake-time="comment.messages[comment.messages.length - 1].timestamp">\n                    <div class="collaboration-tools-comments__border"></div>\n                </collaboration-tools-comments-message>\n            </div>\n            <div class="collaboration-tools-comments__group collaboration-tools-comments__group--empty">\n                <span>Looks like you don\'t have any mentions<br> on this board yet.</span>\n            </div>\n        </div>\n        <div ng-switch-default="">\n\n            <div class="collaboration-tools-comments__group"\n                 ng-repeat="comment in ctrl.comments track by comment.id">\n\n                <collaboration-tools-comments-message message="comment.messages[0]"\n                                                      hm-tap="ctrl.openMessage($event, comment.comment, comment.id)">\n\n                    <div ng-if="comment.messages.length > 1" class="collaboration-tools-comments__group-inf" hm-tap="ctrl.toggleComment(comment, $event)">\n                        <div class="collaboration-tools-comments__group-more"\n                             ng-if="ctrl.isCommentOpened(comment) && comment.messages.length > 1">\n                            Hide {{comment.messages.length > 2 ? \'comments\' : \'comment\'}}\n                        </div>\n\n                        <div class="collaboration-tools-comments__group-more {{comment.withUnread ? \'collaboration-tools-comments__group-more--unread\' : \'\'}}"\n                             ng-if="!ctrl.isCommentOpened(comment) && comment.messages.length > 1"\n                             hm-tap="ctrl.toggleComment(comment, $event)">\n                            Show {{ctrl.getMessagesCount(comment)}} {{comment.withUnread ? \'new\' : \'more\'}} {{ctrl.getMessagesCount(comment) > 1 ? \'comments\' : \'comment\'}}\n                        </div>\n\n                        <relativedate class="collaboration-tools-comments__last-message-time"\n                                      ng-if="ctrl.getMessagesCount(comment) > 0 && !ctrl.isCommentOpened(comment)"\n                                      value="comment.messages[comment.messages.length - 1].timestamp"\n                                      absolute-format="\'DD MMM, HH:mm\'"\n                                      relative-format="\', HH:mm\'">\n                        </relativedate>\n\n                        <div class="collaboration-tools-comments__group-unread"\n                             ng-show="comment.messages.length > 1 && !ctrl.isCommentOpened(comment) && comment.withUnread"></div>\n                    </div>\n                </collaboration-tools-comments-message>\n\n                <collaboration-tools-comments-message ng-show="ctrl.isCommentOpened(comment) || ctrl.isMessageOpened(message)" ng-repeat="message in comment.messages track by message.id" message="message"\n                                                      hm-tap="ctrl.openMessage($event, comment.comment, comment.id, message.id)"\n                                                      ng-if="$index >= 1">\n                </collaboration-tools-comments-message>\n\n                <div class="collaboration-tools-comments__border"></div>\n            </div>\n\n            <div class="collaboration-tools-comments__group collaboration-tools-comments__group--empty">\n                <span>Looks like you don\'t have any comments<br> on this board yet.</span>\n            </div>\n        </div>\n    </div>\n\n    <div class="collaboration-tools-comments__tooltip" ng-class="{\'collaboration-tools-comments__tooltip--active\': ctrl.showTooltip}">\n        Resolved comments are hidden by default.<br/>\n        You can toggle to show resolved comments<br/>\n        in this menu.\n    </div>\n\n    <div class="collaboration-tools-comments__bottom">\n        <div class="bottom-btn bottom-btn--read-all"\n             ng-class="{\'bottom-btn--disabled\': !ctrl.isReadAllAvailable()}"\n             hm-tap="ctrl.markAllAsRead()">\n            Read all\n        </div>\n        <div class="bottom-btn bottom-btn--resolved"\n             hm-tap="ctrl.toggleResolved()">\n            <span ng-show="ctrl.isResolvedCommentsVisible()">Hide resolved</span>\n            <span ng-show="!ctrl.isResolvedCommentsVisible()">Show resolved</span>\n        </div>\n        <div class="svg-button"\n             hm-tap="ctrl.toggleCommentsVisible()"\n             ui-tip="HIDE_COMMENTS"\n             tooltip="{{ ctrl.isCommentsVisible() ? \'hide comments\' : \'show comments\' }}"\n             tooltip-placement="right">\n            <svg  ng-show="ctrl.isCommentsVisible()"  ><use xlink:href="'+e(5516)+'"></use></svg>\n            <svg  ng-show="!ctrl.isCommentsVisible()"  ><use xlink:href="'+e(5517)+'"></use></svg>\n        </div>\n    </div>\n</div>'},5515:function(t,n){t.exports="#img__comment-24"},5516:function(t,n){t.exports="#img__comments-visible"},5517:function(t,n){t.exports="#img__comments-hidden"},5518:function(t,n,e){var i=e(5519);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5519:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".ratings {\n  position: absolute;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  opacity: 1;\n  z-index: 3011;\n}\n.ratings.ng-hide {\n  opacity: 0;\n}\n.ratings.ng-hide-add {\n  transition: opacity linear 0.5s;\n}\n.ratings > .rate-wrapper + .rate-wrapper {\n  margin-top: 10px;\n}\n",""])},5520:function(t,n){t.exports='<div class="board-panel--hidden-bottom ratings use-ng-animate" bottom-panel-positioner>\n    <div class="rate-wrapper" ng-repeat="rateWrapper in ctrl.ratesWrappers track by rateWrapper.id">\n        <rating class="rate-float" header="{{rateWrapper.rate.getCaption()}}"\n              rate="rateWrapper.rate"\n              options="ctrl.options"\n              submitted="ctrl.rateSubmit(rateWrapper)"\n              closed="ctrl.rateClosed(rateWrapper)"\n              show-gratitude="rateWrapper.showGratitude">\n        </rating>\n    </div>\n</div>'},5521:function(t,n,e){t.exports='<div class="tips_box">\n    <div class="tips_content use-ng-animate"\n         ng-if="ctrl.visible"\n         ng-style="{height: ctrl.config.height, width: ctrl.config.width}"\n         ng-class="ctrl.config.customClass">\n        <div class="tip_close" hm-tap="ctrl.onCloseTap()"><svg    width="24" height="24"><use xlink:href="'+e(118)+'"></use></svg></div>\n        <div class="tips_icon" ng-show="ctrl.config.iconURL" hm-tap="ctrl.onIconTap()">\n            <img ng-style="{margin: ctrl.config.iconMargin}" ng-src="{{ctrl.config.iconURL}}">\n        </div>\n        <div class="tips_text">\n            <div clickable-text="ctrl.onClick($clickedElementName,$clickedElementInnerHTML)" ng-bind-html="ctrl.trustedText"></div>\n        </div>\n    </div>\n</div>'},5522:function(t,n,e){var i=e(5523);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5523:function(t,n,e){var i=e(82);(t.exports=e(23)(!1)).push([t.i,".tips_box {\n  position: absolute;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  z-index: 900;\n  width: 100%;\n  pointer-events: none;\n  bottom: 8px;\n}\n.tips_box .tips_content {\n  box-sizing: border-box;\n  width: 350px;\n  line-height: 1.43;\n  background-color: #fff;\n  opacity: 1;\n  pointer-events: auto;\n  border-radius: 4px;\n  font-size: 14px;\n  transition-property: transform, opacity;\n  transition-duration: 0.2s;\n  transition-timing-function: ease-out;\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n}\n.tips_box .tips_content.ng-enter,\n.tips_box .tips_content.ng-leave.ng-leave-active {\n  opacity: 0;\n  transform: translateY(60px);\n}\n.tips_box .tips_content.ng-leave,\n.tips_box .tips_content.ng-enter.ng-enter-active {\n  opacity: 1;\n  transform: none;\n}\n.tips_box .tips_content .btn {\n  color: #4262ff;\n}\n.tips_box .tips_content .rtb-btn:not(.ng-hide) + .rtb-btn--small:not(.rtb-btn--pull-right) {\n  margin-left: 24px;\n}\n.tips_box .tips_icon {\n  float: left;\n}\n.tips_box .tips_text {\n  display: -ms-flexbox;\n  display: flex;\n  height: 100%;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.tips_box .tips_text .svg-i-box {\n  margin-bottom: 6px;\n}\n.tips_box .tip_close {\n  float: right;\n  position: relative;\n  padding: 8px 8px 10px 10px;\n  font-size: 18px;\n  color: #d9d9d9;\n  cursor: pointer;\n}\n.tips_box .tip_close:hover {\n  color: #000;\n}\n.tips_box .tips_content.tips_content--intense {\n  position: relative;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  padding: 24px;\n  border-radius: 4px;\n  box-shadow: 0 16px 32px 0 rgba(0, 0, 0, 0.08);\n  color: #000;\n}\n.tips_box .tips_content.tips_content--intense .tip_close {\n  position: absolute;\n  top: 14px;\n  right: 9px;\n  font-size: 36px;\n  font-weight: 300;\n  line-height: 20px;\n  color: #050038;\n}\n.tips_box .tips_content.tips_content--intense .tip_close:hover {\n  color: #4262ff;\n}\n.tips_box .tips_content--without-icon .tips_text {\n  margin-left: 24px;\n}\n.tips_box .tips_content.tips_content--video {\n  width: 540px;\n  height: 128px;\n  box-sizing: border-box;\n  font-size: 14px;\n}\n.tips_box .tips_content.tips_content--video .tips_icon img {\n  display: block;\n  width: 142px;\n  height: 80px;\n}\n.tips_box .tips_content.tips_content--video .tips_icon:after {\n  position: absolute;\n  top: 44px;\n  left: 75px;\n  content: url("+i(e(5524))+");\n  opacity: 0.8;\n  transition: opacity 0.15s;\n}\n.tips_box .tips_content.tips_content--video .tips_icon:hover:after {\n  opacity: 1;\n}\n.tips_box .tips_content.tips_content--video .tips_text {\n  margin-left: 24px;\n}\n.tips_box .tips_content.tips_content--video .tips_icon,\n.tips_box .tips_content.tips_content--video .tips_text {\n  cursor: pointer;\n}\n.tips_box .tips_content--jira-import {\n  box-sizing: border-box;\n  font-size: 16px;\n  position: relative;\n}\n.tips_box .tips_content--jira-import .tips_icon {\n  padding: 27px 24px 21px 20px;\n}\n.tips_box .tips_content--jira-import .tips_icon img {\n  width: 142px;\n}\n.tips_box .tips_content--jira-import .tip_close {\n  position: absolute;\n  top: 6px;\n  right: 0;\n  font-size: 36px;\n  font-weight: 300;\n  line-height: 20px;\n  color: #050038;\n}\n.tips_box .tips_content--jira-import .tip_close:hover {\n  color: #4262ff;\n}\n.tips_box .tips_content--big-screen,\n.tips_box .tips_content--big-screen-only {\n  width: 600px;\n  position: relative;\n  height: 128px;\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, 0.6);\n  transition-duration: 0s;\n}\n.tips_box .tips_content--big-screen .tips_text,\n.tips_box .tips_content--big-screen-only .tips_text {\n  -ms-flex-align: start;\n      align-items: flex-start;\n}\n.tips_box .tips_content--big-screen .tip_close,\n.tips_box .tips_content--big-screen-only .tip_close {\n  height: 20px;\n  width: 20px;\n  right: 8px;\n  top: 8px;\n  position: absolute;\n  text-align: center;\n  padding: 0;\n  line-height: 20px;\n  transition: opacity 0.2s;\n  color: #fff;\n  cursor: pointer;\n}\n.tips_box .tips_content--big-screen .tip_close:hover,\n.tips_box .tips_content--big-screen-only .tip_close:hover {\n  opacity: 0.9;\n}\n.tips_box .tips_content--big-screen .big-screen-tip__open-navigation-mode,\n.tips_box .tips_content--big-screen-only .big-screen-tip__open-navigation-mode {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  opacity: 0.4;\n  box-sizing: border-box;\n  border: 1px solid #fff;\n  line-height: 18px;\n  text-align: center;\n  color: #fff;\n  position: absolute;\n  right: 8px;\n  bottom: 8px;\n  display: block;\n  transition: opacity 0.2s;\n  cursor: pointer;\n}\n.tips_box .tips_content--big-screen .big-screen-tip__open-navigation-mode:hover,\n.tips_box .tips_content--big-screen-only .big-screen-tip__open-navigation-mode:hover {\n  opacity: 0.9;\n}\n.tips_box .tips_content--big-screen .big-screen-tip,\n.tips_box .tips_content--big-screen-only .big-screen-tip {\n  width: 100%;\n  padding: 21px 24px 0 16px;\n  box-sizing: border-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: start;\n      align-items: flex-start;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n}\n.tips_box .tips_content--big-screen .big-screen-tip__gesture,\n.tips_box .tips_content--big-screen-only .big-screen-tip__gesture {\n  width: 92px;\n  text-align: center;\n}\n.tips_box .tips_content--big-screen .big-screen-tip__gesture .big-screen-tip__gesture-icon,\n.tips_box .tips_content--big-screen-only .big-screen-tip__gesture .big-screen-tip__gesture-icon {\n  width: 100%;\n  height: 100%;\n  min-width: 48px;\n  min-height: 52px;\n  margin-bottom: 2px;\n  box-sizing: border-box;\n}\n.tips_box .tips_content--big-screen .big-screen-tip__gesture .big-screen-tip__gesture-caption,\n.tips_box .tips_content--big-screen-only .big-screen-tip__gesture .big-screen-tip__gesture-caption,\n.tips_box .tips_content--big-screen .big-screen-tip__gesture .big-screen-tip__gesture-description,\n.tips_box .tips_content--big-screen-only .big-screen-tip__gesture .big-screen-tip__gesture-description {\n  color: #fff;\n  font-size: 12px;\n  line-height: 17px;\n}\n.tips_box .tips_content--big-screen .big-screen-tip__gesture .big-screen-tip__gesture-description,\n.tips_box .tips_content--big-screen-only .big-screen-tip__gesture .big-screen-tip__gesture-description {\n  opacity: 0.4;\n}\n.tips_box .tips_content--big-screen .big-screen-tip__gesture-padding,\n.tips_box .tips_content--big-screen-only .big-screen-tip__gesture-padding {\n  padding: 0 8px;\n}\n.tips_box .tips_content--big-screen-only .big-screen-tip__open-navigation-mode {\n  display: none;\n}\n.all-widgets-loaded .tips_content--big-screen,\n.all-widgets-loaded .tips_content--big-screen-only {\n  transition-property: all;\n  transition-duration: 0.2s;\n  transition-timing-function: ease-out;\n}\n.all-widgets-loaded .tips_content--big-screen.ng-enter,\n.all-widgets-loaded .tips_content--big-screen-only.ng-enter,\n.all-widgets-loaded .tips_content--big-screen.ng-leave.ng-leave-active,\n.all-widgets-loaded .tips_content--big-screen-only.ng-leave.ng-leave-active {\n  opacity: 0;\n  transform: translate(150%, 10px) scale(0.4);\n  transform-origin: right bottom;\n}\n.all-widgets-loaded .tips_content--big-screen.ng-leave,\n.all-widgets-loaded .tips_content--big-screen-only.ng-leave,\n.all-widgets-loaded .tips_content--big-screen.ng-enter.ng-enter-active,\n.all-widgets-loaded .tips_content--big-screen-only.ng-enter.ng-enter-active {\n  opacity: 1;\n  transform: none;\n}\n",""])},5524:function(t,n,e){t.exports=e.p+"1fb1221c23a3649d9d6ba5bcc097af30.svg"},5525:function(t,n,e){var i=e(5526);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5526:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".task {\n  position: relative;\n  width: 292px;\n}\n.task--editable .task__expand {\n  opacity: 0.4;\n}\n.task--editable .task__expand:hover {\n  opacity: 1;\n}\n.task__content {\n  padding: 20px;\n  border-radius: 4px;\n  border: 1px solid #c3c2cf;\n  margin-bottom: 8px;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.task__content--colored {\n  border-left-width: 6px;\n}\n.task__content p {\n  line-height: 20px;\n  margin: 0;\n  word-break: break-word;\n}\n.task__properties {\n  margin-top: 8px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.task__property {\n  padding: 0 6px;\n  font-size: 12px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  line-height: 24px;\n  height: 24px;\n  margin-right: 8px;\n  margin-top: 8px;\n  white-space: nowrap;\n  max-width: 242px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.task__property--bordered {\n  border: 1px solid #c3c2cf;\n}\n.task__property--tag {\n  color: #fff;\n}\n.task__avatar {\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  vertical-align: sub;\n}\n.task__dueDate {\n  width: 16px;\n  height: 16px;\n  vertical-align: sub;\n}\n.task__unread {\n  width: 4px;\n  height: 4px;\n  border-radius: 50%;\n  background-color: #4262ff;\n  position: absolute;\n  left: -12px;\n  top: 12px;\n}\n.task__expand {\n  position: absolute;\n  right: 4px;\n  top: 4px;\n  opacity: 0;\n  width: 24px;\n  height: 24px;\n  background-color: #000;\n  border-radius: 2px;\n}\n.task__expand .task__icon {\n  width: 16px;\n  height: 16px;\n  margin: 4px;\n}\n.task__title--placeholder {\n  color: #827f9b;\n}\n",""])},5527:function(t,n,e){t.exports='<div class="task">\n    <div class="task__unread" ng-show="ctrl.task.unread"></div>\n    <div class="task__expand btn" hm-tap="ctrl.expand($event)">\n        <svg  class="task__icon"  ><use xlink:href="'+e(1549)+'"></use></svg>\n    </div>\n\n    <div class="task__content" ng-class="{\'task__content--colored\': ctrl.task.color !== undefined}"\n         ng-style="ctrl.task.color && {\'border-color\': ctrl.task.color}">\n\n        <div class="task__title"\n             ng-class="{\'task__title--placeholder\': ctrl.task.isTitleEmpty }"\n             ng-bind-html="ctrl.task.title"></div>\n\n        <div class="task__properties" ng-show="ctrl.task.hasProperties">\n            <div class="task__property task__property--tag"\n                 ng-repeat="tag in ctrl.task.tags"\n                 ng-style="{\'background-color\': tag.color}">{{tag.text}}</div>\n            <div class="task__property task__property--bordered" ng-show="ctrl.task.assignee !== undefined">\n                <img class="task__avatar" src="{{ctrl.task.assignee.picture.medium}}" />\n                {{ctrl.task.assignee.name}}\n            </div>\n            <div class="task__property task__property--bordered" ng-show="ctrl.task.dueDate !== undefined">\n                <svg  class="task__dueDate"   ><use xlink:href="'+e(714)+'"></use></svg>\n                {{ctrl.task.dueDate}}\n            </div>\n        </div>\n    </div>\n</div>'},5528:function(t,n,e){var i=e(5529);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5529:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".tasks {\n  width: 340px;\n}\n.tasks .tasks__header {\n  height: 64px;\n  background-color: rgba(255, 255, 255, 0.96);\n  display: -ms-flexbox;\n  display: flex;\n  position: absolute;\n  z-index: 1;\n}\n.tasks .tasks__splitter {\n  margin-top: 20px;\n  margin-left: 13px;\n  margin-right: 10px;\n  width: 1px;\n  height: 24px;\n  opacity: 0.16;\n  background-color: #000;\n}\n.tasks .tasks__tab {\n  width: 36px;\n  margin-top: 9px;\n}\n.tasks .tasks__all,\n.tasks .tasks__my {\n  overflow-y: auto;\n  overflow-x: hidden;\n  min-height: 70px;\n  margin-top: 64px;\n  padding-left: 24px;\n  height: calc(100% - 128px);\n  max-height: calc(100% - 128px);\n  -webkit-overflow-scrolling: touch;\n  scrollbar-color: #827f9b transparent;\n  scrollbar-width: thin;\n}\n.tasks .tasks__all::-webkit-scrollbar,\n.tasks .tasks__my::-webkit-scrollbar {\n  width: 4px;\n  height: 4px;\n}\n.tasks .tasks__all::-webkit-scrollbar-thumb,\n.tasks .tasks__my::-webkit-scrollbar-thumb {\n  background-color: #827f9b;\n  border: 0 solid transparent;\n  border-radius: 2px;\n}\n.tasks .tasks__all::-webkit-scrollbar-track,\n.tasks .tasks__my::-webkit-scrollbar-track {\n  background-color: initial;\n}\n.tasks .tasks__empty {\n  font-size: 12px;\n  padding: 46px 50px 55px;\n  text-align: center;\n}\n.tasks .tasks__read-all {\n  float: right;\n  margin-right: 24px;\n  margin-top: 24px;\n}\n.tasks .tasks__read-all--disabled {\n  color: #c3c2cf;\n}\n",""])},5530:function(t,n,e){t.exports='<div class="tasks">\n    <div class="tasks__header">\n        <div class="sidebar-caption">Cards</div>\n        <div class="tasks__splitter"></div>\n        <div class="tasks__tab svg-button"\n             ng-class="{\'svg-button--active\': ctrl.filter === Filter.ALL}"\n             hm-tap="ctrl.toggleFilter(Filter.ALL)"\n             tooltip="all cards"\n             tooltip-placement="bottom">\n            <badge>\n                <svg   ><use xlink:href="'+e(617)+'"></use></svg>\n            </badge>\n        </div>\n        <div class="tasks__tab svg-button"\n             ng-class="{\'svg-button--active\': ctrl.filter === Filter.MY}"\n             hm-tap="ctrl.toggleFilter(Filter.MY)"\n             tooltip="my&nbsp;cards"\n             tooltip-placement="bottom">\n            <badge>\n                <div class="svg-button__big-notification badge" ng-show="ctrl.unreadTasks.length > 0">{{ ctrl.unreadTasks.length }}</div>\n                <svg   ><use xlink:href="'+e(2346)+'"></use></svg>\n            </badge>\n        </div>\n    </div>\n\n    <div class="tasks__all" no-prevent-default="true" ng-show="ctrl.filter === Filter.ALL">\n        <task hm-tap="ctrl.openTask(task)"\n              ng-repeat="task in ctrl.allTasks track by getTrackedId(task)"\n              task="task"></task>\n        <div class="tasks__empty" ng-show="ctrl.allTasks.length === 0">\n            Looks like the board doesn\'t have any cards yet.\n        </div>\n    </div>\n\n    <div class="tasks__my" no-prevent-default="true" ng-show="ctrl.filter === Filter.MY">\n        <task hm-tap="ctrl.openTask(task)"\n              ng-repeat="task in ctrl.myTasks"\n              task="task"></task>\n        <div class="tasks__empty" ng-show="ctrl.myTasks.length === 0">\n            Looks like you don\'t have any cards yet.\n        </div>\n    </div>\n\n    <div class="tasks__read-all btn"\n         ng-class="{\'tasks__read-all--disabled\':ctrl.unreadTasks.length === 0}"\n         hm-tap="ctrl.readAll()">Read all</div>\n</div>\n'},5531:function(t,n,e){t.exports='<div>\n    <div class="tip-framework__container-links">\n        <div ng-click="usm.showTemplate()" class="tip-framework__container-cta">\n            <svg  class="tip-framework__container-cta-icon"  ><use xlink:href="'+e(737)+'"></use></svg>\n            <div>Show User Story Map example</div>\n        </div>\n\n        <div ng-click="usm.showTutorial()" class="tip-framework__container-cta">\n            <svg  class="tip-framework__container-cta-icon"  ><use xlink:href="'+e(955)+'"></use></svg>\n            <div>View Tutorial</div>\n        </div>\n    </div>\n\n\n    <div class="tip-framework__container-action">\n        <div class="tip-framework__container-action-block">\n            <div class="tip-framework__container-action-block-text">Return \u21b5</div>\n        </div>\n        <div>\n            1. Edit card when selected<br>2. Create child card in editing mode\n        </div>\n    </div>\n\n    <div class="tip-framework__container-action">\n        <div class="tip-framework__container-action-block">\n            <div class="tip-framework__container-action-block-text">Tab \u21e5</div>\n        </div>\n        <div>\n            Create new activity or task\n        </div>\n    </div>\n\n    <div class="tip-framework__container-action">\n        <div class="tip-framework__container-action-block">\n            <div class="tip-framework__container-action-block-text">Arrows \u2190 \u2191 \u2192 \u2193</div>\n        </div>\n        <div>\n            Select card\n        </div>\n    </div>\n\n    <div class="tip-framework__container-action">\n        <div class="tip-framework__container-action-block">\n            <div class="tip-framework__container-action-block-text">Cmd/Ctrl + \u2190 \u2191 \u2192 \u2193</div>\n        </div>\n        <div>\n            Add a card\n        </div>\n    </div>\n\n    <div class="tip-framework__container-action">\n        <div class="tip-framework__container-action-block">\n            <div class="tip-framework__container-action-block-text">Esc</div>\n        </div>\n        <div>\n            Exit editing mode\n        </div>\n    </div>\n</div>\n'},5532:function(t,n){t.exports='<div>\n    <div class="tip-framework__container-action">\n        <div class="tip-framework__container-action-block">\n            <div class="tip-framework__container-action-block-text">Return \u21b5</div>\n        </div>\n        <div class="tip-framework__container-action-description">\n            1. Edit node when selected<br>2. Create sibling node in editing mode\n        </div>\n    </div>\n\n    <div class="tip-framework__container-action">\n        <div class="tip-framework__container-action-block">\n            <div class="tip-framework__container-action-block-text">Tab \u21e5</div>\n        </div>\n        <div class="tip-framework__container-action-description">\n            Create new child\n        </div>\n    </div>\n\n    <div class="tip-framework__container-action">\n        <div class="tip-framework__container-action-block">\n            <div class="tip-framework__container-action-block-text">{{rearrangekey}}</div>\n            <div>&nbsp+ Drag</div>\n        </div>\n        <div class="tip-framework__container-action-description">\n            Reassign parent node\n        </div>\n    </div>\n\n    <div class="tip-framework__container-action">\n        <div class="tip-framework__container-action-block">\n            <div class="tip-framework__container-action-block-text">Arrows \u2190 \u2191 \u2192 \u2193</div>\n        </div>\n        <div class="tip-framework__container-action-description">\n            Select node\n        </div>\n    </div>\n\n    <div class="tip-framework__container-action">\n        <div class="tip-framework__container-action-block">\n            <div class="tip-framework__container-action-block-text">Esc</div>\n        </div>\n        <div class="tip-framework__container-action-description">\n            Exit editing mode\n        </div>\n    </div>\n</div>'},5533:function(t,n,e){t.exports='<div>\n    <div class="tip-framework__container-links">\n        <div ng-click="kanban.showTemplate()" class="tip-framework__container-cta">\n            <svg  class="tip-framework__container-cta-icon"  ><use xlink:href="'+e(900)+'"></use></svg>\n                <div>Show Kanban example</div>\n        </div>\n\n        <div ng-click="kanban.showTutorial()" class="tip-framework__container-cta">\n            <svg  class="tip-framework__container-cta-icon"  ><use xlink:href="'+e(955)+'"></use></svg>\n            <div>View Tutorial</div>\n        </div>\n    </div>\n\n\n    <div class="tip-framework__container-action">\n        <div class="tip-framework__container-action-block">\n            <div class="tip-framework__container-action-block-text">Return \u21b5</div>\n        </div>\n        <div>\n            Create new card in editing mode\n        </div>\n    </div>\n\n    <div class="tip-framework__container-action">\n        <div class="tip-framework__container-action-block">\n            <div class="tip-framework__container-action-block-text">Tab \u21e5 / Shift + Tab \u21e5 </div>\n        </div>\n        <div>\n            Switch to the next / previous card in the column\n        </div>\n    </div>\n\n    <div class="tip-framework__container-action">\n        <div class="tip-framework__container-action-block">\n            <div class="tip-framework__container-action-block-text">Arrows \u2190 \u2191 \u2192 \u2193</div>\n        </div>\n        <div>\n            Select card\n        </div>\n    </div>\n\n    <div class="tip-framework__container-action">\n        <div class="tip-framework__container-action-block">\n            <div class="tip-framework__container-action-block-text"><span>Cmd/Ctrl</span><span> + </span>\u2191 \u2193\n            </div>\n        </div>\n        <div>\n            Add new card above or below your current card\n        </div>\n    </div>\n\n    <div class="tip-framework__container-action">\n        <div class="tip-framework__container-action-block">\n            <div class="tip-framework__container-action-block-text">Esc</div>\n        </div>\n        <div>\n            Exit editing mode\n        </div>\n    </div>\n</div>\n'},5534:function(t,n,e){var i=e(5535);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5535:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".tip-framework-helper {\n  position: relative;\n  width: 48px;\n  height: 48px;\n  margin-right: 4px;\n  padding: 12px;\n  box-sizing: border-box;\n  opacity: 1;\n  transition: opacity 0s 0.3s;\n}\n.tip-framework-helper .tip-framework-icon {\n  cursor: pointer;\n  position: absolute;\n  width: 24px;\n  height: 24px;\n  color: #050038;\n}\n.tip-framework-helper .tip-framework-icon:hover {\n  color: #4262ff;\n}\n.tip-framework-helper.hidden {\n  opacity: 0;\n}\n.tip-framework-helper.tip-framework-helper--active .tip-framework-icon {\n  color: #fff;\n}\n.tip-framework-helper.tip-framework-helper--active .tip-framework-icon:hover {\n  color: #fff;\n}\n.tip-framework__container {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  width: 320px;\n  background-color: rgba(0, 0, 0, 0.6);\n  font-size: 14px;\n  color: #fff;\n  padding: 32px;\n  box-sizing: border-box;\n  border-radius: 4px;\n}\n.tip-framework__container .tip-framework__container-links {\n  border-bottom: 1px solid rgba(51, 51, 51, 0.4);\n  margin-bottom: 24px;\n}\n.tip-framework__container .tip-framework__container-cta {\n  margin-bottom: 16px;\n  line-height: 24px;\n  text-decoration: underline;\n  cursor: pointer;\n  display: -ms-flexbox;\n  display: flex;\n}\n.tip-framework__container .tip-framework__container-cta .tip-framework__container-cta-icon {\n  width: 24px;\n  height: 24px;\n  color: #fff;\n  margin-right: 9px;\n}\n.tip-framework__container .tip-framework__container-action {\n  padding-bottom: 23px;\n}\n.tip-framework__container .tip-framework__container-action .tip-framework__container-action-block {\n  display: -ms-flexbox;\n  display: flex;\n  margin-bottom: 6px;\n  font-weight: bold;\n}\n.tip-framework__container .tip-framework__container-action .tip-framework__container-action-block .tip-framework__container-action-block-text {\n  padding: 1px 4px 2px 4px;\n  background-color: #050038;\n  border-radius: 2px;\n}\n.tip-framework__container .tip-framework__container-action .tip-framework__container-action-block .tip-framework__container-action-block-text span {\n  vertical-align: middle;\n}\n.tip-framework__container .tip-framework__container-action:last-of-type {\n  padding-bottom: 8px;\n}\n",""])},5536:function(t,n,e){t.exports='<div class="tip-framework-helper use-ng-animate" ng-class="{\'hidden\': !ctrl.tipVisible || ctrl.isTutorialVisible, \'tip-framework-helper--active\': ctrl.tipOpened}">\n    <div class="tip-framework__container" ng-show="ctrl.tipOpened">\n        <usm-widget-tip ng-show="ctrl.isUsm"></usm-widget-tip>\n        <mindmap-widget-tip ng-show="ctrl.isMindMap"></mindmap-widget-tip>\n        <kanban-widget-tip ng-show="ctrl.isKanban"></kanban-widget-tip>\n    </div>\n    <svg  class="tip-framework-icon"   hm-tap="ctrl.toggleTip()"><use xlink:href="'+e(5537)+'"></use></svg>\n</div>'},5537:function(t,n){t.exports="#img__widget-tip"},5538:function(t,n,e){var i=e(5539);"string"===typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(24)(i,o);i.locals&&(t.exports=i.locals)},5539:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".bottom-panel {\n  display: -ms-flexbox;\n  display: flex;\n  position: absolute;\n  bottom: 8px;\n  overflow: hidden;\n  transition: width 300ms, height 300ms;\n}\n.bottom-panel iframe {\n  border: none;\n  width: 100%;\n  height: 100%;\n}\n",""])},5540:function(t,n){t.exports='<div>\n    <div bottom-panel-positioner\n         class="board-panel--transparent bottom-panel board-panel--hidden-bottom"\n         ng-style="{width: ctrl.plugin.width, height: ctrl.plugin.height}"\n         ng-if="ctrl.plugin">\n        <iframe class="iframe-extension-point"\n                data-container-type="bottom-panel"\n                ng-src="{{ ctrl.plugin.iframeURL }}"\n                scrolling="no"></iframe>\n\n    </div>\n</div>\n'},5541:function(t,n){t.exports='<div class="absolute-fill-container">\n    <div class="absolute-fill-container absolute-fill-container--fixed">\n        <comments></comments>\n    </div>\n\n    <board-loading-bar></board-loading-bar>\n    <board-top ng-show="!(viewMode || presentationMode || navigationOnlyMode)" panels="panels"></board-top>\n    <toolbar ng-if="panels.CANVAS_TOOLS || panels.CANVAS_COMMENTATOR_TOOLS"></toolbar>\n    <erase-changes ng-show="panels.ERASE_CHANGES"></erase-changes>\n    <div class="bottom-right-panel">\n        <interactive-tutorial ng-if="panels.INTERACTIVE_TUTORIAL && boardController.isInteractiveTutorialVisible"></interactive-tutorial>\n        <dashboard-banner current-space="{}" ng-if="isBannerLoaded"></dashboard-banner>\n        <div class="bottom-right-panel__bottom-row">\n            <widget-tip ng-if="panels.WIDGET_TIP"></widget-tip>\n            <big-screen-tips ng-if="panels.BIG_SCREEN_TIP"></big-screen-tips>\n            <mini-map ng-if="panels.ZOOM_BUTTON"></mini-map>\n        </div>\n    </div>\n    <bottom-bar ng-if="panels.BOTTOM_BAR"></bottom-bar>\n    <frames-navigator ng-if="panels.FRAMES_NAVIGATOR"></frames-navigator>\n    <bottom-panel ng-if="panels.BOTTOM_PANEL"></bottom-panel>\n    <screen-video-chat-bottom-panel ng-if="panels.SCREEN_VIDEO_CHAT"></screen-video-chat-bottom-panel>\n    <floating-panels></floating-panels>\n    <countdown ng-if="panels.COUNTDOWN"></countdown>\n    <board-ratings-placeholder ng-if="panels.RATES"></board-ratings-placeholder>\n    <bottom-tips ng-show="panels.BOTTOM_TIPS"></bottom-tips>\n\n    \x3c!-------- Fixed positioned panels --------\x3e\n    <drag-and-drop></drag-and-drop>\n    <div id="boardUIOverlay"></div>\n    <ui-mentions></ui-mentions>\n    <sticker-bulk-create ng-if="panels.STICKER_BULK_CREATE"></sticker-bulk-create>\n    <stickers-recognition-canvas></stickers-recognition-canvas>\n</div>\n'},5556:function(t,n,e){"use strict";e.r(n);var i=e(30),o=e(143),s=e(906),a=e(26),r=o.b(),c=function(){function t(t){this.$scope=t;var n=r();this.$scope.getCurrentFrameIndex=function(){return n.getSelectedFrameIndex()},this.$scope.getFramesCount=function(){return r().getFrames().length},this.$scope.previousFrame=function(){return s.d()},this.$scope.nextFrame=function(){return s.c()},this.$scope.hasFrames=function(){return r().getFrames().length>0},this.$scope.isPresentMode=s.f,this.$scope.enterPresentMode=function(){a.rj(),s.a()},this.$scope.exitPlayMode=function(){return s.b()}}return t.$inject=["$scope"],t}(),l=e(25);function d(){return Object(i.a)({restrict:"E",template:e(5349),controller:c})}var p=e(5351),u=e(5352),g=e(1763);function h(){return s.e(),Object(i.a)({restrict:"E",template:e(5360),controller:p.a,scope:{viewMode:"="}})}var m=e(5365),b=e(5366),v=e(2410),f=e(5367),_=e(5368),x=e(2218),w=e(335),y=e(745);function k(){return Object(i.a)({restrict:"E",template:e(5369),controller:m.a,controllerAs:"ctrl"})}var C=e(5370);function O(){return Object(i.a)({restrict:"E",template:e(5373),controller:C.a})}var T=e(21),j=e(22),S=e(129),E=e(34),A=e(2078),I=e(73),P=e(905),M=e(131),$=e(261),D=e(54),V=e(63),R=e(87),B=".mini-map__buttons",N=function(t){function n(n,e,i,o){var s=t.call(this,n,o)||this;s.$timeout=i,s.collapsed=!0,s.leftSidebar=Object(R.a)().leftSidebar,s.rightSidebar=Object(R.a)().rightSidebar,s.onTouchDown=function(){s.collapsed&&(s.collapsed=!1,s.windowClickController=M.b(s,function(){s.collapsed=!0,s.$scope.safeApply()},".mini-map"),s.$scope.safeApply())},s.onMouseOver=function(){s.collapsed=!1,s.$scope.safeApply(),s.$timeout.cancel(s.collapseTimeout)},s.onMouseOut=function(){s.collapseTimeout=s.$timeout(function(){s.collapsed=!0},500)};var a=Object(E.a)().settings.getMiniMapVisible()&&!Object($.f)()&&!Object(E.a)().isFirstSession();return Object(I.a)().setPanelVisible(S.a.MINI_MAP,a),Object(A.a)().setCanvasElement(document.getElementById("minimap-canvas")),s.buttonsBox=e.find(B),V.a.allowPointers?s.buttonsBox.on("pointerdown",s.onTouchDown):(s.buttonsBox.on("mouseover",s.onMouseOver),s.buttonsBox.on("mouseout",s.onMouseOut),s.buttonsBox.on("touchstart",s.onTouchDown)),s.zoomValueElement=e.find(".mini-map__value")[0],s.updateZoomValue(),s.updateExpandedFlag(),j.canvasController.viewportUpdated.add(s.onViewportUpdated,s),s.attachSidebarsEvents(),n.$on("$destroy",function(){j.canvasController.viewportUpdated.remove(s.onViewportUpdated,s),s.detachSidebarsEvents(),s.prevZoomValue=void 0,s.buttonsBox.off("mouseover",s.onMouseOver),s.buttonsBox.off("mouseout",s.onMouseOut),s.buttonsBox.off("touchstart",s.onTouchDown),s.windowClickController&&s.windowClickController.destroy()}),s}return Object(T.d)(n,t),n.prototype.onTutorialVisibilityChanged=function(){Object(I.a)().setPanelVisible(S.a.MINI_MAP,Object(E.a)().settings.getMiniMapVisible()&&!this.visible&&!Object(E.a)().isFirstSession())},n.prototype.attachSidebarsEvents=function(){this.leftSidebar.activePluginsChanged.add(this.onSidebarsChanged,this),this.leftSidebar.resized.add(this.onSidebarsChanged,this),this.rightSidebar.activePluginsChanged.add(this.onSidebarsChanged,this),this.rightSidebar.resized.add(this.onSidebarsChanged,this)},n.prototype.detachSidebarsEvents=function(){this.leftSidebar.activePluginsChanged.remove(this.onSidebarsChanged,this),this.leftSidebar.resized.remove(this.onSidebarsChanged,this),this.rightSidebar.activePluginsChanged.remove(this.onSidebarsChanged,this),this.rightSidebar.resized.remove(this.onSidebarsChanged,this)},n.prototype.updateExpandedFlag=function(){this.expanded=Object(R.a)().calcWidthBetweenSidebars()>=768},n.prototype.onSidebarsChanged=function(){this.updateExpandedFlag(),this.expanded||Object(I.a)().setPanelVisible(S.a.MINI_MAP,!1)},n.prototype.zoomIn=function(){a.Dk(),j.canvasActions.increaseScale()},n.prototype.zoomOut=function(){a.Ek(),j.canvasActions.decreaseScale()},n.prototype.zoomFit=function(){a.Fc(),j.canvasActions.showAll()},n.prototype.zoom100=function(){a.Ck(),j.canvasActions.setActualScale()},n.prototype.pinClicked=function(){Object(I.a)().togglePanelVisibility(S.a.MINI_MAP);var t=Object(I.a)().getPanelVisible(S.a.MINI_MAP);Object(E.a)().settings.setMiniMapVisible(t)},n.prototype.isFullscreenEnabled=function(){return Object(P.a)().isEnabled()},n.prototype.enterFullscreen=function(){Object(P.a)().request()},n.prototype.exitFullscreen=function(){Object(P.a)().isEnabled()&&Object(P.a)().exit()},n.prototype.isMapPinned=function(){return Object(I.a)().getPanelVisible(S.a.MINI_MAP)},n.prototype.getPinMapTooltip=function(){return this.isMapPinned()?"unpin map":"pin map"},n.prototype.isCollapsed=function(){return this.collapsed&&!this.isMapPinned()},n.prototype.isFullscreen=function(){return Object(P.a)().isFullScreen()},n.prototype.onViewportUpdated=function(t){t&&this.updateZoomValue()},n.prototype.updateZoomValue=function(){var t=Math.round(100*j.canvasController.canvasScale),n=(t>0?t.toString():"< 1")+"%";this.prevZoomValue!==n&&(this.prevZoomValue=n,this.zoomValueElement.textContent=n)},n.$inject=["$scope","$element","$timeout","signals"],Object(T.c)([Object(D.c)("ui.interactiveTutorial.visible")],n.prototype,"visible",void 0),Object(T.c)([Object(D.g)("ui.interactiveTutorial.visible")],n.prototype,"onTutorialVisibilityChanged",null),n}(D.a);function L(){return Object(i.a)({restrict:"E",template:e(5378),controller:N,controllerAs:"ctrl",scope:{expanded:"="}})}var z=e(2382),U=e(2361),F=e(5381),H=e(5382),W=e(5384),G=e(58);function Y(){return{restrict:"E",replace:!0,template:e(5386),link:function(t,n){function e(e){e.keyCode==G.a.ENTER&&(t.processInput(),n.blur(),e.stopPropagation())}n[0].addEventListener("keydown",e,!0),t.$on("$destroy",function(){n[0].removeEventListener("keydown",e,!0)}),t.onPaste=function(){setTimeout(t.processInput)},t.processInput=function(){var e=n.text();-1==e.search(/[\w\d]{6,}/)||e.startsWith("#")||(e="#"+e),t.color.setColor(e),t.applyColor("hex"),t.dispatchColorSelected()},t.render(function(t){n.text(t.getHEX().toLocaleUpperCase())})}}}var q=e(5387);var K=e(591),X=e(5391);function Z(){return Object(i.a)({restrict:"E",template:e(5396),controller:X.a,controllerAs:"stickerBulkCreate"})}var Q,J=e(599),tt=e(50),nt=e(2115),et=e(27),it=e.n(et),ot=e(65),st=e(127),at=e(1816),rt=e(56),ct=e(138),lt=I.b(),dt=rt.b(),pt="stickers-recognition-contours-viewport-selector-layer",ut=2,gt=function(){function t(){this.previewsScaleInv=ut,this.overlay=new it.a.Graphics,this.overlay.visible=!1,this.previewsContainer=new it.a.DisplayObjectContainer,this.overlay.addChild(this.previewsContainer),this.redraw(),j.pixiCanvas.canvasResized.add(this.redraw,this),j.canvasLayers.addLayer(pt,this.overlay,ct.a.VIEWPORT_SELECTOR,!1,!1,!1)}return t.prototype.redraw=function(){if(this.overlay.visible){var t=Math.round(j.pixiCanvas.canvasWidth),n=Math.round(j.pixiCanvas.canvasHeight);this.overlay.clear(),this.overlay.beginFill(16777215,.6),this.overlay.drawRect(0,0,t,n),this.overlay.endFill(),this.previewsContainer.x=t/2-t/(2*this.previewsScaleInv),this.previewsContainer.y=n/2-n/(2*this.previewsScaleInv),this.previewsContainer.scale=1/this.previewsScaleInv}},t.prototype.show=function(t,n){var e=this;void 0===n&&(n=ut),this.previewsScaleInv=n,j.mySelection.clearSelection(),this.prevViewMode=lt().getMode(),lt().setMode(st.a.HIDE_ALL),lt().viewModeChanged.add(this.onViewModeChanged,this),this.previousTool=dt().getTool(),dt().setTool(ot.a.VIEW),this.overlay.visible=!0,this.redraw(),this.previewsContainer.removeChildren(),t&&t.forEach(function(t){t.hitArea||(t.hitArea=new at.a),e.previewsContainer.addChild(t)})},t.prototype.hide=function(){this.overlay.visible&&(this.overlay.visible=!1,dt().setTool(this.previousTool),lt().viewModeChanged.remove(this.onViewModeChanged,this),lt().setMode(this.prevViewMode))},t.prototype.onViewModeChanged=function(t){this.prevViewMode=t},t}();function ht(){mt().hide()}function mt(){return Q||(Q=new gt),Q}var bt=e(1337),vt=e(35),ft=""!==Object(tt.i)("paste_stickers_as_stickers"),_t=70,xt=function(){function t(t,n){var e=this;this.$scope=t,this.$timeout=n,this.onError=function(){e.showCanvas&&(e.showError(),e.destroy())},this.safeApply=function(){e.$scope.safeApply()},bt.b.add(this.init,this),this.showCanvas=!1,this.contoursCanvasController=new nt.a({DOMContainerId:"stickers-recognition-canvas",offset:{top:0,bottom:_t,left:0,right:0},updateUI:this.safeApply}),t.$on("$destroy",function(){bt.b.remove(e.init,e),e.destroy()})}return t.prototype.init=function(t){var n=this;Object(R.a)().leftSidebar.deactivate(),Object(R.a)().rightSidebar.deactivate(),this.showCanvas=!0,this.showLoader=!0,this.safeApply(),this.$timeout(function(){var e=function(){n.contoursCanvasController.init(t).then(function(){a.Ej(),n.showLoader=!1,n.safeApply()}).catch(n.onError)};"string"===typeof t?setTimeout(e,100):e()})},t.prototype.showError=function(){Object(vt.a)().show("Internal server error. Please try again or send a bug report.")},t.prototype.destroy=function(t){void 0===t&&(t=!1),t&&a.Bj(),bt.a(),this.contoursCanvasController.destroy(),ht(),this.showCanvas=!1,this.showLoader=!1,this.selectViewportMode=!1,this.safeApply()},t.prototype.showMainButtons=function(){return!this.contoursCanvasController.isEditMode()&&!this.selectViewportMode},t.prototype.showViewportSelector=function(){this.selectViewportMode=!0;var t,n,e=this.contoursCanvasController.getContoursCrops();t=e,mt().show(t,n)},t.prototype.showEditButtons=function(){return this.contoursCanvasController.isEditMode()},t.prototype.deleteContour=function(){this.contoursCanvasController.deleteContour()},t.prototype.saveContour=function(){this.contoursCanvasController.saveContour()},t.prototype.showViewportButtons=function(){return this.selectViewportMode},t.prototype.closeVPSelector=function(){this.contoursCanvasController.killTextContoursRequest(),this.showLoader=!1,this.selectViewportMode=!1,ht()},t.prototype.addToBoard=function(){var t=this;this.showLoader=!0,this.safeApply(),this.contoursCanvasController.getTextContours(!ft).then(function(n){t.selectViewportMode&&(ft?t.contoursCanvasController.addToBoardAsStickers(n):t.contoursCanvasController.addToBoardAsImages(n),a.Aj(),t.destroy())}).catch(function(){t.selectViewportMode&&(t.showLoader=!1,t.safeApply(),t.showError())})},t.$inject=["$scope","$timeout"],t}();function wt(){e(5398),Object(l.b)().directive("stickersRecognitionCanvas",yt)}function yt(){return{replace:!0,restrict:"E",scope:{},template:e(5400),controller:xt,controllerAs:"ctrl"}}var kt=e(377);var Ct=e(179),Ot=e(1865),Tt=e(59),jt=e(223),St=e(61),Et=function(){function t(t){var n=this;this.$scope=t,this.items=[],this.leftSidebar=Object(R.a)().leftSidebar,this.rightSidebar=Object(R.a)().rightSidebar,this.updateItems(),Object(Ct.a)().bottomBar.listUpdated.add(this.updateItems,this),this.attachSidebarsEvents(),this.$scope.$on("$destroy",function(){Object(Ct.a)().bottomBar.listUpdated.remove(n.updateItems,n),n.detachSidebarsEvents()})}return t.prototype.attachSidebarsEvents=function(){this.leftSidebar.activePluginsChanged.add(this.sidebarChanged,this),this.leftSidebar.resized.add(this.sidebarChanged,this),this.rightSidebar.activePluginsChanged.add(this.sidebarChanged,this),this.rightSidebar.resized.add(this.sidebarChanged,this)},t.prototype.detachSidebarsEvents=function(){this.leftSidebar.activePluginsChanged.remove(this.sidebarChanged,this),this.leftSidebar.resized.remove(this.sidebarChanged,this),this.rightSidebar.activePluginsChanged.remove(this.sidebarChanged,this),this.rightSidebar.resized.remove(this.sidebarChanged,this)},t.prototype.getVisibleItems=function(t){return t.isVisible()},t.prototype.sidebarChanged=function(){var t=Object(R.a)().calcWidthBetweenSidebars()-100;this.getWidth()>t&&Object(St.b)().ui.board.bottomBarCollapsed()},t.prototype.updateItems=function(){this.items=Object(Ct.a)().bottomBar.getButtons(),this.$scope.safeApply()},t.prototype.hasSimpleNotification=function(t){return this.isUnusedPlugin(t)||!!t.getNotification&&t.getNotification().type===Ot.a.SIMPLE},t.prototype.getNotSimpleNotification=function(t){if(!this.isUnusedPlugin(t)&&t.getNotification){var n=t.getNotification();return n.type===Ot.a.COUNTABLE?n.count>0&&n.count.toString():n.type===Ot.a.TIMEOUT&&n.time}return!1},t.prototype.isUnusedPlugin=function(t){return Object(Ct.a)().isUnusedPlugin(t.pluginId)},t.prototype.onItemClick=function(t){t.isDisabled&&t.isDisabled()||(t.onClick(),Object(Ct.a)().markPluginAsUsed(t.pluginId))},t.prototype.toggle=function(){Object(St.b)().ui.board.bottomBarToggled()},t.prototype.getWidth=function(){return this.collapsed?40:40*this.items.reduce(function(t,n){return n.isVisible()?t+1:t},1)},t.prototype.isCollapsedNotificationVisible=function(){if(this.collapsed){for(var t=0;t<this.items.length;t++){var n=this.items[t];if(this.hasSimpleNotification(n)||this.getNotSimpleNotification(n))return!0}return!1}return!1},t.prototype.getClassForAutoTests=function(t){return"AT__bottom-bar--"+t.pluginId},t.prototype.getUITip=function(t){switch(t.pluginId){case Tt.a.PRESENTATION_MODE:return jt.a[jt.a.PRESENTATION_MODE];case Tt.a.COUNTDOWN:return jt.a[jt.a.COUNTDOWN];case Tt.a.VOTING:return jt.a[jt.a.VOTING];case Tt.a.ACTIVITY_LIST:return jt.a[jt.a.ACTIVITY_LIST];default:return""}},t.$inject=["$scope"],Object(T.c)([Object(D.c)("ui.board.bottomBarCollapsed")],t.prototype,"collapsed",void 0),t}(),At=e(421);function It(){return Object(i.a)({restrict:"E",template:e(5405),controller:Et,controllerAs:"ctrl"})}var Pt=e(5406);function Mt(){return{restrict:"E",template:e(5410),controller:Pt.a,controllerAs:"ctrl"}}var $t=e(5411),Dt=e(39),Vt=e(142),Rt=e(104),Bt=e(124),Nt=e(147),Lt=e(33),zt=e(106),Ut=e(265),Ft=e(220),Ht=e(169),Wt=e(92),Gt=function(t){function n(n,e){var i=t.call(this,n,e)||this;return i.isEmptyTeam=!0,i.isFreeTeam=!0,i.isTeamMembershipChecked=!1,i}return Object(T.d)(n,t),n.prototype.updateMembershipInfo=function(t){var n=this;t&&Object(E.a)().userType===Wt.a.REGULAR&&this.isFreeTeam&&this.isEmptyTeam&&(this.isEmptyTeam=1===Object(Ut.c)(t),this.isEmptyTeam&&(this.isTeamMembershipChecked||(this.isTeamMembershipChecked=!0,Object(Ht.a)(t.account.id).then(function(t){n.isEmptyTeam=1===t.usersNumber&&0===t.invitesNumber,n.isFreeTeam=Object(Lt.db)(t),n.$scope.safeApply()}))))},Object.defineProperty(n.prototype,"autotestId",{get:function(){return this.$scope.autotestId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"needShowShareAccessIcon",{get:function(){var t=Object(Dt.a)().currentBoard.boardInfo.account;return t&&(!Object(Lt.a)(t)||Object(Lt.vb)(t.organization))&&!!this.icon},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"icon",{get:function(){return this.getAccessHelpIdentifier().icon},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tooltipText",{get:function(){return this.needShowShareAccessIcon?this.getAccessHelpIdentifier().tooltipText:"invite collaborators"},enumerable:!0,configurable:!0}),n.prototype.openShareModal=function(){if(Object(Dt.a)().currentBoard.hasPermission(Vt.a.EDIT_USERS)){var t=Object(Dt.a)().currentBoard.boardInfo;Object(Rt.a)(function(){return Object(Bt.b)()}).then(function(n){n.showShareBoardModal(t,"board"),n.sendShareClickedStat(t,"board")})}else Object(vt.a)().showError("Sorry, you don't have the necessary permissions to share this board")},n.prototype.getAccessHelpIdentifier=function(){var t=Object(Dt.a)().currentBoard.boardInfo;return Object(Ut.g)(t)?{icon:e(5415),tooltipText:"Shared via public link."}:!1===Object(Ut.f)(t)?{icon:!this.isEmptyTeam||!this.isFreeTeam?e(2343):"",tooltipText:t&&t.account?"Shared with "+t.account.name+" team.":"Shared with team."}:Object(Ut.h)(t)?{icon:e(2343),tooltipText:t&&t.account?"Project is shared with "+t.account.name+" team.":"Shared with team."}:Object(Ut.c)(t)>1||t.project?{icon:e(5416),tooltipText:"Shared with specific people."}:{icon:e(5417),tooltipText:"Only you have access to this board."}},n.prototype.toggleEditRequestPanel=function(){Object(I.a)().togglePanelVisibility(S.a.REQUEST_TO_EDIT_PANEL);var t=Object(Dt.a)().currentBoard.boardInfo,n=t.currentUserContext.role;if(Object(I.a)().getPanelVisible(S.a.REQUEST_TO_EDIT_PANEL)&&n!==Nt.a.OWNER&&n!==Nt.a.EDITOR){var e={account_id:t.account.id,account_plan:"",board_id:t.id,user_board_role:n};if(Object(Lt.a)(t.account)){var i=t.account.organization;e.org_id=t.account.organization.id,e.account_plan=i.type,e.role_in_billing_entity=Object(Lt.e)(i)?Object(Lt.w)(i.currentUserPermission.role):zt.a.EXTERNAL_USER}else e.account_plan=t.account.type,Object(Lt.c)(t.account)?e.role_in_billing_entity=t.account.role:Object(Ut.g)(t)||(e.role_in_billing_entity=zt.a.EXTERNAL_USER);a.fc(e)}},n.prototype.isRequestButtonViewerMode=function(){return!Object(Dt.a)().currentBoard.hasPermission(Vt.a.EDIT_WIDGETS)&&Object(Dt.a)().currentBoard.hasPermission(Vt.a.VIEW_BOARD)&&!Object(Dt.a)().currentBoard.hasPermission(Vt.a.WRITE_COMMENT)},n.prototype.isRequestButtonCommenterMode=function(){return!Object(Dt.a)().currentBoard.hasPermission(Vt.a.EDIT_WIDGETS)&&Object(Dt.a)().currentBoard.hasPermission(Vt.a.WRITE_COMMENT)},n.prototype.openSaveToMyBoardsModal=function(){var t=Object(Dt.a)().currentBoard.boardInfo;Object(Ft.a)().then(function(n){n.showDuplicateModal(t,!0,"Save to My boards").then(function(){a.ye(t.id,t.title)})})},Object(T.c)([Object(D.g)("board.info")],n.prototype,"updateMembershipInfo",null),n}(D.a);function Yt(){e(5418),Object(l.b)().directive("boardTopShareButton",qt)}function qt(){return Object(i.a)({restrict:"E",scope:{panels:"=",autotestId:"@"},template:e(5420),controller:Gt,controllerAs:"ctrl"})}var Kt=e(52),Xt=e(804),Zt=e(464),Qt=e(32),Jt=e(187),tn=e(112),nn=function(){function t(t,n){this.$element=n;var e=M.c(this,this.close,".request-to-edit-button, .board-edit-request-panel");t.$on("$destroy",function(){e.destroy()}),this.isCommenterMode()||this.isViewerMode()||this.isGuestMode()||this.isNoLicenseMode()||this.close(),this.isLeftPosition=this.$element[0].getBoundingClientRect().left<0}return t.prototype.close=function(){Object(I.a)().setPanelVisible(S.a.REQUEST_TO_EDIT_PANEL,!1)},t.prototype.isGuestMode=function(){return Object(E.a)().userType===Wt.a.GUEST||Object(E.a)().userType===Wt.a.TEMPORARY},t.prototype.isCommenterMode=function(){return Object(Dt.a)().currentBoard.role===Nt.a.COMMENTATOR},t.prototype.isViewerMode=function(){return Object(Dt.a)().currentBoard.role===Nt.a.VIEWER},t.prototype.isNoLicenseMode=function(){var t=Object(Dt.a)().currentBoard,n=t.boardInfo.account;return(t.role===Nt.a.EDITOR||t.role===Nt.a.OWNER)&&Object(Lt.a)(n)},t.prototype.requestEditAccess=function(){var t=this,n=Object(Dt.a)().currentBoard.boardInfo.account,e=Object(Lt.a)(n)?"Your request has been sent to the board owner":"Your request has been sent to the all board editors",i=Object(Dt.a)().currentBoard.role;i&&Object(Zt.b)(Object(Dt.a)().currentBoard.boardInfo.id,i,Nt.a.EDITOR,"button",e).then(function(){return t.close()})},t.prototype.requestLicense=function(){var t=this,n=Object(Dt.a)().currentBoard.boardInfo.account,e=n.currentUserConnection;e&&Qt.a.accounts.selectById(n.id).requestLicense({license:Jt.a.FULL,accountConnections:[{id:e.id}]}).then(function(){Object(vt.a)().show("Request has been sent to Company Admin"),t.close()}).catch(function(t){Object(vt.a)().showErrorByData(t)})},t.prototype.onLoginHandler=function(){en("log_in"),Kt.n(Object(Dt.a)().currentBoard.boardInfo.id)},t.prototype.onSingUpHandler=function(){en("sign_up"),Kt.q(Object(Dt.a)().currentBoard.boardInfo.id,Xt.a.REQUEST_PANEL)},t.$inject=["$scope","$element"],t}();function en(t){Object(tn.b)("clicked_board_edit_request_panel",Object(tn.a)({clicked_type:t}))}function on(){e(5424),Object(l.b)().directive("boardEditRequestPanel",sn)}function sn(){return Object(i.a)({restrict:"E",template:e(5426),controller:nn,controllerAs:"controller"})}function an(){return Object(i.a)({restrict:"E",scope:{panels:"=",expanded:"="},template:e(5429),controller:$t.a,controllerAs:"ctrl"})}var rn=e(5432),cn=e(5433),ln=e(5441);function dn(){return Object(i.a)({restrict:"E",template:ln,link:function(t){var n=this;t.menuItems=Object(cn.a)(),t.onItemClick=function(t){t.onClick()&&e()};var e=function(){Object(I.a)().setPanelVisible(S.a.BOARD_SETTINGS,!1)},i=function(){e()},o=M.c(this,e,".settings-menu-button, .board-settings");Object(Dt.a)().currentBoard.permissionsChanged.add(i,this),t.$on("$destroy",function(){o.destroy(),Object(Dt.a)().currentBoard.permissionsChanged.remove(i,n)})}})}var pn=e(1771),un=e(5444),gn=e(2374);function hn(){on(),e(5442),Object(l.b)().directive("boardSettings",dn),Object(pn.a)(),Object(gn.a)(),Object(un.a)(),Yt(),e(5446),Object(l.b)().directive("boardTopRightPanel",mn)}function mn(){return Object(i.a)({restrict:"E",scope:{panels:"="},template:e(5448),controller:rn.a,controllerAs:"ctrl"})}var bn=function(){function t(t){var n=this;this.$scope=t,this.undoEnabled=j.canvasHistory.canUndo(),this.redoEnabled=j.canvasHistory.canRedo(),j.canvasHistory.onUndoRedoChanged.add(this.onUndoRedoChanged,this),t.$on("$destroy",function(){j.canvasHistory.onUndoRedoChanged.remove(n.onUndoRedoChanged,n)})}return t.prototype.undo=function(){j.canvasHistory.undo()},t.prototype.redo=function(){j.canvasHistory.redo()},t.prototype.onUndoRedoChanged=function(t,n){this.undoEnabled=t,this.redoEnabled=n,this.$scope.safeApply()},t.$inject=["$scope"],t}();function vn(){return Object(i.a)({restrict:"E",template:e(5451),controller:bn,controllerAs:"ctrl"})}var fn=e(5454),_n=e(2409);function xn(){return Object(i.a)({restrict:"E",template:e(5457),controller:fn.a})}var wn=e(192),yn=e(219),kn=e(164),Cn=e(401),On=e(2116),Tn=e(267),jn=function(){function t(t){var n=this;this.$scope=t,t.isShowNotification=!1,this.isNotesPluginEnabled()&&(this.listener=Object(On.a)(),this.listener.subscribed.add(this.onSubscribed,this),this.listener.changed.add(this.onChanged,this),t.$on("$destroy",function(){n.listener.subscribed.remove(n.onSubscribed,n),n.listener.changed.remove(n.onChanged,n)}))}return t.prototype.onSubscribed=function(t,n){t||n||Object(wn.a)().then(function(t){t.openPanelAfterContentLoad(Cn.a.AUTO_FIRST_EDIT)})},t.prototype.onChanged=function(t){this.$scope.isShowNotification=t,this.$scope.safeApply()},t.prototype.isNotesPluginEnabled=function(){var t=Object(Dt.a)().currentBoard.boardInfo.account;return t&&t.abTests&&t.abTests.notesBeta2Experiment&&(t.abTests.notesBeta2Experiment==Tn.a.A||t.abTests.notesBeta2Experiment==Tn.a.B)||Object(yn.a)().isEnabled(kn.a.NOTES)},t.prototype.isNotesOpened=function(){return Object(R.a)().rightSidebar.activePluginId===Tt.a.NOTES},t.prototype.toggleDocPanel=function(){Object(wn.a)().then(function(t){Object(R.a)().rightSidebar.isPluginActive(Tt.a.NOTES)?t.closePanel(Cn.b.BUTTON):t.openPanel(Cn.a.BUTTON)})},t.$inject=["$scope"],t}();function Sn(){return Object(i.a)({restrict:"E",template:e(5461),controller:jn,controllerAs:"ctrl"})}var En=e(5462);function An(){Yt(),on(),e(5427),Object(l.b)().directive("boardTopLeftPanel",an),hn(),e(5449),Object(l.b)().directive("undoRedo",vn),Object(_n.a)(),e(5455),Object(l.b)().directive("onlineUsers",xn),e(5459),Object(l.b)().directive("boardTopNotesButton",Sn),e(5463),Object(l.b)().directive("boardTop",In)}function In(){return Object(i.a)({restrict:"E",scope:{panels:"="},template:e(5465),controller:En.a,controllerAs:"ctrl"})}var Pn=e(373),Mn=e(747),$n=e(60),Dn=function(){function t(t){this.$scope=t,t.showTip=function(){Pn.b()().showBottomTip(Mn.a[$n.a.BIG_SCREEN_TIP])}}return t.$inject=["$scope"],t}();function Vn(){return{replace:!0,restrict:"E",controller:Dn,controllerAs:"ctrl",template:e(5469)}}var Rn=e(772),Bn=e(5470),Nn=e(94),Ln=e.n(Nn),zn=e(273),Un=e(201),Fn=e(103),Hn=e(37),Wn=e(31),Gn=e(723),Yn=e(45),qn=e(270),Kn=e(436),Xn=e(281),Zn=24;function Qn(t,n){if(null!==t){var e,i=n.getContext("2d"),o=function(t,n,e,i){var o=Math.min(t,e),s=n*o/t;s>i&&(s=Math.min(n,i),o=t*s/n);return{width:o,height:s}}(t.width,t.height,Kn.d-Zn,Kn.c-Zn),s=o.width,a=o.height;Xn.b.instance&&(e=Xn.b.instance.makePreview(t,s,a));var r=Kn.d/2-s/2,c=Kn.c/2-a/2;n.width=Kn.d,n.height=Kn.c,i.clearRect(0,0,n.width,n.height),i.drawImage(e.textureBuffer.canvas,r,c,s,a)}}var Jn=e(2377),te=e(522),ne=qn.b(),ee=I.b(),ie=function(t){function n(n,e,i){var o=t.call(this,n,e)||this;return o.$scope=n,o.signals=e,o.$element=i,o.localTitle="",o.created=!1,o.localVotes=0,o.localDuration=0,o.localArea=null,o.forStickers=!0,o.forTexts=!0,o.forShapes=!0,o.forCards=!0,o.forImages=!0,o.hours="00",o.minutes="00",o.$nameInput=i.find("#voting-create__title-field"),o.$hoursInput=i.find("#voting-hours"),o.$minutesInput=i.find("#voting-minutes"),o.$votesInput=i.find("#voting-votes"),o.localTitle=o.getDefaultTitle(),o.localDuration=o.durationDefault,o.localVotes=o.votesDefault,o.drawAreaPreview(o.getDefaultArea()),setTimeout(function(){o.$nameInput.focus(),o.$nameInput[0].setSelectionRange(0,o.localTitle.length),o.$nameInput.select()}),o.normalizeTimeView(),o}return Object(T.d)(n,t),n.prototype.openVoting=function(){this.signals.ui.board.voting.setState({state:zn.a.ARCHIVE})},n.prototype.submit=function(){0===this.localTitle.length?(this.$element.find("#voting-create__title-field").focus(),Object(vt.a)().show("Enter the name of the voting")):(this.create(),Object(te.a)(Tt.a.VOTING))},n.prototype.increaseDuration=function(t){void 0===t&&(t=this.durationOffset);var n=t-this.localDuration%t;this.localDuration=Math.min(this.durationMax,this.localDuration+n),this.normalizeTimeView()},n.prototype.decreaseDuration=function(t){void 0===t&&(t=this.durationOffset);var n=this.localDuration%t||t;this.localDuration=Math.max(Fn.d.toMillis(1),this.localDuration-n),this.normalizeTimeView()},n.prototype.setViewMinutes=function(){this.minutes=Ln()(this.localDuration).format("mm")},n.prototype.setViewHours=function(){this.hours=("0"+Fn.c.toHours(this.localDuration)).slice(-2)},n.prototype.increaseVotes=function(){this.localVotes=Math.min(this.votesMax,this.localVotes+1)},n.prototype.decreaseVotes=function(){this.localVotes=Math.max(1,this.localVotes-1)},n.prototype.onVotesKeyup=function(t){var n=this;Object(Un.n)(t,{onValid:function(){return n.setDurationFromForm()}},this.$minutesInput.val())},n.prototype.onVotesKeydown=function(t){var n=this;Object(Un.n)(t,{onUp:function(){n.increaseVotes()},onDn:function(){n.decreaseVotes()}})},n.prototype.setViewVotes=function(){this.localVotes=Math.max(Math.min(this.votesMax,this.localVotes),this.votesMin),this.$scope.safeApply()},n.prototype.setDurationFromForm=function(){var t=parseInt(this.hours,10),n=Math.max(parseInt(this.minutes,10),1);this.localDuration=Fn.b.toMillis(t)+Fn.d.toMillis(n)},n.prototype.canSubmit=function(){return this.localTitle&&0===this.localTitle.length||0===this.getWidgetTypes().length},n.prototype.selectArea=function(){var t=this;ee().setMode(st.a.HIDE_ALL);var n=Object(Yn.a)().show(Object(Jn.a)({enableCloseByBackground:!1,showLockLayer:!1,text:"Object inside the area will<br/> be available for vote "}));n.submitted.addOnce(function(){t.setVotingArea(Gn.a())}),n.closed.addOnce(function(){Gn.b(),ee().setMode(st.a.NORMAL)}),this.$scope.$on("$destroy",function(){n&&n.cancel()});var e=this.localArea||this.getDefaultArea();Gn.d(Wn.n(e)),j.canvasActions.jumpToViewport(Object(Wn.X)(e,.2))},n.prototype.resetArea=function(){this.localArea=null,this.drawAreaPreview(this.getDefaultArea()),this.$scope.safeApply()},n.prototype.getDefaultArea=function(){var t=ne().getContentDimensions();return t?Object(Wn.X)(t):j.canvasController.viewport},n.prototype.setVotingArea=function(t){this.localArea=t,this.drawAreaPreview(t),this.$scope.safeApply()},n.prototype.drawAreaPreview=function(t){Qn(t,this.$element.find(".voting-preview__canvas")[0])},n.prototype.create=function(){if(!this.created){var t=this.localArea?{x:this.localArea.x,y:this.localArea.y,height:this.localArea.height,width:this.localArea.width}:null;this.setDurationFromForm(),this.signals.ui.board.voting.create({title:this.localTitle,votes:this.localVotes,duration:this.localDuration,widgetTypes:this.getWidgetTypes(),defaultTitle:this.getDefaultTitle(),area:t}),this.created=!0}},n.prototype.normalizeTimeView=function(){this.setViewMinutes(),this.setViewHours(),this.$scope.safeApply()},n.prototype.getWidgetTypes=function(){var t=[];return this.forTexts&&t.push(Hn.a.TEXT),this.forStickers&&t.push(Hn.a.STICKER),this.forShapes&&t.push(Hn.a.SHAPE),this.forCards&&(t.push(Hn.a.CARD),t.push(Hn.a.JIRACARD),t.push(Hn.a.RALLYCARD)),this.forImages&&(t.push(Hn.a.IMAGE),t.push(Hn.a.WEBSCREEN)),t},n.prototype.getDefaultTitle=function(){return"Voting "+(this.list.length+1)},n.$inject=["$scope","signals","$element"],Object(T.c)([Object(D.c)("board.voting.votesMin")],n.prototype,"votesMin",void 0),Object(T.c)([Object(D.c)("board.voting.list")],n.prototype,"list",void 0),Object(T.c)([Object(D.c)("board.voting.votesMax")],n.prototype,"votesMax",void 0),Object(T.c)([Object(D.c)("board.voting.votesMax")],n.prototype,"votesDefault",void 0),Object(T.c)([Object(D.c)("board.voting.durationMin")],n.prototype,"durationMin",void 0),Object(T.c)([Object(D.c)("board.voting.durationMax")],n.prototype,"durationMax",void 0),Object(T.c)([Object(D.c)("board.voting.durationDefault")],n.prototype,"durationDefault",void 0),Object(T.c)([Object(D.c)("board.voting.durationOffset")],n.prototype,"durationOffset",void 0),n}(D.a);function oe(){return Object(i.a)({restrict:"E",template:e(5473),controller:ie,controllerAs:"ctrl"})}var se,ae=e(915),re=e(526),ce=function(){function t(n){this.hFormat=t.FORMAT,this.sFormat="",this.mFormat="",this.withDays=!1,this.ctrl=n,this.countdown=new ae.a,this.countdown.init(this.ctrl.active.startTime,this.ctrl.active.duration),this.countdown.setFinishCallback(this.finishCallback.bind(this)),this.countdown.setTickCallback(this.tickCallback.bind(this))}return t.prototype.start=function(){this.countdown.start()},t.prototype.stop=function(){this.countdown.stop()},t.prototype.setHourFormat=function(t){this.hFormat=t},t.prototype.setMinuteFormat=function(t){this.mFormat=t},t.prototype.setSecondFormat=function(t){this.sFormat=t},t.prototype.destroy=function(){this.countdown.stop(),delete this.ctrl},t.prototype.tickCallback=function(n){var e="";if(n.leftTime>=Fn.a.toMillis(1))if(this.withDays){var i=Ln.a.duration(n.leftTime).hours(),o=Ln.a.duration(n.leftTime).days(),s=Ln.a.duration(n.leftTime).minutes();e=o+"d "+(i<1?s+"m":i+"h")}else e=Object(re.a)(n.leftTime)+'<span class="voting-timer__colon">:</span>'+Object(re.b)(n.leftTime);else{var a=this.hFormat;n.leftTime<Fn.b.toMillis(1)&&this.mFormat.length&&(a=this.mFormat),n.leftTime<Fn.d.toMillis(1)&&this.sFormat.length&&(a=this.sFormat);var r=Math.max(0,n.leftTime);e=Ln.a.utc(r).format(a)}this.ctrl.$element.find(t.CLS)[0].innerHTML=e},t.prototype.finishCallback=function(){this.ctrl.finishByTimer()},t.CLS=".js-voting-timer-container",t.FORMAT='HH[<span class="voting-timer__colon">]:[</span>]mm',t}(),le=e(404),de=e(630),pe=e(722),ue=((se={})[Hn.a.STICKER]="Sticky notes",se[Hn.a.TEXT]="Text",se[Hn.a.SHAPE]="Shapes",se[Hn.a.IMAGE]="Images",se[Hn.a.CARD]="Cards",se);function ge(t){var n=[];return t.includes(Hn.a.STICKER)&&n.push(ue[Hn.a.STICKER]),t.includes(Hn.a.CARD)&&n.push(ue[Hn.a.CARD]),t.includes(Hn.a.TEXT)&&n.push(ue[Hn.a.TEXT]),t.includes(Hn.a.SHAPE)&&n.push(ue[Hn.a.SHAPE]),t.includes(Hn.a.IMAGE)&&n.push(ue[Hn.a.IMAGE]),n.join(", ")}var he,me=qn.b(),be=function(){function t(t,n,e){var i=this;this.signals=t,this.$scope=n,this.$element=e,this.options=Object(pe.a)(),this.active&&(this.timer=new ce(this),this.timer.withDays=!0,this.timer.setHourFormat("H[h] m[m]"),this.timer.setMinuteFormat("m[m]"),this.timer.setSecondFormat("m[m] s[s]"),this.timer.start(),this.drawAreaPreview(),this.$scope.$on("$destroy",function(){return i.timer.destroy()}))}return t.prototype.init=function(){this.active&&!this.isAuthor&&(Object(le.a)().unstash(de.a.VOTING)&&this.activeEnded&&Object(le.a)().showRateInPlaceholder(de.a.VOTING,"voting-rate-view",!1))},t.prototype.start=function(){this.jumpToArea(),this.signals.ui.board.voting.startVoting()},t.prototype.finish=function(){this.signals.ui.board.voting.finishForAllUsers()},t.prototype.finishByTimer=function(){this.signals.ui.board.voting.finishVotingByTime({voting:this.active})},t.prototype.close=function(){this.signals.ui.board.voting.voteLater()},t.prototype.jumpToArea=function(){var t=this.active.area||this.getDefaultArea();j.canvasActions.jumpToViewport(t)},t.prototype.drawAreaPreview=function(){var t=this.$element.find(".voting-preview__canvas")[0];Qn(this.active.area||this.getDefaultArea(),t)},t.prototype.votingSubtitle=function(){return this.active?ge(this.active.widgetTypes):""},t.prototype.getDefaultArea=function(){return me().getContentDimensions()||j.canvasController.viewport},t.$inject=["signals","$scope","$element"],Object(T.c)([Object(D.c)("board.voting.active")],t.prototype,"active",void 0),Object(T.c)([Object(D.c)("board.voting.activeEnded")],t.prototype,"activeEnded",void 0),Object(T.c)([Object(D.c)("board.voting.waitAsyncRequest")],t.prototype,"waitAsyncRequest",void 0),Object(T.c)([Object(D.c)("board.voting.isEditor")],t.prototype,"isEditor",void 0),Object(T.c)([Object(D.c)("board.voting.rateParams.isAuthor")],t.prototype,"isAuthor",void 0),t}(),ve=e(768);var fe=function(){function t(t){this.$scope=t;var n=Object(le.a)().onShowRateAtView.add(this.showRate,this);this.rate=he,this.$scope.$on("$destroy",function(){n.detach()})}return t.prototype.rateSubmit=function(){Object(le.a)().commit(this.rate),he=this.rate=void 0},t.prototype.showRate=function(t){this.$scope.viewId===t.viewId&&(t.callback(),this.rateToken=t.id,he=this.rate=Object(le.a)().unstash(this.rateToken))},t.$inject=["$scope"],t}();function _e(){return Object(i.a)({restrict:"E",template:e(5474),transclude:!0,scope:{rateOptions:"<",viewId:"@"},controller:fe,controllerAs:"ctrl"})}function xe(){Object(ve.a)(),Object(l.b)().directive("ratingPlaceholder",_e),e(5475),Object(l.b)().directive("votingStart",we)}function we(){return Object(i.a)({restrict:"E",template:e(5477),controller:be,controllerAs:"ctrl",link:function(t,n,e,i){i.init()}})}var ye=function(){function t(t){this.signals=t}return t.prototype.disabledCreate=function(){return this.state===zn.a.NOT_LOADED||this.active},t.prototype.create=function(){this.signals.ui.board.voting.setState({state:zn.a.CREATE})},t.prototype.openVoting=function(t){this.active&&t.token.id===this.active.token.id?this.signals.ui.board.voting.updateState():this.signals.ui.board.voting.showVotingResult({voting:t})},t.$inject=["signals"],Object(T.c)([Object(D.c)("board.voting.list")],t.prototype,"list",void 0),Object(T.c)([Object(D.c)("board.voting.active")],t.prototype,"active",void 0),Object(T.c)([Object(D.c)("board.voting.state")],t.prototype,"state",void 0),Object(T.c)([Object(D.c)("board.voting.isEditor")],t.prototype,"isEditor",void 0),t}(),ke=e(274);function Ce(){return Object(i.a)({restrict:"E",template:e(5480),controller:ye,controllerAs:"ctrl"})}var Oe=e(180),Te=function(){function t(t,n,e){var i=this;this.signals=t,this.$scope=n,this.$element=e,this.timer=new ce(this),this.timer.setHourFormat('HH[<span class="voting-timer__colon">]:[</span>]mm'),this.timer.setSecondFormat("m:ss"),this.timer.start(),this.$scope.$on("$destroy",function(){return i.timer.destroy()})}return t.prototype.end=function(){this.signals.ui.board.voting.end()},t.prototype.cancel=function(){this.signals.ui.board.voting.cancelVotingSession()},t.prototype.finishByTimer=function(){this.timer.stop(),this.signals.ui.board.voting.finishVotingByTime({voting:this.active})},t.prototype.needShowHelp=function(){return 0===Object.keys(this.myActiveWidgetsWithVote).length},t.prototype.getTitleAttr=function(){return Oe.b(this.active.title)},t.prototype.votingSubtitle=function(){return this.active?"Vote for "+ge(this.active.widgetTypes):""},t.prototype.jumpToArea=function(){this.active&&this.active.area&&j.canvasActions.jumpToViewport(this.active.area)},t.$inject=["signals","$scope","$element","$sce"],Object(T.c)([Object(D.c)("board.voting.leftVoteInActiveVoting")],t.prototype,"leftVoteInActiveVoting",void 0),Object(T.c)([Object(D.c)("board.voting.active")],t.prototype,"active",void 0),Object(T.c)([Object(D.c)("board.voting.myActiveWidgetsWithVote")],t.prototype,"myActiveWidgetsWithVote",void 0),Object(T.c)([Object(D.c)("board.voting.waitAsyncRequest")],t.prototype,"waitAsyncRequest",void 0),t}(),je=e(441),Se=e(622),Ee=function(t){function n(n,e,i){var o=t.call(this,e,n)||this;return o.$scope=e,o.$element=i,o.addCanvasPreview(),o.scrollToWidget(o.lastAddedWidgetId),o.$scope.$on("$destroy",function(){return clearTimeout(o.scrollTimeout)}),o}return Object(T.d)(n,t),n.prototype.increase=function(t,n){n.stopPropagation(),0==Object(St.c)("board.voting.leftVoteInActiveVoting")?Object(je.a)().showVoteOverMessage():Object(St.b)().ui.board.voting.addVote({token:t.token})},n.prototype.decrease=function(t,n){n.stopPropagation(),Object(St.b)().ui.board.voting.removeVote({token:t.token})},n.prototype.moveToWidget=function(t){Object(Se.a)().executeManual("moveToWidget",t.id)},n.prototype.scrollToWidget=function(t){this.$scope.widget.id===t&&void 0!==this.$element&&this.$element.scrollIntoView()},n.prototype.isDisabled=function(){return 0===this.leftVoteInActiveVoting},n.prototype.addCanvasPreview=function(){var t=Object(je.a)().previews.getByWidgetId(this.$scope.widget.id).element;this.$element.find(".js-widget-preview")[0].appendChild(t)},n.$inject=["signals","$scope","$element"],Object(T.c)([Object(D.c)("board.voting.lastAddedWidgetId")],n.prototype,"lastAddedWidgetId",void 0),Object(T.c)([Object(D.c)("board.voting.leftVoteInActiveVoting")],n.prototype,"leftVoteInActiveVoting",void 0),Object(T.c)([Object(D.g)("board.voting.lastAddedWidgetId")],n.prototype,"scrollToWidget",null),n}(D.a);function Ae(){return Object(i.a)({restrict:"E",template:e(5481),scope:{widget:"="},controller:Ee,controllerAs:"ctrl"})}function Ie(){Object(l.b)().directive("votingSessionItem",Ae),e(5482),Object(l.b)().directive("votingSession",Pe)}function Pe(){return Object(i.a)({restrict:"E",template:e(5484),controller:Te,controllerAs:"ctrl"})}var Me=e(621),$e=Object(Me.a)(),De=function(t){function n(n,e){var i=t.call(this,n,e)||this;return i.$scope=n,i.signals=e,i.waitingServerResponse=!1,i.waitResult(),i.$scope.$on("$destroy",function(){return clearTimeout(i.waitingServerTimeoutId)}),i}return Object(T.d)(n,t),n.prototype.needShowSpinner=function(){return this.waitAsyncRequest||this.waitingServerResponse},n.prototype.openVoting=function(){this.signals.ui.board.voting.setState({state:zn.a.ARCHIVE})},n.prototype.remove=function(){this.signals.ui.board.voting.removeVoting({voting:this.fullVotingView})},n.prototype.moveToWidget=function(t){Object(Se.a)().executeManual("moveToWidget",t.id)},n.prototype.update=function(){var t=this;this.waitAsyncRequest||this.waitingServerResponse||this&&(this.widgets=$e(Object.keys(this.fullVotingViewWidgets).map(function(n){return{id:t.fullVotingViewWidgets[n].id,count:parseInt(t.fullVotingViewWidgets[n].count,10),text:t.fullVotingViewWidgets[n].content,resourceId:t.fullVotingViewWidgets[n].resourceId,resourceUrl:t.fullVotingViewWidgets[n].resourceUrl}})))},n.prototype.getWidgets=function(){return this.widgets},n.prototype.isResultEmpty=function(){return!this.fullVotingViewWidgets||0===Object.keys(this.fullVotingViewWidgets).length},n.prototype.waitResult=function(){var t=this;this.waitingServerResponse=!0,this.waitingServerTimeoutId=setTimeout(function(){t.waitingServerResponse=!1,t.update()},this.fullVotingViewWaitTime)},n.$inject=["$scope","signals"],Object(T.c)([Object(D.c)("board.voting.fullVotingView")],n.prototype,"fullVotingView",void 0),Object(T.c)([Object(D.c)("board.voting.fullVotingViewWidgets")],n.prototype,"fullVotingViewWidgets",void 0),Object(T.c)([Object(D.c)("board.voting.waitAsyncRequest")],n.prototype,"waitAsyncRequest",void 0),Object(T.c)([Object(D.c)("board.voting.fullVotingViewWaitTime")],n.prototype,"fullVotingViewWaitTime",void 0),Object(T.c)([Object(D.c)("board.voting.isEditor")],n.prototype,"isEditor",void 0),Object(T.c)([Object(D.g)("board.voting.waitAsyncRequest")],n.prototype,"needShowSpinner",null),Object(T.c)([Object(D.g)("board.voting.waitAsyncRequest")],n.prototype,"update",null),n}(D.a);function Ve(){return Object(i.a)({restrict:"E",template:e(5489),controller:De,controllerAs:"ctrl"})}var Re=function(){function t(t,n){this.signals=t}return t.$inject=["signals","$scope"],Object(T.c)([Object(D.c)("board.voting.hasStateCreate")],t.prototype,"hasStateCreate",void 0),Object(T.c)([Object(D.c)("board.voting.hasStateSessionStart")],t.prototype,"hasStateSessionStart",void 0),Object(T.c)([Object(D.c)("board.voting.hasStateSession")],t.prototype,"hasStateSession",void 0),Object(T.c)([Object(D.c)("board.voting.hasStateArchive")],t.prototype,"hasStateArchive",void 0),Object(T.c)([Object(D.c)("board.voting.hasStateResult")],t.prototype,"hasStateResult",void 0),t}();function Be(){e(5471),Object(l.b)().directive("votingCreate",oe),xe(),e(5478),Object(ke.a)(),Object(l.b)().directive("votingArchive",Ce),Ie(),e(5487),Object(ke.a)(),Object(l.b)().directive("votingResult",Ve),Object(ve.a)(),e(5491),Object(l.b)().directive("sidebarVoting",Ne)}function Ne(){return Object(i.a)({restrict:"E",template:e(5493),controller:Re,controllerAs:"ctrl"})}var Le=e(5494);function ze(){return Object(i.a)({restrict:"E",template:e(5498),controller:Le.a,controllerAs:"ctrl"})}var Ue=e(5499);function Fe(){return Object(i.a)({restrict:"E",template:e(5502),controller:Ue.a,controllerAs:"ctrl"})}var He=e(5503),We=e(5510),Ge=e(249),Ye=e(71),qe=function(){function t(t){this.messageHasEmojies=!1,Ge.a(t.message.senderId).then(function(n){t.userName=n.name,t.userPicture=n.picture.medium||Ye.j,t.$digest()}).catch(function(){}),this.messageHasEmojies=t.message.emojis&&t.message.emojis.length>0}return t.$inject=["$scope","$element"],t}(),Ke=e(2414);function Xe(){return{replace:!0,restrict:"E",transclude:!0,template:e(5511),controller:qe,controllerAs:"ctrl",scope:{message:"=",fakeTime:"="}}}var Ze=e(766);function Qe(){e(5512),Object(l.b)().directive("collaborationToolsComments",Je),Object(Ze.a)(),Object(At.a)(),Object(ke.a)(),Object(w.a)(),Object(Ke.a)(),Object(ke.a)(),Object(l.b)().directive("collaborationToolsCommentsMessage",Xe)}function Je(){return{replace:!0,restrict:"E",template:e(5514),controller:We.a,controllerAs:"ctrl"}}var ti=e(135),ni=e(1267),ei=3e3,ii=[],oi=function(){function t(t){this.delay=t,this.timerId=void 0}return t.prototype.recycle=function(t,n){this.ratesWrappers=t,this.startRecycle(this.delay,n)},t.prototype.destroy=function(){this.timerId&&(clearTimeout(this.timerId),this.timerId=void 0)},t.prototype.startRecycle=function(t,n){var e=this;this.timerId||(this.timerId=setTimeout(function(){if(e.timerId=void 0,e.ratesWrappers=e.ratesWrappers.filter(function(t){return 0!==t.gratitudeActivationTime}),e.ratesWrappers.length){var t=Date.now(),i=e.ratesWrappers.reduce(function(i,o){var s=t-o.gratitudeActivationTime;return s>=e.delay?n(o.rate):(i.time=Math.max(0,e.delay-s),i.wrappers.push(o)),i},{time:0,wrappers:[]});e.ratesWrappers=i.wrappers,e.startRecycle(i.time,n)}},t))},t}(),si=function(){function t(t,n,e){var i=this;this.$scope=t,this.$animate=n,this.$element=e,this.options=Object(pe.a)(),this.ratesWrappers=ii,this.ratesRecycler=new oi(ei),j.onCanvasUnloading.add(this.canvasUnloadedHandler,this);var o=Object(le.a)().onShowRateAtBoard.add(this.putRateIntoBoard,this);t.$on("$destroy",function(){o.detach(),i.ratesRecycler.destroy()})}return t.prototype.rateSubmit=function(t){var n=this;t.showGratitude=!0,t.gratitudeActivationTime=Date.now(),Object(le.a)().commit(t.rate),this.ratesRecycler.recycle(this.ratesWrappers,function(t){n.playFadeAnimationAndFinish(t),n.$scope.safeApply()})},t.prototype.rateClosed=function(t){this.playFadeAnimationAndFinish(t.rate)},t.prototype.playFadeAnimationAndFinish=function(t){var n=this;this.$animate.addClass(this.$element,"ng-hide ng-hide-add ng-hide-animate").finally(function(){n.removeRateAndClosePanel(t)})},t.prototype.putRateIntoBoard=function(t){t.callback();var n=Object(le.a)().unstash(t.id,!0);n&&(this.ratesWrappers.find(function(n){return n.rateToken===t.id})||(this.ratesWrappers.push({id:ti.b(),rate:n,showGratitude:!1,gratitudeActivationTime:0,rateToken:t.id}),Object(ni.b)(ni.a.auto,n.getParams())))},t.prototype.removeRateAndClosePanel=function(t){ii=this.ratesWrappers=this.ratesWrappers.filter(function(n){return n.rate!==t}),this.ratesWrappers.length||Object(I.a)().setPanelVisible(S.a.RATES,!1)},t.prototype.canvasUnloadedHandler=function(){ii=[],j.onCanvasUnloading.remove(this.canvasUnloadedHandler,this)},t.$inject=["$scope","$animate","$element"],t}();function ai(){return Object(i.a)({restrict:"E",template:e(5520),controller:si,controllerAs:"ctrl"})}var ri=e(416),ci=e(345),li=Pn.c(),di=e(5521);function pi(t){return Object(i.a)({template:di,restrict:"E",link:function(n){n.ctrl={visible:!1,config:void 0,boxClass:"",trustedText:"",canShow:function(t){return!t.canShowTip||t.canShowTip()},show:function(e){var i=this,o=Object(St.c)("ui.interactiveTutorial.visible");if(ci.a.isTipShown()||o)setTimeout(function(){return i.show(e)},350);else{if(ci.a.toggleTipAsShown(),this.visible&&this.config&&this.config.name&&li().tipVisibleChange.dispatch(!1,this.config.name),this.visible=!0,this.config=e,this.config&&this.config.buttons){var s=this.config.buttons.map(function(t){return'<button class="rtb-btn rtb-btn--small '+t.customClass+'" clickable-element="'+(t.element||"default_cancel")+'">'+t.text+"</button>"}).join("");this.config.text+='<div class="ui-tip__buttons">'+s+"</div>"}this.trustedText=t.trustAsHtml(this.config.text),this.config&&this.config.name&&li().tipVisibleChange.dispatch(!0,this.config.name),this.config&&this.config.onShow&&this.config.onShow(),Object(ri.b)({tip_type:this.config.name,type_of_trigger:"bottom_tip"}),n.safeApply()}},hide:function(){this.visible=!1,this.config&&this.config.name&&li().tipVisibleChange.dispatch(!1,this.config.name),ci.a.toggleTipAsHidden(),n.safeApply()},onCloseTap:function(){this.config.closeCallback&&this.config.closeCallback(),this.hide(),Object(ri.a)({tip_type:this.config.name,type_of_trigger:"bottom_tip",button_name_clicked:"close"})},onIconTap:function(){this.onClick("icon"),this.hide()},onClick:function(t,n){this.config.clickCallback&&t&&(this.config.clickCallback(t,n),this.config.disableHideOnClick||this.hide(),Object(ri.a)({tip_type:this.config.name,type_of_trigger:"bottom_tip",button_name_clicked:n?n.toLowerCase():t}))}},li().setController(n.ctrl)}})}pi.$inject=["$sce"];var ui,gi=e(1244),hi=e(1589),mi=e(1247),bi=e(257),vi=e(197),fi=e(229),_i=e(51),xi=e(108),wi=e(353),yi=function(){function t(){}return t.prototype.markAsRead=function(){if(this.assignee&&this.assignee.id===Object(E.a)().myUserId.toString()){this.unread=!1;var t=j.objectsRegistry.getObject(this.id);t&&t.markAssigneeAsRead()}},t}(),ki=e(74),Ci=e(111),Oi=e.n(Ci);!function(t){t[t.ALL=0]="ALL",t[t.MY=1]="MY"}(ui||(ui={}));var Ti=function(){function t(t){var n=this;this.$scope=t,this.allTasks=[],this.myTasks=[],this.unreadTasks=[],this.filter=ui.ALL,this.initDebounced=Oi()(this.init.bind(this),300),t.Filter=ui,t.getTrackedId=function(t){return t.id.id.toString()+"-"+t.updateTime},j.widgetController.onWidgetHistoryChanged.add(this.onWidgetHistoryChanged,this),Object(R.a)().leftSidebar.activePluginsChanged.addOnce(this.onActivePluginChanged,this),j.widgetController.onWidgetLoaded.add(this.onWidgetLoaded,this),this.$scope.$on("$destroy",function(){j.widgetController.onWidgetHistoryChanged.remove(n.onWidgetHistoryChanged,n),j.widgetController.onWidgetLoaded.remove(n.onWidgetLoaded,n)}),this.init(),this.unreadTasks.length>0&&(this.filter=ui.MY)}return t.prototype.init=function(){var t=this,n=Object(bi.a)().getUnreadAssignedCards(),e=j.widgetController.existingWidgets,i=[],o=e.filter(function(t){return t.widgetType===Hn.a.CARD}).map(function(t){var e=t.getExtensionData(vi.a.TEXT),o=t.getExtensionData(vi.a.ASSIGNEE),s=t.getExtensionData(vi.a.DUE_DATE),a=t.getStyle()[_i.a.BACKGROUND_COLOR],r=new yi;if(r.id=t.tokenizer,r.isTitleEmpty=!e.title||""===ki.j(e.title),r.title=r.isTitleEmpty?t.getPlaceholder():e.title,r.tags=t.tags.map(function(t){return{text:t.text,color:t.colorStr}}),r.unread=n.some(function(n){return n.tokenizer===t.tokenizer}),r.time=t.historyData.creationTime?t.historyData.creationTime.getNumber():0,r.updateTime=t.historyData.lastChangeTime?t.historyData.lastChangeTime.getNumber():0,-1!==a&&16777215!==a&&(r.color=xi.a.intColorToHEX(a)),o.assignee.length){var c=Ge.a(o.assignee[0],!0).then(function(t){r.assignee=t,r.hasProperties=!0});i.push(c)}return s.dueDate.length&&(r.dueDate=Object(wi.e)(s.dueDate)),(r.tags.length||r.dueDate)&&(r.hasProperties=!0),r}).sort(function(t,n){var e=t.time,i=n.time;if(e==i){var o=t.id.id;return n.id.id.compare(o)}return i-e});Promise.all(i).then(function(){t.allTasks=o,t.myTasks=o.filter(function(t){return t.assignee&&t.assignee.id===Object(E.a)().myUserId.toString()}),t.$scope.$apply()}),this.unreadTasks=o.filter(function(t){return t.unread})},t.prototype.openTask=function(t){var n=j.objectsRegistry.getObject(t.id);n&&(t.markAsRead(),fi.a.setViewport(n.bounds).calculateScreenOffset({fitTo100Percent:!0}).jumpWithAnimation(),j.canvasActions.onViewportAnimationEnded.addOnce(function(){j.mySelection.selectObject(n)}))},t.prototype.onWidgetHistoryChanged=function(){this.refresh()},t.prototype.onWidgetLoaded=function(t){this.refresh()},t.prototype.onActivePluginChanged=function(t,n){n===Tt.a.CARD_WIDGET&&a.b.closeTasks()},t.prototype.readAll=function(){this.unreadTasks.forEach(function(t){t.markAsRead()})},t.prototype.toggleFilter=function(t){this.filter=t},t.prototype.refresh=function(){this.initDebounced()},t.$inject=["$scope"],t}(),ji=function(){function t(t,n){var e=this;this.$scope=t,this.$element=n,this.task=t.task,this.card=j.objectsRegistry.getObject(this.task.id),n.hover(function(){e.isEditable()&&n.addClass("task--editable")},function(){n.removeClass("task--editable")})}return t.prototype.isEditable=function(){return!!this.card&&(Object(Dt.a)().currentBoard.canCreateAndEditWidgets()&&!this.card.isPinned&&!this.card.isLocked())},t.prototype.expand=function(t){this.isEditable()&&(this.task.markAsRead(),this.card.expand(),t.stopPropagation())},t.$inject=["$scope","$element"],t}();function Si(){return Object(i.a)({restrict:"E",template:e(5527),controller:ji,controllerAs:"ctrl",scope:{task:"<"}})}function Ei(){e(5525),Object(l.b)().directive("task",Si),Object(At.a)(),e(5528),Object(l.b)().directive("tasks",Ai)}function Ai(){return Object(i.a)({restrict:"E",template:e(5530),controller:Ti,controllerAs:"ctrl"})}var Ii=e(2055);function Pi(t,n){Object(tn.b)("lifebuoy_opened",Object(tn.a)({source:t,feature:n}))}function Mi(t){Object(tn.b)("lifebuoy_example_opened",Object(tn.a)({feature:t}))}var $i=function(t){function n(n,e){var i=t.call(this,n,e)||this;return i.tipOpened=!1,i.isUsm=!1,i.isMindMap=!1,i.isKanban=!1,i.checkSelection(),i}return Object(T.d)(n,t),n.prototype.onTutorialVisibilityChanged=function(){},n.prototype.toggleTip=function(){this.tipOpened=!this.tipOpened,this.tipOpened&&this.tipConfig&&Pi("help",this.tipConfig.feature)},n.prototype.openTip=function(){this.tipOpened=!0},n.prototype.checkSelection=function(){var t=j.mySelection.selection;if(t&&t.length){var n=Object(Ii.b)(t);n.isUsm&&(this.isUsm=!0,this.tipConfig={achievment:$n.a.USM_TIP,feature:"usm"}),n.isMindMap&&(this.isMindMap=!0,this.tipConfig={achievment:$n.a.MINDMAP_TIP,feature:"mindmap"}),n.isKanban&&(this.isKanban=!0,this.tipConfig={achievment:$n.a.KANBAN_TIP,feature:"kanban"}),this.tipConfig&&this.tryToAutoOpenTip(this.tipConfig)}},n.prototype.tryToAutoOpenTip=function(t){var n=t.achievment,e=t.feature;Object(E.a)().achievements.isOpened(n)||(this.openTip(),Pi("first",e),Object(E.a)().achievements.open(n))},Object(T.c)([Object(D.c)("ui.interactiveTutorial.visible")],n.prototype,"isTutorialVisible",void 0),Object(T.c)([Object(D.c)("ui.interactiveTutorial.widgetTipVisible")],n.prototype,"tipVisible",void 0),Object(T.c)([Object(D.g)("ui.interactiveTutorial.widgetTipVisible")],n.prototype,"onTutorialVisibilityChanged",null),n}(D.a),Di=e(137),Vi=e(286),Ri=e(463),Bi=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(T.d)(n,t),n.prototype.showTemplate=function(){Object(Vi.a)().show(new Ri.a("Lean & Agile Management","User Story Map Framework")),Mi("usm")},n.prototype.showTutorial=function(){Object(Di.d)().then(function(t){t.setInteractiveTutorialParams({type:Di.b.USM,openedManually:!0})})},n}(D.a);function Ni(){return{replace:!0,restrict:"E",controllerAs:"usm",controller:Bi,template:e(5531)}}var Li=e(57);function zi(){return{replace:!0,restrict:"E",template:e(5532),link:function(t){t.rearrangekey=Li.p("%ctrlOrCmdWithText%")}}}var Ui=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(T.d)(n,t),n.prototype.showTemplate=function(){Object(Vi.a)().show(new Ri.a("Lean & Agile Management","Kanban Interactive Template")),Mi("kanban")},n.prototype.showTutorial=function(){Object(Di.d)().then(function(t){t.setInteractiveTutorialParams({type:Di.b.KANBAN,openedManually:!0})})},n}(D.a);function Fi(){return{replace:!0,restrict:"E",controllerAs:"kanban",controller:Ui,template:e(5533)}}function Hi(){e(5534),Object(l.b)().directive("usmWidgetTip",Ni),Object(l.b)().directive("mindmapWidgetTip",zi),Object(l.b)().directive("kanbanWidgetTip",Fi),Object(l.b)().directive("widgetTip",Wi)}function Wi(){return{replace:!0,restrict:"E",controller:$i,controllerAs:"ctrl",template:e(5536)}}var Gi=e(2334),Yi=e(2381),qi=e(1579),Ki=function(){function t(t){var n=this,e=function(){var t=Object(I.a)().bottomPanel.getActivePlugin();n.plugin=t?t.options:void 0},i=function(){e(),t.safeApply()};e(),Object(I.a)().bottomPanel.pluginsOptionsChanged.add(i),Object(I.a)().bottomPanel.activePluginsChanged.add(i),t.$on("$destroy",function(){Object(I.a)().bottomPanel.activePluginsChanged.remove(i),Object(I.a)().bottomPanel.pluginsOptionsChanged.remove(i)})}return t.$inject=["$scope"],t}(),Xi=function(){e(5538),Object(l.b)().directive("bottomPanel",Zi)};function Zi(){return Object(i.a)({restrict:"E",template:e(5540),controller:Ki,controllerAs:"ctrl"})}function Qi(){return Object(i.a)({restrict:"E",template:e(5541),controller:Gi.a,controllerAs:"boardController"})}var Ji=e(333),to=e(2347),no=e(438),eo=e(391),io=e(395),oo=e(442);Object(Ji.c)(to.a),Object(oo.b)(io.a),Object(no.a)().init(Object(oo.a)(!0,"canvasContextMenu--widgets")),Object(eo.a)().init(Object(oo.a)(!1)),s.e(),e(5347),Object(l.b)().directive("framesNavigator",d),e(5358),Object(u.a)(),Object(g.a)(),Object(l.b)().directive("sidebarFrames",h),Object(w.a)(),Object(y.a)(),e(2331),Object(l.b)().directive("comments",k),Object(b.a)(),Object(v.a)(),Object(f.a)(),Object(_.a)(),Object(x.a)(),e(5371),Object(l.b)().directive("dragAndDrop",O),e(5376),Object(l.b)().directive("miniMap",L),Object(z.a)(),Object(U.a)(),e(5389),Object(l.b)().directive("colorpicker",F.a),Object(l.b)().directive("colorpickerHue",H.a),Object(l.b)().directive("colorpickerSB",W.a),Object(l.b)().directive("colorpickerValue",Y),Object(l.b)().directive("colorpickerEyedropper",q.a),Object(K.a)(),Object(y.a)(),Object(K.a)(),e(5394),Object(l.b)().directive("stickerBulkCreate",Z),Object(J.a)(),wt(),Object(kt.a)(),wt(),e(5403),Object(At.a)(),Object(l.b)().directive("bottomBar",It),e(5408),Object(l.b)().directive("floatingPanels",Mt),An(),e(5466),Object(l.b)().directive("bigScreenTips",Vn),Object(Rn.b)(),Object(Bn.a)(),Be(),e(5496),Object(l.b)().directive("countdown",ze),e(5500),Object(ke.a)(),Object(l.b)().directive("activityList",Fe),Object(He.a)(),Qe(),e(5518),Object(ve.a)(),Object(l.b)().directive("boardRatingsPlaceholder",ai),Object(At.a)(),e(5522),Object(l.b)().directive("bottomTips",pi),Object(gi.a)(),Object(hi.a)(),Object(mi.a)(),Ei(),Hi(),Object(Yi.a)(),Object(qi.a)(),Xi(),Object(l.b)().directive("boardUi",Qi);n.default={}},5684:function(t,n,e){"use strict";var i=e(21),o=e(48),s=e(179),a=e(39),r=e(73),c=e(129),l=e(124),d=e(78),p=e(267),u=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.doneResults=new Map,n}return Object(i.d)(n,t),n.prototype.init=function(){var t=this;this.boardAccount=Object(a.a)().currentBoard.boardInfo.account,this.items=Object(s.a)().exportPanel.getButtons(),this.items.forEach(function(n){n.isDone&&n.isDone().then(function(e){t.doneResults.set(n.pluginId,e),t.$scope.safeApply()})})},n.prototype.isDone=function(t){return!!this.doneResults.get(t.pluginId)},n.prototype.isVisible=function(t){return!t.isVisible||t.isVisible()},n.prototype.onItemClick=function(t){t.isEnabled&&!t.isEnabled()||(t.onClick(),this.submit())},n.prototype.getClassForAutoTests=function(t){return"AT__export--"+t.pluginId},n.prototype.isShareItemVisible=function(){var t=Object(d.s)(function(){return Object(a.a)().currentBoard.boardInfo.account.abTests.shareFromExportVariation});return Object(r.a)().getPanelVisible(c.a.SHARE_BUTTON)&&t===p.a.B},n.prototype.onShareItemClick=function(){Object(l.b)().then(function(t){t.showShareBoardModal(Object(a.a)().currentBoard.boardInfo,"export"),t.sendShareClickedStat(Object(a.a)().currentBoard.boardInfo,"export")})},n}(o.b),g=e(46),h=e(44);n.a=function(t){return e(5412),g.a(h.a.BOARD_EXPORT,u,e(5414),t)}},632:function(t,n){t.exports="#general__search-filters"},682:function(t,n){t.exports="#img__star-full"},766:function(t,n,e){"use strict";var i=e(30),o=e(21),s=e(43),a=function(){function t(t,n){var e=this;this.$scope=t,this.$element=n,t.tabClick=function(n,e){t.resetActiveItem(),e.isActive=!0,t.onTabClick({$event:n,tab:e})},t.resetActiveItem=function(){t.tabs.forEach(function(t){t.isActive=!1})},t.$watch("tabs",function(){e.animateHTMLSelector()},!0)}return t.prototype.$onInit=function(){window.addEventListener("resize",this.animateHTMLSelectorDebounced,!0)},t.prototype.$onDestroy=function(){window.removeEventListener("resize",this.animateHTMLSelectorDebounced,!0)},t.prototype.animateHTMLSelectorDebounced=function(){this.animateHTMLSelector()},t.prototype.animateHTMLSelector=function(t){var n=this;setTimeout(function(){var e=t||n.$element[0].querySelector(".tab--active");if(e){var i=n.$element[0].querySelector(".tabs__header-selector");i.style.width=e.clientWidth+"px",i.style.left=e.offsetLeft+"px",t||setTimeout(function(){i.classList.add("tabs__header-selector--animated")},500)}},0)},t.$inject=["$scope","$element"],Object(o.c)([s.decorators.autobind,s.decorators.debounce(200)],t.prototype,"animateHTMLSelectorDebounced",null),t}(),r=e(25);e.d(n,"a",function(){return l});var c=e(1455);function l(){return e(1456),Object(r.b)().directive("tabs",d),c}function d(){return Object(i.a)({restrict:"E",transclude:!0,template:c,controller:a,controllerAs:"tabs",scope:{tabs:"=",onTabClick:"&",headerClass:"=",contentClass:"="}})}},814:function(t,n){t.exports="#img__check-24"},821:function(t,n){t.exports="#img__star-hollow"},959:function(t,n){t.exports="#img__map-minus"}}]);
//# sourceMappingURL=BoardUI.desktop.38ac31c046c895825f3d.js.map
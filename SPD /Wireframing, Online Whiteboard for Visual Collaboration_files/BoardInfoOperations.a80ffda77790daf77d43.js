(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{1125:function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return a});var o=e(25);function a(){Object(o.b)().directive("clickableText",i)}function i(){return{restrict:"A",link:function(n,e,o){function a(t){var e=t.target.getAttribute("clickable-element"),a=t.target.innerHTML;n.$eval(o.clickableText,{$clickedElementName:e,$clickedElementInnerHTML:a})}var i=t.isTouchSupportedAndNotDesktop?"touchend":"click";e.on(i,a),n.$on("$destroy",function(){e.off(i,a)})}}}}).call(this,e(0))},123:function(t,n,e){"use strict";e.d(n,"k",function(){return l}),e.d(n,"h",function(){return b}),e.d(n,"d",function(){return m}),e.d(n,"i",function(){return p}),e.d(n,"g",function(){return h}),e.d(n,"f",function(){return f}),e.d(n,"a",function(){return v}),e.d(n,"b",function(){return _}),e.d(n,"e",function(){return g}),e.d(n,"j",function(){return y}),e.d(n,"c",function(){return w});var o=e(375),a=e(297),i=e.n(a),r=o.a(),c=document.createElement("a"),s="(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}(?:\\-{2}[a-z0-9]{4})?))\\.?)(?::\\d{2,5})?(?:[/?#](?:[^\\s'\":();]*[^\\s,'\":;.()])?)?",d=new RegExp("(?:^"+s+"$)","i"),l=new RegExp("("+s+")","ig"),u=new RegExp("(?:^(?:[a-z]+:\\/\\/)(?:[^\\s]+)$)","i"),b=new RegExp("("+s+")$");function m(t){return _()+"?moveToWidget="+r().getTokenizerHash(t.tokenizer)}function p(t){return v()+t}function h(t){return d.test(t)}function f(t){return u.test(t)}function v(){return location.protocol+"//"+location.host}function _(){return v()+location.pathname}var g=i()(function(t){return t.match(l)||[]});function y(t){(t=(t||"").trim()).startsWith("/")||-1===t.search(/^[a-z](?:[a-z\d+\-.])*:/i)&&(t=document.location.protocol+"//"+t);return c.href=t,c.href}function w(t){return c.href=y(t),c.hostname}},142:function(t,n,e){"use strict";var o;!function(t){t.EDIT_BOARD_PARAMS="EDIT_BOARD_PARAMS",t.SET_CAMERA_DATA="SET_CAMERA_DATA",t.SET_PRESENTATION="SET_PRESENTATION",t.EDIT_BOARD_PUBLICITY="EDIT_BOARD_PUBLICITY",t.EDIT_BOARD_ACCESS_LINK="EDIT_BOARD_ACCESS_LINK",t.SHARE_BOARD_ON_ACCOUNT="SHARE_BOARD_ON_ACCOUNT",t.EDIT_USERS="EDIT_USERS",t.SET_OWNER="SET_OWNER",t.TRASH_BOARD="TRASH_BOARD",t.WRITE_TO_CHAT="WRITE_TO_CHAT",t.USE_SCREEN_SHARING="USE_SCREEN_SHARING",t.USE_VIDEO_CHAT="USE_VIDEO_CHAT",t.GET_BOARD_ARCHIVE="GET_BOARD_ARCHIVE",t.VIEW_BOARD="VIEW_BOARD",t.EDIT_WIDGETS="EDIT_WIDGETS",t.WRITE_COMMENT="WRITE_COMMENT",t.VIEW_JIRA_CARDS_RESOURCES="VIEW_JIRA_CARDS_RESOURCES",t.INVITE_TO_ACCOUNT_AND_BOARD_BY_LINK="INVITE_TO_ACCOUNT_AND_BOARD_BY_LINK",t.TOGGLE_INVITE_TO_ACCOUNT_AND_BOARD_BY_LINK="TOGGLE_INVITE_TO_ACCOUNT_AND_BOARD_BY_LINK",t.LEAVE_BOARD="LEAVE_BOARD"}(o||(o={})),n.a=o},1453:function(t,n){t.exports='<div class="ui-directive ui-button" ng-style="{width: width}" ng-class="{\'ui-button__disabled\': ngDisabled}">\n    <icon class="ui-button__icon" icon-name="icon" ng-show="icon"></icon>\n    <div class="ui-button__caption" ng-bind-html="caption"></div>\n</div>\n'},1461:function(t,n,e){"use strict";e.d(n,"a",function(){return s});var o=e(86),a=e.n(o),i=e(135),r=e(755),c=e(25);function s(){Object(c.b)().directive("uiSelectOld",d)}function d(){return{replace:!0,restrict:"E",template:e(1462),controller:r.a,scope:{label:"=",width:"=",options:"=",selected:"=?",placeholder:"=",description:"=",selectDisabled:"=",done:"=",failState:"=",failMessage:"=",onSelected:"&"},link:function(t){t.prev=a()(t.selected),t.id=i.b(),t.placeholder&&(t.$watch("options",function(n){Array.isArray(n)&&n[0]&&""!==n[0].value&&(n.unshift({value:"",caption:t.placeholder}),t.selected=t.selected||n[0])}),t.$watch("placeholder",function(n){t.options&&t.options[0]&&(t.options[0].caption=n)})),t.getCaption=function(t){return t.caption||t.title||t.name}}}}},1462:function(t,n){t.exports='<div class="ui-directive ui-select" ng-style="{width: width}"\n     ng-class="{\'ui-directive--done\': done, \'ui-directive--fail\': failState, \'ui-select--disabled\': !options.length || selectDisabled}">\n    <label ng-attr-for="ui-input-{{::id}}">\n        <div class="ui-select__label" ng-show="label">{{label}}</div>\n        <div class="ui-select__description" ng-show="description">{{description}}</div>\n        <div class="ui-select__select-wrapper ui-directive__border" ng-class="{\'ui-select__select-wrapper--selected\': selected.value}">\n            <div class="ui-select__triangle">\n                <icon icon-name="\'general--triangle-black-bottom\'"></icon>\n            </div>\n\n            <select ng-class="{\'--placeholder\': placeholder}" ng-attr-id="ui-select-{{::id}}" ng-model="selected"\n                    ng-options="option as getCaption(option) for option in options"\n                    ng-change="onSelected({option: selected, prev: prev})" ng-disabled="!options.length || selectDisabled"></select>\n        </div>\n\n        <div class="ui-directive__done">{{\'account.commons.directive.ui.done.saved\' | translate}}</div>\n    </label>\n</div>'},169:function(t,n,e){"use strict";e.d(n,"l",function(){return c}),e.d(n,"k",function(){return s}),e.d(n,"c",function(){return l}),e.d(n,"g",function(){return u}),e.d(n,"d",function(){return b}),e.d(n,"j",function(){return m}),e.d(n,"h",function(){return p}),e.d(n,"i",function(){return h}),e.d(n,"b",function(){return f}),e.d(n,"f",function(){return v}),e.d(n,"e",function(){return _}),e.d(n,"a",function(){return g});var o=e(32),a=e(33),i=e(106),r=e(71);function c(t,n){return a.sb(t)?Promise.resolve(!0):o.a.accounts.selectById(t.id).selectUserById(n).get().then(function(t){return!!t.role}).catch(function(){return!1}).then(function(n){return!!n||d(t)})}function s(t,n){return a.sb(t)?Promise.resolve(!0):o.a.accounts.selectById(t.id).invites().includes({search:n},function(t){return t.email===n}).catch(function(){return!1}).then(function(n){return!!n||d(t)})}function d(t){return o.a.accounts.selectById(t.id).get({fields:"organization"}).then(function(t){return!!t.organization&&o.a.organizations.selectById(t.organization.id).dayPasses().then(function(t){return Object(a.y)(t)})})}function l(t){return t&&t.currentUserPermission&&t.currentUserPermission.role!==i.a.ADMIN?o.a.accounts.selectById(t.id).getTeamAdmins(1).then(function(t){return t.data[0].email}):Promise.resolve("")}function u(t){return o.a.accounts.selectById(t).get({fields:"limits,usersNumber,organization{remainingFullLicenseNumber,fullUsersLimit}"})}function b(t){return o.a.accounts.selectById(t).get({fields:"boardsNumber"}).then(function(t){return t.boardsNumber})}function m(t){return o.a.accounts.selectById(t).get({fields:"usersNumber"}).then(function(t){return t.usersNumber})}function p(t){return o.a.accounts.selectById(t).get({fields:"usersNumber,boardsNumber"})}function h(t){return o.a.boards.selectById(t).get({fields:"account{usersNumber,boardsNumber}"}).then(function(t){return t.account})}function f(t){return o.a.boards.array({filter:r.b.ACTIVE,attachment:t}).getSize()}function v(t){return o.a.billing.selectById(t).getPastDueInvoices()}function _(t,n){return o.a.accounts.selectById(t).experiments.get(n)}function g(t){return o.a.accounts.selectById(t).get({fields:"type,usersNumber,invitesNumber,role"})}},213:function(t,n,e){"use strict";var o;e.d(n,"a",function(){return o}),function(t){t.EDIT="EDIT",t.VIEW="VIEW",t.COMMENT="COMMENT",t.PRIVATE="PRIVATE"}(o||(o={}))},2136:function(t,n,e){"use strict";var o=e(4293),a=e(46),i=e(44),r=e(536),c=e(1461),s=e(274);n.a=function(t){return Object(r.a)(),Object(c.a)(),Object(s.a)(),e(4294),a.a(i.a.BOARD_INFO,o.a,e(4296),t)}},236:function(t,n,e){"use strict";var o;e.d(n,"a",function(){return o}),function(t){t[t.COMMON=0]="COMMON",t[t.DOWNLOAD_BACKUP=1]="DOWNLOAD_BACKUP",t[t.CREATE_PROJECT=2]="CREATE_PROJECT",t[t.CREATE_CUSTOM_TEMPLATE=3]="CREATE_CUSTOM_TEMPLATE",t[t.JIRA=4]="JIRA",t[t.BOARD_WILL_BE_INACTIVE_CREATE=5]="BOARD_WILL_BE_INACTIVE_CREATE",t[t.BOARD_WILL_BE_INACTIVE_DUPLICATE=6]="BOARD_WILL_BE_INACTIVE_DUPLICATE",t[t.CREATE_PRIVATE_BOARD=7]="CREATE_PRIVATE_BOARD"}(o||(o={}))},237:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var o=e(35),a=e(495),i={notifications:{},usePrompt:!0};function r(t,n){var e=function(t){return Object(a.a)().tryCopyText(t)}(t),r=Object.assign(i,n);if(e){var c=r.notifications.successMessage;c&&Object(o.a)().show(c)}else{if(r.usePrompt)window.prompt("Copy to clipboard",t);else{var s=r.notifications.errorMessage;s&&Object(o.a)().showError(s)}}}},265:function(t,n,e){"use strict";e.d(n,"e",function(){return i}),e.d(n,"i",function(){return r}),e.d(n,"a",function(){return c}),e.d(n,"f",function(){return s}),e.d(n,"g",function(){return d}),e.d(n,"d",function(){return l}),e.d(n,"b",function(){return u}),e.d(n,"c",function(){return b}),e.d(n,"h",function(){return m});var o=e(33),a=e(213);function i(t){return!t.lockedByActiveBoardsPerAccountLimitExceeded&&!r(t)}function r(t){return Object(o.X)(t.account)&&s(t)}function c(t){return Object(o.fb)(t.account)&&!t.account.currentUserPermission&&!d(t)&&t.participant}function s(t){return!!t.sharingPolicyOnAccount&&t.sharingPolicyOnAccount===a.a.PRIVATE}function d(t){return!!t.sharingPolicy&&t.sharingPolicy!==a.a.PRIVATE}function l(t,n){return!!t.currentUserPermission&&t.currentUserPermission.permissions.includes(n)}function u(t){return!!t&&t.account||void 0}function b(t){return(t.permissions?t.permissions.size:0)+(t.invites?t.invites.size:0)}function m(t){return!!t.project&&t.project.sharingPolicyOnAccount!==a.a.PRIVATE}},274:function(t,n,e){"use strict";var o=e(30),a=e(25),i=e(820),r=6e4,c=/Yesterday|Today/i,s=function(){function t(t){var n=this;this.formattedValue="",this.onTimer=function(){n.updateFormattedValue(),clearTimeout(n.updateTimeoutId),n.shouldUpdate()&&(n.updateTimeoutId=setTimeout(n.onTimer,r))},this.$scope=t,t.$watch("value",function(){n.onTimer()}),t.$on("$destroy",function(){clearTimeout(n.updateTimeoutId)}),this.onTimer()}return t.prototype.updateFormattedValue=function(){this.$scope.value?this.formattedValue=Object(i.a)(this.$scope.value,this.$scope.absoluteFormat,this.$scope.relativeFormat):this.formattedValue="",this.$scope.safeApply()},t.prototype.shouldUpdate=function(){return c.test(this.formattedValue)},t.$inject=["$scope"],t}();function d(){Object(a.b)().directive("relativedate",l)}function l(){return Object(o.a)({restrict:"E",template:"<span>{{ctrl.formattedValue}}</span>",controller:s,controllerAs:"ctrl",scope:{value:"<",absoluteFormat:"<",relativeFormat:"<"}})}e.d(n,"a",function(){return d})},347:function(t,n,e){"use strict";var o=e(141);o.b("Projects",function(){return Promise.all([e.e(0),e.e(1),e.e(4),e.e(3),e.e(12),e.e(13),e.e(19),e.e(26),e.e(47),e.e(72)]).then(e.bind(null,1565)).then(function(t){return t.default})}),n.a=o.a("Projects")},375:function(t,n,e){"use strict";e.d(n,"b",function(){return a}),e.d(n,"a",function(){return i});var o=e(42);function a(){return"WidgetsHashService"}function i(){return o.a("WidgetsHashService")}},405:function(t,n,e){"use strict";(function(t){var o=e(52),a=function(){function n(){}return n.start=function(n,e,o){var a=this;void 0===e&&(e=function(){}),void 0===o&&(o=function(){}),t.when(n).then(function(t){a.downloadFile(t),e()},o)},n.downloadFile=function(t){var n,e,a=t.attrs||{},i=t.urlOrBlob instanceof Blob,r=window.URL||window.webkitURL||window,c=a.download||"download";i?(n=r.createObjectURL(t.urlOrBlob),e="download-link-help"):(n=t.urlOrBlob,e="_blank"),o.k(n).download(c,e),i&&(window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(t.urlOrBlob,c),setTimeout(function(){return r.revokeObjectURL(n)},1e4))},n}();n.a=a}).call(this,e(36))},4288:function(t,n){t.exports='<rtb-modal class="rtb-modal--center rtb-modal--small rename-board-modal">\n    <rtb-modal-close-button hm-tap="modal.cancel()"></rtb-modal-close-button>\n    <div class="rtb-modal-container__content rtb-modal-content">\n        <div class="rtb-modal-content__header rtb-modal-header">\n            <div class="rtb-modal-header__title rtb-modal-title">\n                {{modal.params.caption}}\n            </div>\n        </div>\n        <div class="rtb-modal-content__body rtb-modal-body">\n            <div class="rtb-modal-body__row" ng-show="modal.text">{{modal.text}}</div>\n            <div class="rtb-modal-body__row">\n                <div class="rtb-input-field rtb-input-field--small">\n                    <label>{{modal.params.label}}</label>\n                    <input type="text"\n                           class="rtb-input rtb-input--primary rtb-input--fluid focus-target"\n                           placeholder="{{modal.params.placeholder}}"\n                           data-autotest-id="rename-board-modal__name-input"\n                           ng-model="modal.params.inputValue">\n                </div>\n            </div>\n            <div class="rtb-modal__row" ng-show="modal.errorVisible">\n                <p class="rtb-modal-error" ng-bind="modal.errorMessage"></p>\n            </div>\n        </div>\n        <div class="rtb-modal-content__actions rtb-modal-actions">\n            <button class="rtb-btn rtb-btn--primary rtb-btn--medium"\n                    ng-class="{\'rtb-btn--disabled\': modal.params.inputValue.length == 0}"\n                    hm-tap="modal.submit()"\n                    data-autotest-id="rename-board-modal__submit-button"\n                    ng-bind="modal.params.submitButtonCaption"></button>\n            <button class="rtb-btn rtb-btn--secondary rtb-btn--medium"\n                    hm-tap="modal.cancel()"\n                    data-autotest-id="rename-board-modal__cancel-button"\n                    ng-bind="modal.params.cancelButtonCaption"></button>\n        </div>\n    </div>\n</rtb-modal>'},4289:function(t,n,e){var o=e(4290);"string"===typeof o&&(o=[[t.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};e(24)(o,a);o.locals&&(t.exports=o.locals)},4290:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".move-board-result-modal .modal-content__emails {\n  opacity: 0;\n  max-height: 0;\n}\n.move-board-result-modal .modal-content__emails .brick-blue {\n  display: none;\n}\n.move-board-result-modal .modal-content__emails.modal-content__emails--opened {\n  margin-top: 16px;\n  opacity: 1;\n  max-height: 350px;\n  transition: opacity 0.25s, max-height 0.25s ease-in;\n}\n.move-board-result-modal .modal-content__emails.modal-content__emails--opened .brick-blue {\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n}\n.move-board-result-modal .brick-blue {\n  box-sizing: border-box;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  margin-bottom: 3px;\n  height: 24px;\n  line-height: 24px;\n  background-color: rgba(102, 152, 255, 0.2);\n  border-radius: 12px;\n  font-size: 14px;\n  margin: 0 4px 4px 0;\n  padding: 0 10px;\n}\n",""])},4291:function(t,n,e){t.exports='<rtb-modal class="rtb-modal rtb-modal--center rtb-modal--medium move-board-result-modal">\n    <rtb-modal-close-button hm-tap="modal.cancel()"></rtb-modal-close-button>\n    <div class="rtb-modal-container">\n        <div class="rtb-modal-container__content rtb-modal-content">\n\n            <div class="rtb-modal-content__header rtb-modal-header">\n                <div class="rtb-modal-header__title rtb-modal-title">\n                    <svg  class="rtb-modal-title__icon"  ><use xlink:href="'+e(157)+'"></use></svg>\n                    <div class="rtb-modal-title__text">{{modal.emails.size}} {{modal.emails.size === 1 ? \'user\' : \'users\'}} will be denied access</div>\n                </div>\n            </div>\n\n            <div class="rtb-modal-content__body rtb-modal-body">\n                Some users in <b ng-bind="modal.boardInfo.title"></b> board will be denied access to the\n                board because they do not belong to <b ng-bind="modal.account.title"></b> team space.\n\n                To allow access for these users, please add them to the\n                <b ng-bind="modal.account.title"></b> team and re-send invites to this board. <br>\n\n                <div class="rtb-link rtb-link--primary" hm-tap="modal.viewEmails()" ng-show="!modal.emailsIsVisible && modal.emails.size < 11">View user emails</div>\n                <div class="rtb-link rtb-link--primary" hm-tap="modal.copyEmails()" ng-show="modal.emailsIsVisible">Copy all emails</div>\n                <a class="rtb-link rtb-link--primary" ng-href="{{modal.downloadUrl}}" type="text/plain"\n                   target="_blank" ng-show="modal.emails.size > 10">Download list of emails</a>\n\n                <div class="modal-content__emails" ng-class="{\'modal-content__emails--opened\': modal.emailsIsVisible}">\n                    <div class="brick-blue" ng-repeat="email in modal.emails.data track by $index">{{email}}</div>\n                </div>\n            </div>\n\n            <div class="rtb-modal-content__actions rtb-modal-actions">\n                <button class="rtb-btn rtb-btn--primary rtb-btn--medium"\n                        ng-class="{\'rtb-btn--disabled\': modal.params.title.length == 0}"\n                        hm-tap="modal.submit()"\n                        ng-hide="modal.waiting">Move anyway\n                </button>\n                <button class="rtb-btn rtb-btn--secondary rtb-btn--medium"\n                        hm-tap="modal.cancel()"\n                        ng-hide="modal.waiting">Cancel\n                </button>\n                <div ng-show="modal.waiting">Waiting...</div>\n            </div>\n        </div>\n    </div>\n</rtb-modal>'},4292:function(t,n){t.exports='<rtb-modal class="rtb-modal--center rtb-modal--small move-board-modal">\n    <rtb-modal-close-button hm-tap="modal.cancel()"></rtb-modal-close-button>\n    <div class="rtb-modal-container__content rtb-modal-content">\n        <div class="rtb-modal-content__header rtb-modal-header">\n            <div class="rtb-modal-header__title rtb-modal-title">\n                Move board to account\n            </div>\n        </div>\n        <div class="rtb-modal-content__body rtb-modal-body">\n            <div class="rtb-modal-body__row">\n                <div class="rtb-input-field rtb-input-field--small">\n                    <label>Choose an account:</label>\n                    <rtb-select ng-model="modal.selectedAccountId"\n                                class="rtb-select--secondary-bordered rtb-select--small rtb-select--fluid"\n                                options="modal.accountsOptions"\n                                data-autotest-id="move-board-modal__teams-select">\n                    </rtb-select>\n                </div>\n            </div>\n        </div>\n        <div class="rtb-modal-content__actions rtb-modal-actions">\n            <button class="rtb-btn rtb-btn--primary rtb-btn--medium"\n                    ng-class="{\'rtb-btn--disabled\': modal.params.title.length == 0}"\n                    hm-tap="modal.submit()"\n                    data-autotest-id="move-board-modal__submit-button"\n                    ng-hide="modal.waiting">Move</button>\n            <button class="rtb-btn rtb-btn--secondary rtb-btn--medium"\n                    hm-tap="modal.cancel()"\n                    data-autotest-id="move-board-modal__cancel-button"\n                    ng-hide="modal.waiting">Cancel</button>\n            <div ng-show="modal.waiting">Waiting...</div>\n        </div>\n    </div>\n</rtb-modal>\n'},4293:function(t,n,e){"use strict";(function(t){var o=e(21),a=e(32),i=e(48),r=e(35),c=e(34),s=e(45),d=e(142),l=e(26),u=e(525),b=e(117),m=e(106),p=e(210),h=e(74),f=e(676),v=e(33),_=e(59),g=e(71),y=e(236),w=e(168),A=e(235),O=e(60),E=e(2136),I=e(347),C=e(321),T=e(220),x=e(50),k=e(72),B=e(64),j=e(104),S=e(124),P=e(874),R=e(209),D=e(58),M=e(77),L=r.b(),N=c.b(),U=s.b(),V=p.b(),$="id,picture,title,description,starred,ownerName,owner,public,updatedAt,createdAt,currentUserPermission{id,role,permissions},currentUserContext{id,role,permissions,directlyShared},demo,account{"+g.d+"},project{title},template,lockedByAccountExpired,lockedByUsersPerBoardLimitExceeded,lockedByUsersPerAccountLimitExceeded,lockedByBoardsPerAccountLimitExceeded,lockedByActiveBoardsPerAccountLimitExceeded,integrations,participant",W=function(t,n){return-1!=n.indexOf(t)},z=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.canEditInfo=!1,e.avatarEnabled=!0,e.updateDescriptionHeight=function(){Object(x.f)(e.descriptionTextarea,31)},e.focusTitle=function(){var n=t(".board-info-title");n.focus(),Object(h.p)(n.get(0))},e.onDescriptionKeydown=function(t){(t.keyCode||t.which)===D.a.ENTER&&(t.shiftKey?t.stopPropagation():t.preventDefault())},e}return Object(o.d)(e,n),e.prototype.init=function(){var n=this;this.isTemplate=!!this.params.isTemplate,a.a.boards.selectById(this.params.boardId).get({fields:$}).then(function(t){return n.loadSlack(t)}).then(function(t){return n.boardResolve(t)}).catch(function(t){L().showErrorByData(t),n.cancel()});var e=t(".board-info-description");this.descriptionTextarea=e.get(0),e.on("input",this.updateDescriptionHeight),e.on("keydown",this.onDescriptionKeydown),this.boardPreviewEnabled=!!this.params.boardPreviewEnabled&&P.a,this.$scope.$on("$destroy",function(){e.off("input",n.updateDescriptionHeight),e.off("keydown",n.onDescriptionKeydown)})},e.prototype.boardResolve=function(t){var n=this,e=(t.currentUserPermission.role,t.currentUserPermission.permissions);t.description=t.description.trim(),this.canEditInfo=W(d.a.EDIT_BOARD_PARAMS,e),this.canInvite=W(d.a.EDIT_USERS,e),this.canDuplicate=W(d.a.EDIT_WIDGETS,e),this.canDelete=W(d.a.TRASH_BOARD,e),this.canLeave=t.currentUserContext.directlyShared&&W(d.a.LEAVE_BOARD,e),this.board=t,this.board.ownerName=h.h(this.board.ownerName),this.oldTitle=t.title,this.oldDescription=t.description,this.dispatchChangedParams({title:this.board.title}),this.projectSettingsVisible=W(d.a.EDIT_BOARD_PARAMS,e),this.inCurrentAccountProjectsAvailable=Object(v.Q)(t.account,b.a.PROJECTS),this.loaded=!0,this.$scope.$digest(),setTimeout(function(){n.updateDescriptionHeight(),n.focusTitle()})},e.prototype.loadSlack=function(t){var n=this,e=t.account,o=!!e&&e.features.includes(b.a.SLACK_INTEGRATION)&&e.integrations&&e.integrations.includes(u.a.SLACK);return o&&!t.template&&t.account&&a.a.accounts.selectById(t.account.id).integration.slack.getChannels().then(function(e){return n.slackResolve(t,e)}).catch(function(){n.slackAvailable=!1,n.$scope.safeApply()}),this.slackInstalled=e.installedApplications.some(function(t){return t.application.appKey===_.a.SLACK}),this.slackChecked=o&&t.integrations&&t.integrations.SLACK&&t.integrations.SLACK.active||!1,this.slackAvailable=o,this.slackInstalled&&(N().achievements.isOpened(O.a.SLACK_HELPFUL_TIP)||a.a.integrations.get().then(function(t){t.SLACK||Object(A.a)().trigger(O.a.SLACK_HELPFUL_TIP,"use_old_slack")})),t},e.prototype.slackResolve=function(t,n){var e,o=t.integrations&&t.integrations.SLACK&&t.integrations.SLACK.channel||null,a=t.integrations&&t.integrations.SLACK&&t.integrations.SLACK.active||null,i=n.map(function(t){return{value:t.id,caption:"#"+t.name,general:t.is_general}});o&&a&&((e=i.find(function(t){return t.value==o}))||(this.slackChecked=!1,this.toggleSlack(!0).then(function(){return L().show("Slack notifications are no longer available for this board because the Slack channel is archived")}))),e||(e=i.find(function(t){return t.general})),this.slackChannels=i,this.slackSelected=e,this.$scope.safeApply()},e.prototype.saveTitle=function(){var t=this;if(this.board&&this.board.title!=this.oldTitle){this.board.title=this.board.title||"Untitled";var n={title:this.board.title};L().processPromise({promise:a.a.boards.selectById(this.params.boardId).set(n),waitingMessage:"Saving\u2026",successMessage:"Saved",successCallback:function(){l.Bh(),t.oldTitle=t.board.title,t.dispatchChangedParams(n),Object(f.a)(t.board.title)}})}},e.prototype.saveDescription=function(){var t=this;if(this.board&&this.board.description!==this.oldDescription){var n={description:this.board.description};L().processPromise({promise:a.a.boards.selectById(this.params.boardId).set(n),waitingMessage:"Saving\u2026",successMessage:"Saved",successCallback:function(){t.oldDescription=n.description,t.dispatchChangedParams(n)}})}},e.prototype.onProjectClicked=function(){var t=this,n=this.board.account;this.inCurrentAccountProjectsAvailable?Object(I.a)().then(function(e){e.showMoveBoardToProjectModal({boardId:t.params.boardId,sendNotification:!v.qb(n),showAsSubModal:!0}).submitted.addOnce(function(n){t.board.project=n,t.dispatchChangedParams({project:n})})}):Object(j.a)(function(){return Object(B.f)()}).then(function(t){return t.showShopWindowModal({account:n,statReason:l.f.StatFeatureList.create_project,fromLockedPlace:!0,upgradeReason:y.a.CREATE_PROJECT})})},e.prototype.onBeforeClose=function(){this.saveTitle(),this.saveDescription()},e.prototype.getProjectName=function(){return this.board?this.board.project?this.board.project.title:"None":""},e.prototype.toggleSlack=function(t){return Object(o.b)(this,void 0,void 0,function(){var n,e,i,r=this;return Object(o.e)(this,function(o){switch(o.label){case 0:return[4,N().getAccountAsync(this.board.account.id)];case 1:return n=o.sent(),e=a.a.boards.selectById(this.params.boardId).integration.slack,i=t?e.deactivate():e.activate(),t&&n&&n.expired?this.addToSlackExpired(n):(t?i.then(function(){return L().show("Comments from this board will no longer be available in \u200bSlack")}):i.then(function(){V().sendEvent("Connect_board_with_slack_channel"),L().show("Comments from this board will be sent to "+r.slackSelected.caption)}),i.catch(function(t){L().showErrorByData(t),r.slackAvailable=!1,r.$scope.safeApply()})),[2,i]}})})},e.prototype.addToSlackExpired=function(t){var n=this,e={admin:"",name:t.title};t.currentUserPermission&&t.currentUserPermission.role!==m.a.ADMIN?a.a.accounts.selectById(t.id).teamAdmins().findFirst().then(function(o){e.admin=o&&o.email||"",n.activateSlackExpiredModal(e,t)}):this.activateSlackExpiredModal(e,t)},e.prototype.activateSlackExpiredModal=function(t,n){var e=this;Object(j.a)(function(){return Object(B.f)()}).then(function(o){var a=o.showSlackTeamExpiredModal(t);a.canceled.addOnce(function(){return e.reopen()}),a.submitted.addOnce(function(){var t=Object(w.c)(n,l.f.StatFeatureList.slack_integration);l.f.clickUpgrade(t),Object(M.a)().sendApiEvent("click_upgrade",t)}),a.submitted.addOnce(function(){o.resubscribeTeam(n,n.limits.usersPerAccount)})})},e.prototype.reopen=function(){var t=this;setTimeout(function(){return U().show(Object(E.a)(t.params))})},e.prototype.setSlackChannel=function(t){this.slackSelected=t,a.a.boards.selectById(this.params.boardId).integration.slack.setChannel(t.value).then(function(){return L().show("Comments from this board will be sent to "+t.caption)}).catch(function(t){return L().showErrorByData(t)})},e.prototype.openShareModal=function(){var t=this;Object(j.a)(function(){return Object(S.b)()}).then(function(n){n.showShareBoardModal(t.board,"board_info"),n.sendShareClickedStat(t.board,"board name card")})},e.prototype.openDuplicateModal=function(){var t=this;Object(T.a)().then(function(n){n.showDuplicateModal(t.board,!!t.board.demo)})},e.prototype.deleteBoard=function(){var t=this;Object(T.a)().then(function(n){n.deleteBoard(t.board.id)}),this.submit()},e.prototype.leaveBoard=function(){var t=this;Object(T.a)().then(function(n){return n.showLeaveModal(t.board.id)}).then(function(){t.cancel()})},e.prototype.setPicture=function(t){var n=this;this.avatarEnabled=!1,L().processPromise({promise:Object(T.a)().then(function(e){return e.updateBoardPicture(n.board.id,t[0])}),waitingMessage:"Loading\u2026",successMessage:"Board cover updated",successCallback:function(t){var e={picture:t};n.board.picture=e.picture,n.avatarEnabled=!0,n.$scope.$digest(),n.dispatchChangedParams(e)}})},e.prototype.makeBoardPreview=function(){Object(C.a)().then(function(t){t.showMakeBoardPreviewModal()}),n.prototype.cancel.call(this)},e.prototype.cancel=function(){n.prototype.cancel.call(this),this.saveTitle(),this.saveDescription()},e.prototype.dispatchChangedParams=function(t){var n=this.params.boardId;R.a.instance&&R.a.instance.getSignals().ui.dashboard.boardInfoUpdated({boardId:n,changedParams:t}),Object(k.a)().isBoardOpened()&&C.a.instance&&C.a.instance.updateCurrentBoardInfo(n,t,!1)},e}(i.b);n.a=z}).call(this,e(36))},4294:function(t,n,e){var o=e(4295);"string"===typeof o&&(o=[[t.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};e(24)(o,a);o.locals&&(t.exports=o.locals)},4295:function(t,n,e){(t.exports=e(23)(!1)).push([t.i,".board-info-modal {\n  top: 49px;\n  left: 65px;\n  transform: translateX(0) translateY(0);\n}\n.board-info-modal:not(.md-centered) .md-content {\n  transform-origin: top left;\n}\n.board-info-modal .md-content {\n  width: 540px;\n  min-height: 338px;\n  font-size: 13px;\n  padding: 40px 42px 36px 40px;\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\n}\n.board-info-modal .md-content__picture {\n  float: left;\n  width: 160px;\n  height: 160px;\n  position: relative;\n}\n.board-info-modal .md-content__picture img {\n  border-radius: 4px;\n  box-sizing: border-box;\n  border: 1px solid #f0f0ef;\n  width: 160px;\n  height: 160px;\n}\n.board-info-modal .md-content__picture .ui-upload {\n  display: none;\n}\n.board-info-modal .md-content__picture--editable {\n  cursor: pointer;\n}\n.board-info-modal .md-content__picture--editable:hover img {\n  border-color: #95a5a6;\n}\n.board-info-modal .md-content__picture--editable .ui-upload {\n  display: block;\n}\n.board-info-modal .md-content__info {\n  width: 270px;\n  float: right;\n  color: #4a4a4a;\n  margin-top: -11px;\n}\n.board-info-modal .md-content__info--loading {\n  visibility: hidden;\n}\n.board-info-modal .md-content__info .table {\n  margin-top: 20px;\n}\n.board-info-modal .md-content__info .table .tr {\n  line-height: 24px;\n}\n.board-info-modal .md-content__info .table .th {\n  width: 100px;\n  color: #95a5a6;\n}\n.board-info-modal .md-content__info .table .td {\n  white-space: nowrap;\n  max-width: 170px;\n  text-overflow: ellipsis;\n  overflow-x: hidden;\n}\n.board-info-modal .md-content__slack-toggle {\n  float: left;\n  margin-top: 12px;\n}\n.board-info-modal .md-content__slack {\n  height: 40px;\n  color: #4a4a4a;\n  margin-top: 20px;\n}\n.board-info-modal .md-content__slack-icon,\n.board-info-modal .md-content__slack-text {\n  float: left;\n  display: inline-block;\n}\n.board-info-modal .md-content__slack-icon {\n  margin: 12px 8px 0 16px;\n}\n.board-info-modal .md-content__slack-text {\n  margin-top: 12px;\n}\n.board-info-modal .md-content__slack .ui-select {\n  float: right;\n  margin-top: 5px;\n}\n.board-info-modal .md-content__slack .ui-select__triangle .icon {\n  padding: 13px 9px 0 0;\n}\n.board-info-modal .md-content__slack .ui-select__select-wrapper {\n  border-color: transparent;\n  background-color: rgba(149, 165, 166, 0.1);\n}\n.board-info-modal .md-content__slack .ui-select select {\n  height: 30px;\n  font-size: 13px;\n}\n.board-info-modal .md-content__buttons {\n  margin-top: 28px;\n}\n.board-info-modal .md-content__buttons-right {\n  float: right;\n}\n.board-info-modal .md-content__buttons .ui-button {\n  height: 36px;\n  margin-top: 0;\n  color: #4a4a4a;\n  border: 1px solid #cad2d2;\n}\n.board-info-modal .md-content__buttons .ui-button--delete,\n.board-info-modal .md-content__buttons .ui-button--leave {\n  float: left;\n}\n.board-info-modal .md-content__buttons .ui-button--slack,\n.board-info-modal .md-content__buttons .ui-button--share,\n.board-info-modal .md-content__buttons .ui-button--duplicate {\n  margin-left: 7px;\n}\n.board-info-modal .md-content__buttons .ui-button--slack:hover,\n.board-info-modal .md-content__buttons .ui-button--share:hover,\n.board-info-modal .md-content__buttons .ui-button--duplicate:hover {\n  border-color: #95a5a6;\n}\n.board-info-modal .md-content__buttons .ui-button--delete:hover,\n.board-info-modal .md-content__buttons .ui-button--leave:hover {\n  border-color: #e0a3a3;\n}\n.board-info-modal .md-content__buttons .ui-button--delete:hover .ui-button__caption,\n.board-info-modal .md-content__buttons .ui-button--leave:hover .ui-button__caption {\n  color: #cc6666;\n}\n.board-info-modal .md-content__buttons .ui-button__caption {\n  font-size: 13px;\n  line-height: 34px;\n}\n.board-info-modal .md-content__buttons .ui-button--slack .ui-button__icon {\n  padding: 8px 0 0 5px;\n}\n.board-info-modal .md-content .project-title {\n  cursor: pointer;\n  border-bottom: 1px dotted #827f9b;\n}\n.board-info-modal .md-content .board-info-title {\n  width: 100%;\n  height: 40px;\n  font-size: 20px;\n  font-family: Formular, sans-serif;\n  font-size: 24px;\n  font-weight: 500;\n}\n.board-info-modal .md-content .board-info-description {\n  width: 100%;\n  height: auto;\n  font-size: 13px;\n  resize: none;\n  margin-top: 14px;\n  padding: 6px 0;\n  max-height: 180px;\n  overflow-x: hidden;\n  /*by default, FF adds height to the textarea to reserve place for horizontal scrollbar*/\n}\n.board-info-modal--template {\n  left: 138px;\n}\n.board-info-modal--template .md-content {\n  width: 630px;\n  min-height: 260px;\n}\n.board-info-modal--template .md-content__picture {\n  width: 248px;\n  height: 180px;\n  text-align: center;\n  border: solid 1px #d9d9d9;\n}\n.board-info-modal--template .md-content__picture:hover {\n  border-color: #cdccd7;\n}\n.board-info-modal--template .md-content__picture img {\n  border: none;\n  max-width: 206px;\n  max-height: 139px;\n  width: auto;\n  height: auto;\n  position: absolute;\n  margin: auto;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n.board-info-modal--template .md-content__info .table {\n  margin-top: 38px;\n}\n",""])},4296:function(t,n){t.exports='<rtb-modal-old class="board-info-modal" ng-class="{\'board-info-modal--template\': modal.isTemplate}">\n    <div class="md-content__picture" ng-class="{\'md-content__picture--editable\': modal.canEditInfo}">\n        <img ng-src="{{modal.isTemplate ? modal.board.picture.image : modal.board.picture.size210}}" alt=""/>\n        <ui-upload on-select="modal.setPicture($files)" accept="\'image/jpeg,image/png,image/gif,image/bmp\'"></ui-upload>\n        <a ng-show="modal.boardPreviewEnabled && modal.canEditInfo" hm-tap="modal.makeBoardPreview()">Select preview area</a>\n        <ui-loader show="loading"></ui-loader>\n    </div>\n\n    <div class="md-content__info" ng-class="{\'md-content__info--loading\': !modal.loaded}">\n        <input class="board-info-title rtb-input rtb-input--light" ng-model="modal.board.title" ng-readonly="!modal.canEditInfo" ng-blur="modal.saveTitle()">\n        <textarea class="board-info-description rtb-input rtb-input--light"\n                  ng-model="modal.board.description"\n                  ng-blur="modal.saveDescription()"\n                  placeholder="Description"\n                  rows="1">\n        </textarea>\n\n        <div class="table all">\n            <div class="tr">\n                <div class="th">Owner</div>\n                <div class="td" ng-bind-html="modal.board.ownerName"></div>\n            </div>\n\n            <div class="tr">\n                <div class="th">Created</div>\n                <div class="td"><relativedate value="modal.board.createdAt" absolute-format="\'MMM, DD\'", relative-format="\'\'"></relativedate></div>\n            </div>\n\n            <div class="tr">\n                <div class="th">Last modified</div>\n                <div class="td"><relativedate value="modal.board.updatedAt" absolute-format="\'MMM, DD\'", relative-format="\'\'"></relativedate></div>\n            </div>\n            <div class="tr"\n                 ng-if="!modal.board.template"\n                 ng-show="modal.projectSettingsVisible">\n                <div class="th">Project</div>\n                <div class="td" hm-tap="modal.onProjectClicked()">\n                    <span class="project-title">{{ modal.getProjectName() }}</span>\n                </div>\n            </div>\n\n        </div>\n    </div>\n\n    <div class="clear"></div>\n\n    <div class="md-content__slack" ng-if="modal.slackInstalled && modal.slackAvailable && !modal.board.template">\n        <rtb-toggle class="md-content__slack-toggle"\n                    checked="modal.slackChecked"\n                    on-change="modal.toggleSlack(modal.slackChecked)"></rtb-toggle>\n\n        <icon class="md-content__slack-icon" icon-name="\'application--slack-18\'"></icon>\n        <span class="md-content__slack-text">Send comments to Slack</span>\n\n        <ui-select-old options="modal.slackChannels" selected="modal.slackSelected" width="220" select-disabled="viewMode"\n                   on-selected="modal.setSlackChannel(option)" ng-show="modal.slackChecked && modal.slackChannels"></ui-select-old>\n\n        <div class="clear"></div>\n    </div>\n\n    <div class="md-content__buttons" ng-if="!modal.board.template">\n        <ui-button-old class="ui-button--delete" caption="\'Delete\'" ng-show="modal.canDelete" width="70"\n                   hm-tap="modal.deleteBoard()"></ui-button-old>\n        <ui-button-old class="ui-button--leave" caption="\'Leave\'" ng-show="modal.canLeave" width="70"\n                   hm-tap="modal.leaveBoard()"></ui-button-old>\n\n        <div class="md-content__buttons-right">\n            <ui-button-old class="ui-button--duplicate" caption="\'Duplicate\'" ng-show="modal.canDuplicate" width="90"\n                       hm-tap="modal.openDuplicateModal()"></ui-button-old>\n            <ui-button-old class="ui-button--share" caption="\'Share\'" ng-show="modal.canInvite" width="70"\n                       hm-tap="modal.openShareModal()"></ui-button-old>\n        </div>\n\n        <div class="clear"></div>\n    </div>\n</rtb-modal-old>'},4297:function(t,n,e){"use strict";(function(t){var o=e(21),a=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(o.d)(e,n),e.prototype.init=function(){var n=t.element(document).injector().get("$sce");this.text=n.trustAsHtml(this.params.text)},e.prototype.onTextClicked=function(t){var n=this;if(this.params.onTextClicked){var e=this.params.onTextClicked(t);Promise.resolve(e).then(function(t){t&&n.submit()})}},e.prototype.submit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.params.submitCallback?this.params.submitCallback()||n.prototype.submit.call(this):n.prototype.submit.apply(this,t)},e}(e(48).b);n.a=a}).call(this,e(186))},4298:function(t,n,e){t.exports='<rtb-modal class="rtb-modal--center rtb-modal--medium board-cannot-be-create-modal">\n    <rtb-modal-close-button hm-tap="modal.cancel()"></rtb-modal-close-button>\n    <div class="rtb-modal-container__content rtb-modal-content">\n        <div class="rtb-modal-content__header rtb-modal-header">\n            <div class="rtb-modal-header__title rtb-modal-title">\n                <svg   \n                     class="rtb-modal-title__icon rtb-icon--primary"><use xlink:href="'+e(157)+'"></use></svg>\n                <div class="rtb-modal-title__text"> Board cannot be created</div>\n            </div>\n        </div>\n        <div class="rtb-modal-content__body rtb-modal-body">\n            <div clickable-text="modal.onTextClicked($clickedElementName)"\n                 ng-bind-html="modal.text"></div>\n        </div>\n        <div class="rtb-modal-content__actions rtb-modal-actions" ng-if="!!modal.params.submitButtonCaption">\n            <button class="rtb-btn rtb-btn--primary rtb-btn--medium"\n                    ng-bind="modal.params.submitButtonCaption"\n                    hm-tap="modal.submit()"></button>\n            <button class="rtb-btn rtb-btn--secondary rtb-btn--medium"\n                    hm-tap="modal.cancel()">Cancel</button>\n        </div>\n    </div>\n</rtb-modal>\n'},4299:function(t,n){t.exports='<rtb-modal class="rtb-modal--center rtb-modal--small duplicate-modal">\n    <rtb-modal-close-button hm-tap="modal.cancel()"></rtb-modal-close-button>\n    <div class="rtb-modal-container__content rtb-modal-content">\n        <div class="rtb-modal-content__header rtb-modal-header">\n            <div class="rtb-modal-header__title rtb-modal-title">\n                {{modal.caption}}\n            </div>\n        </div>\n        <div class="rtb-modal-content__body rtb-modal-body">\n            <div class="rtb-modal-body__row">\n                <div class="rtb-input-field rtb-input-field--small">\n                    <label>Enter a new board name:</label>\n                    <input type="text"\n                           class="rtb-input rtb-input--primary rtb-input--fluid focus-target"\n                           placeholder="Type here"\n                           ng-model="modal.params.title"\n                           data-autotest-id="duplicate-modal__name-input"\n                           ng-disabled="modal.waiting">\n                </div>\n            </div>\n            <div class="rtb-modal-body__row">\n                <div class="rtb-input-field rtb-input-field--small" ng-show="modal.accountSelectVisible">\n                <label>Choose a space:</label>\n                <rtb-select ng-show="modal.accountSelectVisible"\n                            ng-model="modal.selectedAccountId"\n                            class="rtb-select--secondary-bordered rtb-select--medium rtb-select--fluid"\n                            data-autotest-id="duplicate-modal__space-select"\n                            options="modal.getAccountsOptions()"></rtb-select>\n                </div>\n            </div>\n            <div class="rtb-modal-body__row" ng-show="modal.projectCheckboxVisible">\n                <rtb-checkbox\n                        checked="modal.copyInTheSameProject"\n                        data-autotest-id="duplicate-modal__create-copy-checkbox"\n                        label="\'Create copy in the same project\'"></rtb-checkbox>\n            </div>\n            <div class="rtb-modal-body__row" ng-show="modal.isCheckboxVisible()">\n                <rtb-checkbox\n                        checked="modal.copyPermissions"\n                        data-autotest-id="duplicate-modal__share-checkbox"\n                        label="\'Share it with the same people\'"></rtb-checkbox>\n            </div>\n        </div>\n        <div class="rtb-modal-content__actions rtb-modal-actions">\n            <button class="rtb-btn rtb-btn--primary rtb-btn--medium"\n                    ng-class="{\'rtb-btn--disabled\': modal.params.title.length == 0}"\n                    hm-tap="modal.submit()"\n                    data-autotest-id="duplicate-modal__copy-button"\n                    ng-hide="modal.waiting">Copy</button>\n            <button class="rtb-btn rtb-btn--secondary rtb-btn--medium"\n                    hm-tap="modal.cancel()"\n                    data-autotest-id="duplicate-modal__cancel-button"\n                    ng-hide="modal.waiting">Cancel</button>\n            <div ng-show="modal.waiting">Waiting...</div>\n        </div>\n    </div>\n</rtb-modal>\n'},4300:function(t,n,e){t.exports='<rtb-modal class="rtb-modal--center rtb-modal--medium move-board-modal">\n    <div class="rtb-modal-container__content rtb-modal-content">\n        <div class="rtb-modal-content__header rtb-modal-header">\n            <div class="rtb-modal-header__title rtb-modal-title">\n                <svg    class="rtb-modal-title__icon rtb-icon--primary"><use xlink:href="'+e(157)+'"></use></svg>\n                <div class="rtb-modal-title__text">Leave this board?</div>\n            </div>\n\n        </div>\n        <div class="rtb-modal-content__body rtb-modal-body">\n            <p>If you leave the board, you will lose access to it. <br>This action cannot be undone. Leave anyway?</p>\n        </div>\n        <div class="rtb-modal-content__actions rtb-modal-actions">\n            <button class="rtb-btn rtb-btn--primary rtb-btn--medium"\n                    hm-tap="modal.submit()"\n                    data-autotest-id="leave-board-modal__submit-button">Leave</button>\n            <button class="rtb-btn rtb-btn--secondary rtb-btn--medium"\n                    hm-tap="modal.cancel()"\n                    data-autotest-id="leave-board-modal__cancel-button">\n                Cancel\n            </button>\n        </div>\n    </div>\n</rtb-modal>'},525:function(t,n,e){"use strict";n.a={SLACK:"SLACK",JIRA:"JIRA",JIRACARDS:"JIRA_CARDS",RALLY:"RALLY"}},536:function(t,n,e){"use strict";e.d(n,"a",function(){return a});var o=e(25);function a(){Object(o.b)().directive("uiButtonOld",i)}function i(){return{replace:!0,restrict:"E",template:e(1453),scope:{icon:"=",width:"=",caption:"=",ngDisabled:"="}}}},5567:function(t,n,e){"use strict";e.r(n);var o=e(21),a=e(733),i=e(26),r=e(32),c=e(72),s=e(35),d=e(321),l=e(209),u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(o.d)(n,t),n.prototype.submit=function(){var n=this,e=this.params.inputValue;if(e.length>0){var o={title:e};Object(s.a)().processPromise({promise:r.a.boards.selectById(this.params.boardId).set(o),waitingMessage:"Saving\u2026",successMessage:"Saved",successCallback:function(){i.Bh(),n.params.renameBoardBeforeSharing&&i.Ch();var t=n.params.boardId;l.a.instance&&l.a.instance.getSignals().ui.dashboard.boardInfoUpdated({boardId:t,changedParams:o}),Object(c.a)().isBoardOpened()&&d.a.instance&&d.a.instance.updateCurrentBoardInfo(t,o,!1)}}),t.prototype.submit.call(this,e)}},n}(a.a),b=e(46),m=e(44),p=e(62),h=e(67),f={caption:"Rename board",label:"Enter a new board name:",submitButtonCaption:"Ok",cancelButtonCaption:"Cancel",placeholder:"Type here",enableSubmitByEnter:!0},v={caption:"Give your board a title",text:"Please name the board before inviting participants:",submitButtonCaption:"Save",cancelButtonCaption:"Skip",placeholder:"Type here",enableSubmitByEnter:!0,renameBoardBeforeSharing:!0},_=e(48),g=e(33),y=e(117),w=e(45),A=e(237),O=s.b(),E=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.waiting=!1,n.emailsIsVisible=!1,n}return Object(o.d)(n,t),n.prototype.init=function(){this.account=this.params.account,this.originAccount=this.params.originAccount,this.boardInfo=this.params.boardInfo,this.emails=this.params.emails,this.downloadUrl="/api/v1/boards/"+this.boardInfo.id+"/not-moved-members?accountId="+this.account.id},n.prototype.viewEmails=function(){this.emailsIsVisible=!0},n.prototype.copyEmails=function(){Object(A.a)(this.emails.data.toString(),{notifications:{successMessage:this.emails.size+" emails have been copied to clipboard"}})},n.prototype.submit=function(){var n=this;this.waiting=!0,O().processPromise({promise:r.a.boards.selectById(this.boardInfo.id).attachToAccount(this.account.id,!0),waitingMessage:"Waiting\u2026",successMessage:"Board has been moved",successCallback:function(){i.Lg(n.originAccount,n.account),l.a.instance&&l.a.instance.getSignals().ui.dashboard.boardMoved(),t.prototype.submit.call(n)}})},n}(_.b),I=e(34),C=s.b(),T=w.b(),x=function(t){function n(){var n=t.call(this)||this;return n.waiting=!1,n.accounts=Object(I.a)().accounts,n.accountsOptions=n.accounts.filter(function(t){return!!t.currentUserPermission}).map(function(t){return{key:n.getAccountTitle(t),value:t.id,disabled:t.expired||!Object(g.Q)(t,y.a.IMPORT_BOARD)}}),n}return Object(o.d)(n,t),n.prototype.init=function(){var t=this;r.a.boards.selectById(this.params.boardId).get({fields:"id,title,account"}).then(function(n){t.boardInfo=n,t.originalAccountId=t.selectedAccountId=n.account.id,t.$scope.$digest()}).catch(function(n){C().showErrorByData(n),t.cancel()})},n.prototype.getAccountTitle=function(t){return g.E(t)},n.prototype.getSelectedAccount=function(){var t=this;return this.accounts.find(function(n){return n.id===t.selectedAccountId})},n.prototype.getOriginalAccount=function(){var t=this;return this.accounts.find(function(n){return n.id===t.originalAccountId})},n.prototype.submit=function(){var n=this;this.originalAccountId===this.selectedAccountId?t.prototype.submit.call(this):(this.waiting=!0,C().processPromise({promise:r.a.boards.selectById(this.params.boardId).attachToAccount(this.selectedAccountId),waitingMessage:"Waiting\u2026",successCallback:function(a){var r;a.emails?T().show((r={boardInfo:n.boardInfo,account:n.getSelectedAccount(),originAccount:n.getOriginalAccount(),emails:a.emails},Object(p.a)(),Object(h.a)(),e(4289),b.a(m.a.MOVE_BOARD_RESULT,E,e(4291),Object(o.a)({enableSubmitByEnter:!0},r)))):(i.Lg(n.getOriginalAccount(),n.getSelectedAccount()),C().show("Board has been moved"),l.a.instance&&l.a.instance.getSignals().ui.dashboard.boardMoved(),t.prototype.submit.call(n))}}))},n.$inject=["signals"],n}(_.b),k=e(376),B=e(2136),j=e(167),S=e.n(j),P=e(721),R=e(114),D=e(106),M=e(52),L=e(168),N=e(63),U=e(124),V=e(104),$=e(64),W=e(77),z='The <b class="break-word">%teamTitle%</b> team subscription has expired, and you can\'t create boards within this team.\nTo create a new board, please renew your subscription.',F='The <b class="break-word">%teamTitle%</b> team subscription has expired, and you can\'t create boards within this team.\nTo create a new board,please ask the account administrator at&nbsp;<b class="break-word">%adminEmail%</b> to resubscribe.',H='The <b class="break-word">%teamTitle%</b> account has been paused, and you can\'t create boards within this account.\nTo create a new board, please choose your plan.',K='The <b class="break-word">%teamTitle%</b> account has been paused, and you can\'t create boards within this account.\nTo create a new board, please ask the account administrator at&nbsp;<b class="break-word">%adminEmail%</b> to log in and choose a plan.',Y="Your <b>Personal</b> account has been paused, and you can't create boards within this account.\nTo create a new board, please choose your plan.",J='Your <b class="break-word">%teamTitle%</b> account has reached the limit of&nbsp;%boardsLimit% boards available for your team in the Free plan.\n<u class="rtb-link rtb-link--primary" clickable-element="details">See details.</u><br><br>\nPlease delete one of the boards to create a new one, or upgrade to get access to unlimited boards and advanced features.',G="You have reached the limit of&nbsp;3 boards available in the Free account.\nPlease delete one of your boards to create a new one, or upgrade to get access to unlimited boards and advanced features.",Q="Renew subscription",X="Choose a plan",q="Upgrade",Z='Your <b class="break-word">%teamTitle%</b> account has reached the limit of&nbsp;%boardsLimit% boards. Please delete one of the boards to create a new one.';var tt=!1;var nt=e(71),et=e(169),ot=e(236),at=e(322),it=e(265),rt=e(60),ct=e(4297),st=e(1125),dt=function(t){return Object(p.a)(),Object(h.a)(),Object(st.a)(),b.a(m.a.BOARD_CANNOT_BE_CREATED,ct.a,e(4298),t)},lt=e(110),ut=e(99),bt=e(621),mt=Object(bt.a)(),pt=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.caption="Copy board in account",n.waiting=!1,n.accounts=Object(ut.c)("user.accounts"),n.accountSelectVisible=!1,n}return Object(o.d)(n,t),n.prototype.init=function(){var t=this;this.params.caption&&(this.caption=this.params.caption),r.a.boards.selectById(this.params.boardId).get({fields:"title,account{id,features},project"}).then(function(n){t.boardInfo=n,t.originalAccountId=n.account.id,t.selectedAccountId=t.getInitAccountId(t.originalAccountId),t.accountSelectVisible=t.params.mustChooseAccount||t.originalAccountId!==t.selectedAccountId,t.projectCheckboxVisible=!!n.project&&Object(g.Q)(n.account,y.a.PROJECTS),t.originalBoardTitle=n.title,t.params.title="Copy of "+n.title,t.$scope.$digest()}).catch(function(n){Object(s.a)().showErrorByData(n),t.cancel()})},n.prototype.getInitAccountId=function(t){if(this.getAccounts().some(function(n){return n.id===t}))return t;var n=this.getAccounts();return _t(n)||n[0].id},n.prototype.getAccounts=function(){return Object(at.f)(this.accounts)},n.prototype.getAccountsOptions=function(){var t=this;return mt(this.getAccounts().map(function(n){return{key:t.getAccountTitle(n),value:n.id,disabled:n.expired}}))},n.prototype.getAccountTitle=function(t){return g.E(t)},n.prototype.isCheckboxVisible=function(){return!this.params.hideCopyPermissions&&!this.isDestinationAccountChanged()},n.prototype.isWarningVisible=function(){return!this.params.hideCopyPermissions&&this.isDestinationAccountChanged()},n.prototype.needToCopyPermissions=function(){return!this.isDestinationAccountChanged()&&!!this.copyPermissions},n.prototype.isDestinationAccountChanged=function(){return this.originalAccountId!==this.selectedAccountId},n.prototype.submit=function(){var n=this;if(this.params.title.length>0){this.waiting=!0;var e=this.copyInTheSameProject?this.boardInfo.project.id:null;Tt(this.selectedAccountId,e,this.params.boardId,this.params.title,this.needToCopyPermissions()).then(function(){return t.prototype.submit.call(n)}),this.isDestinationAccountChanged()&&i.xe()}},n}(_.b),ht=function(t){return Object(p.a)(),Object(h.a)(),b.a(m.a.DUPLICATE_BOARD,pt,e(4299),Object(o.a)({enableSubmitByEnter:!0},t))},ft=e(405),vt=e(163);function _t(t,n){void 0===n&&(n=!0);var e=t.filter(function(t){return!t.expired&&g.c(t)&&!g.sb(t)&&(n||Object(at.b)(t))}).sort(g.Ib)[0],o=t.filter(function(t){return g.sb(t)&&g.c(t)})[0];return e?e.id:o?o.id:null}function gt(t){r.a.accounts.selectById(t).get({fields:"id,currentUserPermission,usersNumber,title,limits,expired,type,role,trial,boardsNumber"}).then(function(t){t&&et.c(t).then(function(n){Object(w.a)().show(dt(function(t,n){if(!N.a.upgradeIsSupported)return{text:Z.replace("%teamTitle%",t.title).replace("%boardsLimit%",t.limits.boardsPerAccount.toString())};if(t.expired){if(i.ob("expired"),t.type===R.a.TEAM){if(t.role===D.a.ADMIN)return{text:z.replace("%teamTitle%",t.title),submitButtonCaption:Q,submitCallback:function(){var n=Object(L.c)(t,i.f.StatFeatureList.board_cannot_be_create);i.f.clickUpgrade(n),Object(W.a)().sendApiEvent("click_upgrade",n),Object(V.a)(function(){return Object($.f)()}).then(function(n){return n.buyExistingTeam(t)})}};if(t.role===D.a.USER)return{text:F.replace("%teamTitle%",t.title).replace("%adminEmail%",n)};throw new Error("showCanNotCreateBoardModal called in wrong case")}if(t.type===R.a.PAID_TEAM||t.type===R.a.EDUCATION_TEAM){if(g.o(t))return{text:H.replace("%teamTitle%",t.title),submitButtonCaption:X,submitCallback:function(){Object(V.a)(function(){return Object($.f)()}).then(function(n){return n.getPaymentModal(t)})}};if(t.role===D.a.USER)return{text:K.replace("%teamTitle%",t.title).replace("%adminEmail%",n)};throw new Error("showCanNotCreateBoardModal called in wrong case")}if(t.type===R.a.EDUCATION||t.type===R.a.PREMIUM||t.type===R.a.NEW_PREMIUM)return{text:Y.replace("%teamTitle%",t.title),submitButtonCaption:Q,submitCallback:function(){Object(V.a)(function(){return Object($.f)()}).then(function(n){return n.getPaymentModal(t)})}};throw new Error("showCanNotCreateBoardModal called in wrong case")}if(t.boardsNumber>=t.limits.boardsPerAccount){if(i.ob("boardsLimitsExceeded"),t.type===R.a.FREE_TEAM){if(g.p(t))return{text:J.replace("%teamTitle%",t.title).replace("%boardsLimit%",t.limits.boardsPerAccount.toString()),submitButtonCaption:q,submitCallback:function(){Object(V.a)(function(){return Object($.f)()}).then(function(n){return n.buyExistingTeam(t)})},onTextClicked:function(n){"details"===n&&M.A(t.id).openInNewTab()}};throw new Error("showCanNotCreateBoardModal called in wrong case")}if(t.type===R.a.FREE||t.type===R.a.NEW_FREE)return{text:G,submitButtonCaption:q,submitCallback:function(){var n=Object(L.c)(t,i.f.StatFeatureList.board_cannot_be_create);i.f.clickUpgrade(n),Object(W.a)().sendApiEvent("click_upgrade",n),Object(V.a)(function(){return Object($.f)()}).then(function(n){return n.openPricing(t)})}};throw new Error("showCanNotCreateBoardModal called in wrong case")}throw new Error("showCanNotCreateBoardModal called in wrong case. account.expired: "+t.expired+"  account.boardsNumber: "+t.boardsNumber+" account.limits.boardsPerAccount: "+t.limits.boardsPerAccount+" account.type:"+t.type+" Round 1")}(t,n)))})})}function yt(t,n){return N.a.upgradeIsSupported?new Promise(function(e,o){lt.c(),Object($.f)().then(function(a){var r=a.showShopWindowModal({upgradeReason:ot.a.BOARD_WILL_BE_INACTIVE_CREATE,statReason:n.limits.activeBoardsPerAccount-n.boardsNumber===0?i.f.StatFeatureList.over_boards_limit_popup:i.f.StatFeatureList.last_board_limit_popup,account:n,extendActionText:"Create a board anyway",onExtendActionClick:function(){e({boardLimitHasExceeded:!0}),r.canceled.remove(o),r.cancel()},board:t});r.canceled.addOnce(o)})}):new Promise(function(n,e){var o={title:"You are over boards limit",text:'If you create a new board, "'+t.title+'" board will become view-only.',info:!0,submitButton:{caption:"Create a board anyway"}},a=Object(w.a)().show(Object(vt.a)(o));a.submitted.addOnce(function(){n({boardLimitHasExceeded:!0})}),a.canceled.addOnce(e)})}function wt(t,n){if(n&&null!==n.templateId||Object(I.a)().achievements.isOpened(rt.a.PRIVATE_BOARDS_TIP))return Promise.resolve();var e={filter:nt.b.OWNER,attachment:t.id};return r.a.boards.array(e).includes().catch(function(){}).then(function(n){return n?function(t){return N.a.upgradeIsSupported?new Promise(function(n,e){var o=Object(L.b)(t,i.f.StatFeatureList.private_board_popup);i.f.clickLockedFeature(o),Object(W.a)().sendApiEvent("click_locked_feature",o),lt.c(),Object($.f)().then(function(o){var a=o.showShopWindowModal({upgradeReason:ot.a.CREATE_PRIVATE_BOARD,statReason:i.f.StatFeatureList.private_board_popup,account:t,extendActionText:"Create a board anyway",onExtendActionClick:n});a.canceled.addOnce(e)}),Object(I.a)().achievements.open(rt.a.PRIVATE_BOARDS_TIP)}):Promise.resolve()}(t):void 0})}function At(t){return Object(at.a)(t)?Promise.resolve():(gt(t.id),Promise.reject(null))}function Ot(){return Object(s.a)().show({text:"Loading\u2026",durationInMS:0}),Promise.resolve()}function Et(t){return function(n){return t?Object(s.a)().show(t):Object(s.a)().hide(),n}}function It(t){t&&(console.error(t),Object(s.a)().showErrorByData(t))}function Ct(t){return function(n){return Object(I.a)().updateUserProfileInfo(),Object(c.a)().openBoard(n.id,!1,t),n}}function Tt(t,n,e,o,a,i,c){void 0===c&&(c=!0);var s={accountId:t};return o&&(s.title=o),Object(at.g)(t).then(function(t){return At(t)}).then(Ot).then(function(){return r.a.boards.copy(e,a,n,s)}).then(Ct(i)).then(c?Et("Board has been copied"):Et()).catch(It)}function xt(t){return r.a.boards.selectById(t).get({fields:"account{id,limits,expired,currentUserPermission,boardsNumber}"}).then(function(t){return At(t.account)}).then(Ot).then(function(){return r.a.boards.selectById(t).restore()}).then(function(){l.a.instance&&l.a.instance.getSignals().ui.dashboard.boardRestored(),Object(I.a)().updateUserProfileInfo()}).then(Et("Board restored")).catch(It)}function kt(){return i.ob("noAccounts"),Object(w.a)().show(dt({text:"You can't create a board because your profile is&nbsp;not&nbsp;connected to an active account. To create a&nbsp;board, please create your own team account.",submitButtonCaption:"Create my team",submitCallback:function(){tt||(tt=!0,Object(U.b)().then(function(t){return t.getTeam({from:"no_account",becauseOfRestrictionReached:!1})}).then(function(){return tt=!1}).catch(function(){return tt=!1}))}})),Promise.reject("no_account")}function Bt(t,n,e){return Object(at.f)(Object(I.a)().accounts).length>0?Object(I.a)().getAccountAsync(t.account.id).then(function(o){return Object(at.h)(o,jt,St()).then(function(){return function(t,n,e,o){return new Promise(function(a,r){var c=Object(w.a)().show(ht({boardId:t.id,hideCopyPermissions:e,mustChooseAccount:e,caption:o}));c.submitted.addOnce(function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];Object(it.e)(t)?a.apply(void 0,e):(i.f.duplicateInactiveBoard({plan:n&&n.type||"",user_role:n&&(n.currentUserPermission&&n.currentUserPermission.role||n.role)||"",account_id:n&&n.id||"",board_role:t.currentUserPermission.role,board_id:t.id}),a.apply(void 0,e))}),c.canceled.addOnce(r)})}(t,o,n,e)})}):kt()}function jt(t,n){return N.a.upgradeIsSupported?new Promise(function(e,o){lt.c(),Object($.f)().then(function(a){a.showShopWindowModal({upgradeReason:ot.a.BOARD_WILL_BE_INACTIVE_DUPLICATE,statReason:i.f.StatFeatureList.over_boards_limit_popup,account:n,extendActionText:"Duplicate anyway",onExtendActionClick:function(){return e({boardLimitHasExceeded:!0})},board:t}).canceled.addOnce(o)})}):new Promise(function(n,e){var o={title:"You are over boards limit",text:'If you duplicate the board, "'+t.title+'" board will become view-only.',info:!0,submitButton:{caption:"Duplicate anyway"}},a=Object(w.a)().show(Object(vt.a)(o));a.submitted.addOnce(function(){n({boardLimitHasExceeded:!0})}),a.canceled.addOnce(e)})}function St(){return N.a.upgradeIsSupported?2:1}var Pt=e(2075),Rt=e(2074),Dt=5242880,Mt=["jpg","jpeg","png","bmp"];var Lt=function(){function t(){}return t.prototype.showDetailsModal=function(t){return Object(w.a)().show(Object(B.a)(t))},t.prototype.showRenameModal=function(t){return Object(w.a)().show(function(t){Object(p.a)(),Object(h.a)();var n=t.beforeSharing?v:f;return b.a(m.a.RENAME_BOARD,u,e(4288),Object(o.a)(Object(o.a)({},n),t))}(t))},t.prototype.showMoveToAccountModal=function(t){return Object(w.a)().show(function(t){return Object(p.a)(),Object(h.a)(),Object(k.a)(),b.a(m.a.MOVE_BOARD,x,e(4292),{boardId:t,enableSubmitByEnter:!0})}(t))},t.prototype.showDuplicateModal=function(t,n,e){return Bt(t,n,e)},t.prototype.showLeaveModal=function(t){return new Promise(function(n){var a;Object(w.a)().show((void 0===a&&(a={}),Object(p.a)(),b.a(m.a.LEAVE_BOARD_CONFIRMATION,_.b,e(4300),Object(o.a)({},a)))).submitted.addOnce(function(){at.e.accessRevokedModalEnabled=!1,Object(s.a)().processPromise({promise:r.a.boards.selectById(t).leave(),waitingMessage:"Leaving the board\u2026",successMessage:"You have been removed from the board",successCallback:function(){n(),Object(c.a)().isDashboardOpened()?l.a.instance&&l.a.instance.getSignals().ui.dashboard.boardLeft():Object(c.a)().openDashboard()}})})})},t.prototype.downloadBoardBackup=function(t){!function(t){var n={urlOrBlob:"/api/v1/boards/"+t+"/?archive=true",attrs:{type:"application/octet-stream"}};Object(s.a)().show({text:"Downloading...",durationInMS:3e3}),ft.a.start(n,i.lf)}(t)},t.prototype.showModalBoardCannotBeCreatedModal=function(t){gt(t)},t.prototype.getAccountIdForNewBoard=function(t){return void 0===t&&(t=!0),function(t){return void 0===t&&(t=!0),new Promise(function(n,e){var o=_t(Object(I.a)().accounts,t);o?n(o):(kt(),e())})}(t)},t.prototype.copyBoard=function(t,n,e,o,a,i,r){return Tt(t,n,e,o,a,i,r)},t.prototype.createBoardByAccountId=function(t,n,e,o){return function(t,n,e,o){void 0===o&&(o=!0);var a=P.b()||e&&void 0!==e.templateId;return Object(at.g)(t).then(function(t){var a={showNoPermission:function(){return gt(t.id)},showAccountExpired:function(){return gt(t.id)},showBoardsLimitsReached:function(){return gt(t.id)},showThisBoardWillBecomeInactive:yt,showPrivateBoardsTrigger:function(){return wt(t,e)},onBeforeBoardCreateCalled:function(){if(o)return Ot()}};return Object(at.d)(a,t,n,{boardBecomeInactiveReportCount:St()})}).then(Ct(S()({showTemplatePicker:a},e))).then(Et()).catch(It)}(t,n,e,o)},t.prototype.updateBoardPicture=function(t,n){return function(t,n){var e=Object(Pt.b)(n,Mt,Dt);return e.valid?Rt.a(function(){return r.a.boards.selectById(t).setPicture(n)}).catch(function(t){throw Object(s.a)().showErrorByData(t),t}):Promise.reject(e.errorMessage)}(t,n)},t.prototype.deleteBoard=function(t){!function(t){at.e.boardDeletedModalEnabled=!1,Object(s.a)().processPromise({promise:r.a.boards.selectById(t).delete(),actionText:"Undo",waitingMessage:"Deleting\u2026",successMessage:"Board deleted",showDurationInMS:1e4,cancelCallback:function(){return xt(t)},successCallback:function(){Object(c.a)().isDashboardOpened()?l.a.instance&&l.a.instance.getSignals().ui.dashboard.boardDeleted({boardId:t}):Object(c.a)().openDashboard(),Object(I.a)().updateUserProfileInfo()}})}(t)},t.prototype.restoreBoard=function(t){return xt(t)},t.prototype.uploadBoard=function(t,n){return function(t,n){return Object(at.g)(t).then(function(t){return At(t)}).then(Ot).then(function(){return r.a.boards.upload(n,{accountId:t})}).then(Ct()).then(Et("Backup uploaded")).catch(function(t){t&&413===t.status?(console.error(t),Object(s.a)().showError("Sorry, the backup file is too big")):It(t)})}(t,n)},t}();n.default=new Lt},676:function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return a}),e.d(n,"b",function(){return i});var o="Online Whiteboard for Visual Collaboration";function a(n){var e=n+", "+o;t.mobile&&(e="Miro | "+e),document.title=e}function i(){document.title="Miro | "+o}}).call(this,e(0))},733:function(t,n,e){"use strict";(function(t){var o=e(21),a=e(149),i=e.n(a),r=e(411),c=e.n(r),s=e(48),d=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(o.d)(e,n),e.prototype.init=function(){if(this.headerColorClass=c()(this.params.headerColorClass)?this.params.headerColorClass:"blue",this.submitButtonClass=c()(this.params.submitButtonClass)?this.params.submitButtonClass:"btn-blue",this.cancelButtonClass=c()(this.params.cancelButtonClass)?this.params.cancelButtonClass:"modal-button_cancel",this.text=c()(this.params.value)?this.params.text.replace("%value%",i()(this.params.value)):this.params.text,this.params.values)for(var n in this.params.values)this.text=this.text.replace("%"+n+"%",i()(this.params.values[n]));var e=t.element(document).injector().get("$sce");this.text=e.trustAsHtml(this.text)},e.prototype.onTextClicked=function(t){var n=this;if(this.params.onTextClicked){var e=this.params.onTextClicked(t);Promise.resolve(e).then(function(t){t&&n.submit()})}},e.prototype.submit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.params.submitCallback?this.params.submitCallback()||n.prototype.submit.call(this):n.prototype.submit.apply(this,t)},e.prototype.cancel=function(){this.params.cancelCallback?this.params.cancelCallback()||n.prototype.cancel.call(this):n.prototype.cancel.call(this)},e}(s.b);n.a=d}).call(this,e(186))},755:function(t,n,e){"use strict";var o=function(){function t(t){t._onFocus=function(n){t.failState=!1,t.onFocus&&t.onFocus({$event:n})},t._onChange=function(){t.failState=!1,t.onChange()},t.$watch("done",function(n){n&&setTimeout(function(){t.done=!1,t.$digest()},2e3)})}return t.$inject=["$scope"],t}();n.a=o},820:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var o=e(94),a=e.n(o);function i(t,n,e){var o=a()(t);return o.isValid()?o.calendar(void 0,{lastDay:"[Yesterday]"+e,sameDay:"[Today]"+e,lastWeek:n,nextDay:n,nextWeek:n,sameElse:n}):""}}}]);
//# sourceMappingURL=BoardInfoOperations.a80ffda77790daf77d43.js.map
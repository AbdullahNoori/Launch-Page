(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{1482:function(n,e,t){"use strict";(function(n){var a=t(21),o=t(941),i=t(460),r=t(673),s=t(64),l=t(494),c=t(346),d=function(e){function t(t){var a=e.call(this,t)||this;return a.signals={loaded:new n.Signal,updated:new n.Signal},a._paymentInterval=s.d.YEARLY,a.receiver=void 0,a.receiverAfterPayment=void 0,a.canChangePaymentPeriod=!0,a.selectedValue=a.activePlan.usersSeats(Math.max(a.minAccountSize,a.activePlan.membersCount)),a.makeOptions(),a.signals.loaded.addOnce(function(){a.signals.updated.dispatch()}),a}return Object(a.d)(t,e),Object.defineProperty(t.prototype,"currentPaymentInfo",{get:function(){var n=this;if(!this.createSubscription&&this.receiver&&this.receiver.hasSubscription){var e=this.activePlan.getCurrentPaymentInfo(this.planContext.billingPlans);if(e)return e.updated.addOnce(function(){n.signals.updated.dispatch()}),e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paymentInfo",{get:function(){var n=this,e={paymentMemberCount:this.selectedValue,paymentInterval:this.paymentInterval,coupon:this.coupon,minAccountSize:this.minAccountSize,targetPlanIdent:this.getIdent(),billingPlans:this.planContext.billingPlans},t=this.currentPaymentInfo;if(t&&(this.isCurrentPlan()||Object(l.a)(this.activePlan.account.type,this.getIdent()))&&this.receiver&&this.receiver.customer){var o=new r.a(this.activePlan,this.receiver,Object(a.a)(Object(a.a)({},e),{baseOn:t}));return o.updated.addOnce(function(){n.signals.updated.dispatch()}),o}return this.getUnsubscribedPaymentInfo(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canChooseInterval",{get:function(){var n=this.currentPaymentInfo;return(!n||n.paymentInterval!==s.d.YEARLY)&&this.planContext.canChangePaymentPeriod&&this.canChangePaymentPeriod},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canChangeMemberCount",{get:function(){return this.planContext.canChangeMemberCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paymentInterval",{get:function(){var n=this.currentPaymentInfo;return n&&!this.canChooseInterval&&this.canChangePaymentPeriod?n.paymentInterval:this._paymentInterval},set:function(n){this._paymentInterval=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canToggleDayPasses",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dayPassesActivated",{get:function(){return this._dayPassesActivated},set:function(n){this._dayPassesActivated=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minAccountSize",{get:function(){var n=rtb.config.minTeamSize;if(this.planContext.billingPlans){var e=Object(l.i)(this.planContext.billingPlans,this.getIdent(),this.paymentInterval);e&&e.minTeamSize&&(n=this.planContext.requiredMemberCount&&Math.max(e.minTeamSize,this.planContext.requiredMemberCount)||e.minTeamSize)}return n},enumerable:!0,configurable:!0}),t.prototype.loadInfo=function(){var n=this;return this.receiver?null:this.activePlan.getReceiver().then(function(e){n.receiver=e})},t.prototype.makeOptions=function(){var n=[],e=Math.max(this.paymentInfo.minTeamSize,this.minAccountSize),t=100*Math.ceil(e/100);t!==e&&t!==this.paymentInfo.maxTeamSize||(t+=100);for(var a=e;a<=t;a++)n.push({value:a,key:this.getMembersCaption(a)});this.options=n},t.prototype.getMembersCaption=function(n){return 1===n?n+" member":n+" members"},Object.defineProperty(t.prototype,"lastReceiver",{get:function(){return this.receiverAfterPayment||this.receiver},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastReceiverInvoiceInfo",{get:function(){if(this.paymentInfo.totalSum){var n=this.lastReceiver,e=n&&n.customer,t=e&&e.invoices;return t&&t[0]}},enumerable:!0,configurable:!0}),t.prototype.canDoPostInvitationPayments=function(){this.paymentInfo;return this.planContext.canDoPostInvitationPayments()},Object.defineProperty(t.prototype,"informationWasUpdated",{get:function(){var n=this.currentPaymentInfo;return!n||this.paymentInfo.paymentMemberCount!==n.paymentMemberCount||n.paymentInterval!==this.paymentInfo.paymentInterval||!this.isCurrentPlan()||this.activePlan.account.expired},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"createSubscription",{get:function(){return!1},enumerable:!0,configurable:!0}),Object(a.c)([i.a],t.prototype,"selectedValue",void 0),Object(a.c)([i.a],t.prototype,"_paymentInterval",void 0),Object(a.c)([i.a],t.prototype,"_dayPassesActivated",void 0),Object(a.c)([i.a],t.prototype,"receiver",void 0),Object(a.c)([i.a],t.prototype,"receiverAfterPayment",void 0),Object(a.c)([i.a],t.prototype,"currentPaymentInfo",null),Object(a.c)([i.a],t.prototype,"paymentInfo",null),Object(a.c)([i.a],t.prototype,"canChooseInterval",null),Object(a.c)([i.a],t.prototype,"canChangeMemberCount",null),Object(a.c)([i.a],t.prototype,"paymentInterval",null),Object(a.c)([i.a],t.prototype,"canToggleDayPasses",null),Object(a.c)([i.a],t.prototype,"dayPassesActivated",null),Object(a.c)([c.a],t.prototype,"minAccountSize",null),t}(o.a);e.a=d}).call(this,t(38))},1483:function(n,e,t){"use strict";var a=t(21),o=t(941),i=t(173),r=function(n){function e(e){return n.call(this,e)||this}return Object(a.d)(e,n),e.prototype.loadInfo=function(){return null},e.prototype.getIdent=function(){return i.a.COMPANY},e.prototype.getFormModelDefault=function(){return{name:{name:"first_name",value:"",isValid:!0,isRequired:!0},company:{name:"company",value:"",isValid:!0,isRequired:!0},size:{name:"company_size",value:"",isValid:!0,isRequired:!0},email:{name:"email",value:this.activePlan.currentUserEmail,isValid:!0,isRequired:!0},phone:{name:"phone",value:"",isValid:!0,isRequired:!0},description:{name:"description",value:"",isValid:!0,isRequired:!1}}},e.prototype.getFeatures=function(){return[{text:"Multi-team setup for centralized company-wide account management"},{text:"Advanced security, including domain filtering and audit logs"},{text:"Advanced permissions and administration"},{text:"Dedicated customer success manager"},{text:"Personalized onboarding program"},{text:"Security review and MSA support"},{text:"Developer platform and API access"},{text:"Premium support",tip:"Additional paid fee."},{text:"Data Governance",tip:"Additional paid fee."}]},e.prototype.checkValidationForm=function(n){var e=!0;for(var t in n)this.checkValidationField(n[t]),e=e&&n[t].isValid;return e},e.prototype.checkValidationField=function(n){n.isRequired&&(n.isValid=""!==n.value)},e}(o.a);e.a=r},1484:function(n,e,t){"use strict";t.d(e,"c",function(){return o}),t.d(e,"d",function(){return i}),t.d(e,"e",function(){return r}),t.d(e,"b",function(){return s}),t.d(e,"a",function(){return l}),t.d(e,"h",function(){return c}),t.d(e,"f",function(){return d}),t.d(e,"g",function(){return p}),t.d(e,"i",function(){return u}),t.d(e,"j",function(){return m});var a=t(1485);function o(n,e){return e.isFree?e.expireLimits?l(n):s(n):e.expired?i(n,e):r(n,e)}function i(n,e){var t=new a.a(e),o=n.membersCount,i=n.boardsCount,r=n.paymentMemberCount,s=e.title,l=o>t.maxTeamSize||i>t.maxBoards;return encodeURIComponent("Dear All,\n\nHaving reached "+(l?"the total of ":"")+o+" "+(1===o?"user":"users")+" and "+i+" "+(1===i?"board":"boards")+(l?",":" in total,")+" our Miro trial licence has expired. It means that the "+s+" account is now paused, and all boards are available in view-only mode until we choose the next course of action.\n\nTo continue whiteboarding, we can either subscribe to the paid Team plan"+(l?", or remove extra users and delete extra boards to":" or")+" downgrade to the Free plan. A Team plan subscription for "+r+" users will go at $"+n.costPerMonthInMonthPlan+" per month, 20% off offered for a yearly subscription. To purchase a subscription, one of the admins should log in to the Miro account and follow the clues.\n\nOn the Free plan, we'd be limited to "+t.maxTeamSize+" users and "+t.maxBoards+" boards, many major features and perks of the tool would be excluded. To learn more about Team plan, follow this link: https://miro.com/team-collaboration.\n\nStarting to plan our growth, there's also the advanced Enterprise plan: https://miro.com/enterprise.\n\n")}function r(n,e){var t=n.membersCount,o=n.boardsCount,i=n.paymentMemberCount,r=new a.a(e),s=t>r.maxTeamSize||o>r.maxBoards,l=e.daysToExpiration();return encodeURIComponent("Dear All,\n\nOur free upgrade to the Team plan is coming to an end, so it's time to make up our mind on what we do next. In "+(l>1?l+" days":"one day")+" our Miro account will be paused - with all boards available in view-only mode - until we choose the next course of action.\n\nAt this point, there are 2 options to choose from: we can either subscribe to the paid Team plan or"+(s?" remove extra users and delete extra boards to":"")+" downgrade to the Free plan. A Team plan subscription for "+i+" users will go at $"+n.costPerMonthInMonthPlan+" per month, 20% off offered for a yearly subscription. If we decide to go with it, one of the admins should log in to the Miro account and follow the hints.\n\nOn the Free plan, we'd be limited to "+r.maxTeamSize+" users and "+r.maxBoards+" boards, many major features and perks of the tool would be excluded. Here you can learn more about the Team plan: https://miro.com/team-collaboration.\n\nStarting to plan our growth, there's also the advanced Enterprise plan: https://miro.com/enterprise.\n\n")}function s(n){var e=n.paymentMemberCount,t="We\u2019re currently struggling with the Free plan limits: "+n.membersCount+" out of 3 users and "+n.boardsCount+" out of 3 boards taken. Many major features and perks of the tool are excluded, and there\u2019s little room for us to be productive.\n\nHowever, we can upgrade to the full-featured Team plan, which can boast unlimited boards, unlimited guest viewers and commenters, screen sharing, manual board backup, voice and video chat, Jira integration, etc. Here you can learn more about the Team plan: https://miro.com/team-collaboration.\n\nA Team plan subscription for "+e+" users will go at $"+n.costPerMonthInMonthPlan+" per month, 20% off offered for a yearly subscription. If we decide to go with it, one of the admins should log in to the Miro account and follow the hints.\n\nStarting to plan our growth, there\u2019s also the advanced Enterprise plan: https://miro.com/enterprise.";return encodeURIComponent(t)}function l(n){var e="We\u2019ve been heavy users of our Free account, and eventually reached the Free plan limits. Having squeezed the most out of it, now we can\u2019t create any new boards or invite new collaborators to our team. \n\nHowever, we can upgrade to the full-featured Team plan, which can boast unlimited boards, unlimited guest viewers and commenters, screen sharing, manual board backup, voice and video chat, Jira integration, etc. Here you can learn more about the Team plan: https://miro.com/team-collaboration.\n\nA Team plan subscription for "+n.paymentMemberCount+" users will go at $"+n.costPerMonthInMonthPlan+" per month, 20% off offered for a yearly subscription. If we decide to go with it, one of the admins should log in to the Miro account and follow the hints.\n\nStarting to plan our growth, there\u2019s also the advanced Enterprise plan: https://miro.com/enterprise.";return encodeURIComponent(e)}function c(n){return n.isFree?n.expireLimits?"We have reached the Free plan limits at Miro":"We are about to reach the Free plan limits at Miro":n.expired?"Choose the next course of action to keep up with Miro experience":m(n)}function d(){return"We have reached the Free plan limits at Miro"}function p(){return"We are about to reach the Free plan limits at Miro"}function u(){return"Choose the next course of action to keep up with Miro experience"}function m(n){var e=n.daysToExpiration();return"The free upgrade to the Miro Team plan is set to expire in "+(e>1?e+" days":"one day")}},1485:function(n,e,t){"use strict";t.d(e,"a",function(){return s});var a=t(21),o=t(1150),i=t(234),r=t(346),s=function(n){function e(e){var t=n.call(this,e,{})||this;return t.activePlan=e,t.maxTeamSize=i.c,t.minTeamSize=0,t.totalSum=0,t.maxBoards=i.b,t}return Object(a.d)(e,n),Object.defineProperty(e.prototype,"extraMembersCount",{get:function(){var n=this.membersCount-this.maxTeamSize;return n<0?0:n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraBoardsCount",{get:function(){var n=this.boardsCount-this.maxBoards;return n<0?0:n},enumerable:!0,configurable:!0}),e.prototype.isExceededLimits=function(){return this.membersCount>this.maxTeamSize||this.boardsCount>this.maxBoards},Object(a.c)([r.a],e.prototype,"extraMembersCount",null),Object(a.c)([r.a],e.prototype,"extraBoardsCount",null),e}(o.a)},1486:function(n,e,t){"use strict";t.d(e,"a",function(){return l}),t.d(e,"c",function(){return c}),t.d(e,"b",function(){return d});var a=t(21),o=t(173),i=t(341),r=t(64),s=t(2156),l=function(n){function e(e,t){var a=n.call(this,e,t)||this;return a.canChangePaymentPeriod=!1,a.organizationType=i.a.BUSINESS,a.paymentInterval=r.d.YEARLY,a}return Object(a.d)(e,n),e.prototype.getIdent=function(){return o.a.BUSINESS},e.prototype.getFeatures=function(){return[{text:"Single Sign-On (SSO)"},{text:"Day passes for occasional collaborators",tip:"Additional paid fee $3 each."},{text:"External editors",tip:"Available via Day Passes."}]},e.prototype.getUnsubscribedPaymentInfo=function(n){return new s.a(this.activePlan,n)},e.prototype.showWhyUpgrade=function(){this.planContext.showWhyUpgrade(this)},e}(t(2155).a),c=function(n){function e(e){var t=n.call(this,e,!0)||this;return t.makeOptionsForNewPlans(),t}return Object(a.d)(e,n),e}(l),d=function(n){function e(e){return n.call(this,e,!1)||this}return Object(a.d)(e,n),e}(l)},1487:function(n,e){n.exports="#img__line"},1488:function(n,e,t){var a=t(4499);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},1489:function(n,e,t){"use strict";t.d(e,"b",function(){return o}),t.d(e,"a",function(){return i});var a={enable:!1,fs_host:"fullstory.com",fs_org:"NK1KX",fs_namespace:"FS"};function o(n){if(window[a.fs_namespace]&&window[a.fs_namespace].restart)window[a.fs_namespace].restart();else if(a.enable){if(window._fs_debug=!1,window._fs_host=a.fs_host,window._fs_org=a.fs_org,window._fs_namespace=a.fs_namespace,window[a.fs_namespace])return void window[a.fs_namespace].restart();var e=window[a.fs_namespace]=function(n,t,a){e.q?e.q.push([n,t,a]):e._api(n,t,a)};e.q=[];var t=document.createElement("script");t.async=!0,t.crossOrigin="anonymous",t.src="https://"+window._fs_host+"/s/fs.js",document.getElementsByTagName("head")[0].appendChild(t),e.identify=function(n,t,a){e("user",{uid:n},a),t&&e("user",t,a)},e.shutdown=function(){e("rec",!1)},e.restart=function(){e("rec",!0)},function(n){if(window[a.fs_namespace]&&window[a.fs_namespace].identify){var e={payment_user_segment:n.abTests&&n.abTests.paymentWindowVariation};window[a.fs_namespace].identify(n.id,e)}}(n)}}function i(){window[a.fs_namespace]&&window[a.fs_namespace].shutdown&&window[a.fs_namespace].shutdown()}},1490:function(n,e,t){var a=t(4575);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},1491:function(n,e){n.exports="<div class=\"md-container modal-subscription-success\">\n    <div class=\"md-content\">\n        <div class=\"md-content__head-wrapper\">\n            <div class=\"md-content__head-text\" ng-if=\"!modal.loading\">{{'account.commons.modal.subscription.success.' + (modal.params.modalType == 'resubscribe' ? 'resubscribe' :\n                'common') + '.head' | translate}}\n            </div>\n            <div class=\"md-content__head-text\" ng-if=\"modal.loading\">{{'account.commons.modal.subscription.success.' + modal.params.modalType + '.head.loading' | translate}}</div>\n            <div class=\"md-content__head-close\" ng-hide=\"modal.showSubmitControls\" hm-tap=\"modal.cancel()\">\n                <icon icon-name=\"'general--modal-close'\"></icon>\n            </div>\n        </div>\n\n        <div class=\"md-content__content\" ng-if=\"!modal.displayLoader\">\n            <div class=\"md-content__content-icon\">\n                <icon icon-name=\"'general--modal-subscription-success'\"></icon>\n            </div>\n\n            <div class=\"md-content__content-wrapper\">\n                <div class=\"md-content__content-caption\">\n                    {{(('account.commons.modal.subscription.success.' + modal.params.modalType +\n                    (modal.params.modalType == 'increase' ? ('.' + modal.params.direction) : '') + '.caption') | translate:{planName: modal.params.planName})}}\n                </div>\n                <div class=\"md-content__content-description\">\n                    <span>\n                        {{(('account.commons.modal.subscription.success.' + modal.params.modalType +\n                            (modal.params.modalType == 'increase' ? ('.' + modal.params.direction) : '') + '.description') | translate:{amount:modal.params.invoiceAmount , planName: modal.params.planName})}}\n                    </span>\n                    <br/>\n                    <span>{{'account.commons.modal.subscription.success.' + (modal.params.modalType == 'resubscribe' ? 'resubscribe' : 'common') + '.invoices.text' | translate}}</span>\n\n                    <span ng-if=\"modal.params.modalType != 'resubscribe'\">\n                        <a ng-href=\"{{modal.params.isOrganization ? ('/app/settings/company/' + modal.params.receiverId + '/billing/')\n                                                     : ('/app/settings/team/' +modal.params.receiverId + '/billing/')}}\"\n                           target=\"_blank\"\n                           hm-tap=\"modal.submit()\">{{'account.commons.modal.subscription.success.common.invoices.link' | translate}}</a>.</span>\n                    <span ng-if=\"modal.params.modalType == 'resubscribe'\">\n                        <a ng-href=\"{{modal.params.isOrganization ? ('/app/settings/team/' + modal.params.receiverId + '/profile/')\n                                                    : ('/app/settings/company/' + modal.params.receiverId + '/settings/')}}\"\n                           target=\"_blank\"\n                           hm-tap=\"modal.submit()\">{{'account.commons.modal.subscription.success.resubscribe.invoices.link' | translate}}</a>.</span>\n                </div>\n\n                <div class=\"submit-controls\" ng-show=\"modal.showSubmitControls\">\n                    <div class=\"ui-button--green-fill ui-button\" hm-tap=\"modal.submit()\">Ok</div>\n                </div>\n            </div>\n\n            <div class=\"clear\"></div>\n        </div>\n\n        <div class=\"md-content__content\" ng-show=\"modal.displayLoader\">\n            <ui-loader show=\"true\"></ui-loader>\n        </div>\n    </div>\n</div>\n"},1492:function(n,e,t){n.exports=t.p+"bdd8530f0098b638d87d2c4028899d92.svg"},1560:function(n,e,t){"use strict";var a=t(21),o=t(46),i=t(44),r=t(2401),s=t(30),l=t(1454),c=t(135),d=t(2159),p=t(494),u=t(167),m=t.n(u),b=t(461),h=t(2160),g=function(){function n(n){var e=this;this.$scope=n,this.stripeMountPointId="stripe-mount-point-"+Object(c.b)(),this.stripeError="",this.handleCountryChange=function(n,t){var a=e.$scope.informationForUpload.info;n!==t&&(e.updateRegionsOptions(),a.state=void 0),e.$scope.formErrorState.country=!1,e.$scope.formErrorState.region=!1,e.onChange()},this.handleRegionChange=function(n,t){e.$scope.formErrorState.region=!1,e.onChange()},Object(b.a)().getStripe().then(function(n){e.stripe=n,e.mountStripeCard()}),n.$on("$destroy",function(){return e.destroy()}),n.$watchGroup(["informationForUpload.info.country"],this.handleCountryChange),n.$watchGroup(["informationForUpload.info.state"],this.handleRegionChange),this.initSelectors()}return n.prototype.updateRegionsOptions=function(){var n=this.$scope.informationForUpload.info;this.regionsOptions=f(n.country)},n.prototype.initSelectors=function(){var n=this.$scope.informationForUpload.info;this.countriesOptions=d.a(),this.regionsOptions=f(n.country)},n.prototype.mountStripeCard=function(){var n=this,e=this.stripe.elements();this.card=e.create("card",{style:h.a,hidePostalCode:!0}),this.card.mount("#"+this.stripeMountPointId),this.card.on("change",function(e){return n.onCardChange(e)})},n.prototype.destroy=function(){this.card&&this.card.unmount()},n.prototype.onCardChange=function(n){n&&n.error?this.stripeError=n.error.message:this.stripeError="",n&&n.complete?this.loadToken():this.$scope.informationForUpload.subscription.card=void 0,this.$scope.formErrorState.card=!!n&&!!n.error,this.$scope.$digest(),this.onChange()},n.prototype.cityChanged=function(){this.$scope.formErrorState.city=!1,this.onChange()},n.prototype.streetChanged=function(){this.$scope.formErrorState.street=!1,this.onChange()},n.prototype.zipChanged=function(){this.$scope.formErrorState.zip=!1;var n,e=this.$scope.informationForUpload.info,t=e&&e.zip;n=e&&t?{value:{postalCode:t}}:{value:void 0},this.card.update(n),this.onChange()},n.prototype.loadToken=function(){var n=this;this.$scope.loadingModel.loadingCardToken=!0;var e=this.stripe.createToken(this.card).then(function(e){e.token?(n.$scope.informationForUpload=m()(Object(p.c)(e.token),n.$scope.informationForUpload),n.$scope.informationForUpload.subscription.card=e.token.id):(n.stripeError=e.error.message,n.$scope.formErrorState.card=!0),n.$scope.loadingModel.loadingCardToken=!1,n.onChange(),n.$scope.safeApply()}).catch(function(e){n.$scope.loadingModel.loadingCardToken=!1});this.$scope.onTokenStartLoading&&this.$scope.onTokenStartLoading({$tokenPromise:e})},n.prototype.onChange=function(){var n=this;this.$scope.onChange&&setTimeout(function(){n.$scope.onChange({changedValue:n.$scope.informationForUpload})},0)},n.$inject=["$scope"],n}();function f(n){return(n&&l.a[n]||[]).map(function(n){var e=n.key;return{key:n.value,value:e}})}var y=t(25),v=t(4505);function x(){return Object(s.a)({restrict:"E",template:v,controller:g,controllerAs:"controller",scope:{informationForUpload:"=",formErrorState:"=",onChange:"&",loadingModel:"=",onTokenStartLoading:"&",showContactUsLink:"="}})}var _,w=t(327),I=t(116),C=t(161),P=t(173),T=(t(4507),(_={})[P.a.TEAM]={personImage:t(4509),companyLogo:{url:t(4510),width:142,height:27},testimonialText:"In terms of ROI, Miro pays for itself in about 2 weeks (half a month\u2019s travel costs), so it\u2019s a \u201cno brainer\u201d as we like to call it.",personName:"Bob Mullaly,",personPosition:"Chief Data Scientist"},_[P.a.BUSINESS]={personImage:t(4511),companyLogo:{url:t(4512),width:133,height:20},testimonialText:"Miro\u2019s Business Plan helps us leverage SSO for our large and growing team at BriteCore. As a fully remote and distributed company, we\u2019ve used SSO access to make onboarding easier and more secure.",personName:"Will Guldin,",personPosition:"Design Director"},_[P.a.CONSULTANT]={personImage:t(4513),companyLogo:{url:t(4514),width:60,height:40},testimonialText:"Miro made it possible to connect multiple parts of our business, both internally and with our clients without the hassle. It was especially helpful since our core business is running Design Sprints, and Miro allowed us to evolve an in-person process and adapt it to a remote environment.",personName:"Raz Burciu,",personPosition:"Co-founder & Product Designer"},_),O=function(n){function e(e){var t=n.call(this,e)||this;return t.state={config:T[P.a.TEAM]},t}return Object(a.d)(e,n),e.getDerivedStateFromProps=function(n,e){return n.targetPlanIdent&&T[n.targetPlanIdent]!==e.config?{config:T[n.targetPlanIdent]}:null},e.prototype.render=function(){return C.createElement("div",{className:"testimonial-wrapper"},C.createElement("div",{className:"testimonial"},C.createElement("div",{className:"testimonial__person-image"},C.createElement("img",{src:this.state.config.personImage})),C.createElement("div",{className:"testimonial__company-logo",style:{width:this.state.config.companyLogo.width,height:this.state.config.companyLogo.height}},C.createElement("img",{src:this.state.config.companyLogo.url})),C.createElement("div",{className:"testimonial__text"},this.state.config.testimonialText),C.createElement("div",{className:"testimonial__person-name"},this.state.config.personName),C.createElement("div",{className:"testimonial__person-position"},this.state.config.personPosition)),this.props.showFooter&&C.createElement("div",{className:"testimonial-footer"},C.createElement("div",{className:"testimonial-footer__trust-us"},"Over 2 million users",C.createElement("br",null),"trust us worldwide"),C.createElement("img",{src:t(4515),className:"testimonial-footer__companies"})))},e}(C.PureComponent);e.a=function(n){return t(1488),t(2157),t(4516),t(2162),Object(y.b)().directive("billingForm",x),Object(w.a)(),Object(y.b)().component("testimonial",Object(I.b)(O,["targetPlanIdent","showFooter"])),o.a(i.a.PLAN_CHANGE,r.a,t(4518),Object(a.a)(Object(a.a)({},n),{enableCloseByBackground:!1,enableCloseByEscape:!1}))}},1561:function(n,e,t){"use strict";var a=t(21),o=t(46),i=t(44),r=function(n){function e(e){var t=n.call(this)||this;return t.AuthorizationService=e,t.onCancel=t.onCancel.bind(t),t.onSubmit=t.onSubmit.bind(t),t}return Object(a.d)(e,n),e.prototype.onCancel=function(){this.cancel()},e.prototype.onSubmit=function(){this.submit()},e.$inject=["AuthorizationService"],e}(t(48).a),s=t(25),l=t(116),c=t(43),d=(t(2163),t(414)),p=t(64),u=t(32),m=(t(2162),t(2159)),b=t(494),h=t(167),g=t.n(h),f=t(931),y=t(2407),v=m.a(),x=function(n){function e(e){var t=n.call(this,e)||this;return t.informationForUpload=t.props.informationForUpload,t.loadingModel=t.props.loadingModel,t.state={cardError:t.props.formErrorState.card,postalCodeError:t.props.formErrorState.zip,countryError:t.props.formErrorState.country,selectedCountry:t.selectedCountry,postalCode:t.informationForUpload.info.zip||""},t}return Object(a.d)(e,n),Object.defineProperty(e.prototype,"selectedCountry",{get:function(){var n=this;return v.find(function(e){return e.value===n.informationForUpload.info.country})},enumerable:!0,configurable:!0}),e.prototype.componentDidUpdate=function(n,e,t){n.formErrorState!==this.props.formErrorState&&this.setState({cardError:this.props.formErrorState.card,postalCodeError:this.props.formErrorState.zip,countryError:this.props.formErrorState.country})},e.prototype.onCardChange=function(n){this.setState({cardError:!1}),n&&n.complete||(this.informationForUpload.subscription.card=void 0)},e.prototype.onCardTokenLoaded=function(n){n?(this.informationForUpload=g()(Object(b.c)(n),this.informationForUpload),this.informationForUpload.subscription.card=n.id,this.setState({selectedCountry:this.selectedCountry,countryError:!1})):this.setState({cardError:!0}),this.onChange()},e.prototype.onTokenLoading=function(n){var e=this;this.loadingModel.loadingCardToken=!0,this.onLoading(),n.catch(function(){}).then(function(){e.loadingModel.loadingCardToken=!1,e.onLoading()}),this.props.onTokenStartLoading&&this.props.onTokenStartLoading(n)},e.prototype.postalCodeChanged=function(n){var e=n.target.value;this.informationForUpload.info.zip=e,this.state.postalCodeError&&this.setState({postalCodeError:!1}),this.setState({postalCode:e}),this.onChange()},e.prototype.selectedCountryChanged=function(n){n&&(this.informationForUpload.info.country=n&&n.value.toString(),this.state.countryError&&this.setState({countryError:!1}),this.setState({selectedCountry:n}),this.onChange())},e.prototype.onChange=function(){this.props.onChange&&this.props.onChange(this.informationForUpload)},e.prototype.onLoading=function(){this.props.onLoading&&this.props.onLoading(this.loadingModel)},e.prototype.render=function(){var n=this.props.showContactUsLink,e=this.state,t=e.postalCodeError,a=e.postalCode,o=e.cardError,i=c.React.createElement("div",{className:"grid-row__column column-40"},c.React.createElement("div",{className:"field"},c.React.createElement("div",{className:"rtb-input-field rtb-input-field--small"},c.React.createElement("label",null,"Country"),c.React.createElement(f.a,{className:Object(c.classNames)("rtb-select--secondary-bordered rtb-select--small rtb-select--fluid",{"rtb-select--invalid":this.state.countryError}),options:v,onChange:this.selectedCountryChanged,selectedOption:this.state.selectedCountry})))),r=c.React.createElement("div",{className:"grid-row__column column-40"},c.React.createElement("div",{className:"field"},c.React.createElement("div",{className:"rtb-input-field rtb-input-field--small"},c.React.createElement("label",null,"Postal Code"),c.React.createElement("input",{name:"postalCode",type:"text",className:Object(c.classNames)("rtb-input rtb-input--primary",{"rtb-input--invalid":t}),onChange:this.postalCodeChanged,value:a}))));return c.React.createElement("div",{className:"billing-form"},c.React.createElement("div",{className:"grid-row card-details"},c.React.createElement(y.a,{className:"grid-row__column column-100",cardInputClassName:"fs-block",postalCode:a,isInvalid:o,cardErrorClassName:Object(c.classNames)({"billing-form__card-error__card-error--absolute":!n}),onTokenLoaded:this.onCardTokenLoaded,onTokenLoading:this.onTokenLoading,onChange:this.onCardChange},c.React.createElement(_,null))),c.React.createElement(c.If,{cond:n},c.React.createElement(w,null)),c.React.createElement("div",{className:"grid-row"},c.React.createElement("div",{className:"grid-row-column"},c.React.createElement("label",{className:"section-caption"},"Billing information"))),c.React.createElement("div",{className:"grid-row"},i,r))},Object(a.c)([c.decorators.autobind],e.prototype,"onCardChange",null),Object(a.c)([c.decorators.autobind],e.prototype,"onCardTokenLoaded",null),Object(a.c)([c.decorators.autobind],e.prototype,"onTokenLoading",null),Object(a.c)([c.decorators.autobind],e.prototype,"postalCodeChanged",null),Object(a.c)([c.decorators.autobind],e.prototype,"selectedCountryChanged",null),e}(c.React.PureComponent);function _(){return c.React.createElement("div",{className:"card-details__label"},c.React.createElement("a",{tabIndex:-1,href:"//stripe.com",target:"_blank",className:"card-details-label--stripe"},c.React.createElement("svg",null,c.React.createElement("use",{xlinkHref:t(2161)}))),c.React.createElement("label",{className:"section-caption"},"Credit card details"))}function w(){return c.React.createElement("div",{className:"billing-form__invoice-request"},c.React.createElement("span",null,"or"),"\xa0",c.React.createElement("a",{className:"rtb-link rtb-link--primary",href:"https://realtimeboard.com/contact/sales/?lead_source=Business",target:"blank"},"contact us"),"\xa0",c.React.createElement("span",null,"to pay by invoice"))}var I=t(2401),C=t(673),P=t(492),T=t(94),O=t.n(T),M=t(45),E=t(79),A=t(218),S=t(26),N=t(763),j=t(2164),k=t(173),D=t(482),R=t(771),L=t(133),U=t.n(L),B=t(943),z=t(1489),F=t(939),$=t(77),Y=t(112),H=t(1567),V=function(n){function e(e){var t=n.call(this,e)||this;return t.cardReady=Promise.resolve(),t.loadingModel={loading:!1,loadingPromo:!1,loadingCardToken:!1,loadingReceiver:!1,loadingUpcomingInfo:!1},t.account=t.props.context.activePlan.account,t.submitBtnText=t.props.isForTrialTeam?"Start "+t.trialDuration+" trial":"Purchase",t.planModel=t.props.plan,t.planModel.informationForUpload={info:{},subscription:{},isNewCard:!0},t.state={formErrorState:{country:!1,zip:!1,card:!1},isLoading:t.isLoading,paymentError:"",selectedTeamSize:t.planModel.selectedValue,selectedPaymentInterval:t.planModel.paymentInterval,dayPassesActivated:t.planModel.dayPassesActivated,promoInputModel:{value:"",isValid:!0,isDisabled:!1,isVisible:!1,textInputButton:"Apply"}},t.planModel.signals.updated.add(function(){t.setState({isLoading:t.isLoading})}),t.sendViewedStat(),Object(z.b)(t.account),t}return Object(a.d)(e,n),Object.defineProperty(e.prototype,"canUseCoupon",{get:function(){return this.paymentInfo.discountType===P.a.COUPON&&this.paymentInfo.canUseCoupon&&(!this.planModel.canDoPostInvitationPayments()||this.paymentInfo instanceof C.a&&!this.paymentInfo.loading&&!this.planModel.isCurrentPlan())&&!this.props.isForTrialTeam},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canToggleDayPasses",{get:function(){return this.planModel.canToggleDayPasses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canChooseMemberCount",{get:function(){return this.planModel.canChangeMemberCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canChooseInterval",{get:function(){var n=this.planModel.currentPaymentInfo;return!(n&&n.paymentInterval===p.d.MONTHLY&&!this.canChooseMemberCount)&&this.planModel.canChooseInterval},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"planIdent",{get:function(){return this.planModel&&this.planModel.getIdent?this.planModel.getIdent():""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"planFeatures",{get:function(){return this.planModel.getFeatures().map(function(n){return n.text})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trialDuration",{get:function(){return Object(A.b)(this.account)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trialCancelationDate",{get:function(){return Object(A.a)(this.planModel.activePlan.account)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showContactUsLink",{get:function(){return this.paymentInfo.paymentMemberCount>=20&&this.paymentInfo.paymentInterval===p.d.YEARLY},enumerable:!0,configurable:!0}),e.prototype.onTeamSizeChange=function(n){this.planModel.selectedValue=+n.value,this.setState({selectedTeamSize:this.planModel.selectedValue})},e.prototype.onPaymentFormChange=function(n){this.planModel.informationForUpload=n,this.setState({paymentError:""})},e.prototype.onTokenStartLoading=function(n){this.cardReady=n},e.prototype.onChangeInterval=function(n){this.planModel.paymentInterval!==n&&(this.planModel.paymentInterval=n,this.setState({selectedPaymentInterval:n}))},e.prototype.onToggleDayPasses=function(n){this.planModel.dayPassesActivated=n,this.setState({dayPassesActivated:this.planModel.dayPassesActivated})},e.prototype.onShowPromoInput=function(){this.setState({promoInputModel:Object(a.a)(Object(a.a)({},this.state.promoInputModel),{isVisible:!this.state.promoInputModel.isVisible})})},e.prototype.applyPromoCode=function(){var n=this,e=this.state.promoInputModel.value;e?(this.state.promoInputModel.isValid||this.setState({promoInputModel:Object(a.a)(Object(a.a)({},this.state.promoInputModel),{isValid:!0})}),this.loadingModel.loadingPromo=!0,this.setState({isLoading:this.isLoading}),u.a.billing.checkCoupon(e).then(function(t){if(t.valid){n.planModel.coupon=t,n.planModel.coupon.id=e;var a={value:""+e,isValid:!0,isDisabled:!0,textInputButton:"Applied",isVisible:!0};n.loadingModel.loadingPromo=!1,n.setState({promoInputModel:a,isLoading:n.isLoading}),Object(S.jb)(e)}else n.checkCouponFailed(e)}).catch(function(){return n.checkCouponFailed(e)})):this.setState({promoInputModel:Object(a.a)(Object(a.a)({},this.state.promoInputModel),{isValid:!1})})},e.prototype.checkCouponFailed=function(n){this.loadingModel.loadingPromo=!1,this.setState({promoInputModel:Object(a.a)(Object(a.a)({},this.state.promoInputModel),{isValid:!1}),isLoading:this.isLoading}),Object(S.ib)(n)},e.prototype.promoInputFocus=function(n){n&&n.focus()},e.prototype.onPromoChange=function(n){this.setState({promoInputModel:Object(a.a)(Object(a.a)({},this.state.promoInputModel),{value:n.target.value})})},Object.defineProperty(e.prototype,"paymentInfo",{get:function(){return this.planModel.paymentInfo},enumerable:!0,configurable:!0}),e.prototype.paymentStripeInfoLoading=function(){var n=this.paymentInfo;return n instanceof C.a&&n.loading},Object.defineProperty(e.prototype,"isLoading",{get:function(){var n=this;return Object.keys(this.loadingModel).some(function(e){return n.loadingModel[e]})||this.paymentStripeInfoLoading()||this.planModel.loaded},enumerable:!0,configurable:!0}),e.prototype.purchaseAllowed=function(){return!this.isLoading&&!!this.planModel.informationForUpload&&this.planModel.informationWasUpdated},e.prototype.validateUploadInfo=function(){if(!this.planModel.informationForUpload.isNewCard)return!0;var n=this.planModel.informationForUpload.info,e=this.planModel.informationForUpload.subscription,t={country:!n.country,zip:!n.zip,card:!e.card};U()(t,this.state.formErrorState)||this.setState({formErrorState:t});var a=!0;for(var o in this.state.formErrorState)a=a&&!this.state.formErrorState[o];return a},e.prototype.purchase=function(){var n=this;this.purchaseAllowed()&&(this.loadingModel.loading=!0,this.setState({isLoading:this.isLoading}),this.cardReady.then(function(){if(n.validateUploadInfo()){if(!n.props.isForTrialTeam)return n.planModel.purchase(n.props.authorizationService).then(function(e){n.loadingModel.loading=!1,n.setState({isLoading:n.isLoading}),n.openSuccessModal(e)}).catch(function(e){n.loadingModel.loading=!1,n.setState({isLoading:n.isLoading,paymentError:e.msg}),n.props.authorizationService.setReceiverDeprecated()});S.o.startTrialClicked(),n.createCustomerIfNeed().then(function(){return n.updateCustomerInfo()}).then(function(){return n.startTrial()}).then(function(){n.loadingModel.loading=!1,n.setState({isLoading:n.isLoading}),n.openSuccessModal()}).catch(function(e){n.loadingModel.loading=!1,n.setState({isLoading:n.isLoading,paymentError:e.message||E.b.getJsonError(e).message})})}else n.loadingModel.loading=!1,n.setState({isLoading:n.isLoading})}))},e.prototype.createCustomerIfNeed=function(){var n=this,e={card:this.planModel.informationForUpload.subscription.card,name:this.account.title};return u.a.billing.selectById(this.account.id).get({fields:"receiverId,hasCustomer"}).then(function(t){return t.hasCustomer?u.a.billing.selectById(t.receiverId).updateCustomerInfo({receiptEmail:n.account.currentUserPermission&&n.account.currentUserPermission.user.email,card:e.card}):u.a.billing.selectById(t.receiverId).createCustomer(e)})},e.prototype.updateCustomerInfo=function(){var n=this,e={};return Object.keys(this.planModel.informationForUpload.info).forEach(function(t){n.planModel.informationForUpload.info[t]&&(e[t]=n.planModel.informationForUpload.info[t])}),u.a.billing.selectById(this.account.id).updateInfo(e)},e.prototype.startTrial=function(){switch(this.planModel.paymentInterval){case p.d.YEARLY:return u.a.accounts.selectById(this.account.id).trial.startTrial(j.a.Team_yearly);case p.d.MONTHLY:return u.a.accounts.selectById(this.account.id).trial.startTrial(j.a.Team_monthly)}},e.prototype.onLoading=function(n){this.loadingModel=n,this.state.formErrorState.card&&this.setState({formErrorState:Object(a.a)(Object(a.a)({},this.state.formErrorState),{card:!1})}),this.state.formErrorState.country&&this.setState({formErrorState:Object(a.a)(Object(a.a)({},this.state.formErrorState),{country:!1})}),this.setState({isLoading:this.isLoading})},e.prototype.openSuccessModal=function(n){if(Object(z.a)(),this.props.isForTrialTeam){this.props.onSubmit();var e="You have started Team Plan "+this.trialDuration+" trial for "+this.account.title+'. Your trial expires on <b class="break-word">'+this.trialCancelationDate+"</b>. Then you will be charged based upon the number of team members at the end of your trial.";Object(M.a)().show(Object(R.a)({captionText:"Your trial has started",contentText:e,plan:this.planModel}))}else n&&(this.props.onSubmit(),Object(I.c)(n,this.planModel))},e.prototype.canShowBackIcon=function(){return this.props.context instanceof F.a},e.prototype.onBack=function(){this.props.context instanceof F.a&&(this.props.onCancel(),Object(M.a)().show(Object(N.a)({plans:this.props.context})))},e.prototype.onClose=function(){this.props.onCancel(),this.props.context.onPaymentCancel(),Object(z.a)()},e.prototype.openPricing=function(){if(this.props.context.billingPlans){Object($.a)().sendApiEvent("button_clicked",Object(Y.a)({button_name:"see all plans",button_place:"payment_details_window",component:"app",feature:"pricing",button_id:1}));var n=new H.a(this.account,this.props.context.contextOptions).getPlans(this.props.context.billingPlans);Object(M.a)().show(Object(N.a)({plans:n}))}},e.prototype.sendViewedStat=function(){if(this.props.isForTrialTeam)S.o.trialPaymentDetailsViewed(this.account.currentUserPermission.role);else{var n=Object(Y.a)({expired:this.props.context.activePlan.expired,org_id:this.props.context.activePlan.isOrganizationType&&this.props.context.activePlan.account.id||"",plan:this.props.context.activePlan.type,user_role:this.props.context.activePlan.role,from:this.props.openedFrom||"",initiated_from:"app"});Object(Y.b)("viewed_payment_details",n)}},e.prototype.render=function(){var n=this,e=I.b.map(function(e){return c.React.createElement(d.a,{className:"rtb-radiobutton--medium",checked:n.planModel.paymentInterval===e.value,value:e.value,label:e.caption,onChange:n.onChangeInterval,key:e.caption,isDisabled:!n.canChooseInterval})}),a=c.React.createElement("div",{className:"payment-modal-billing-column-section"},c.React.createElement("div",{className:"section-caption"},"Choose billing type"),c.React.createElement("div",{className:"grid-row"},c.React.createElement("div",{className:"grid-row__column no-padding payment-modal-billing-column-section__radiobuttons"},e),c.React.createElement("div",{className:"grid-row__column no-padding"},c.React.createElement("div",{className:"payment-modal-billing-column-section__badge"},"Save 20%")),c.React.createElement("div",{className:"grid-row__column no-padding"},c.React.createElement("div",{className:"payment-modal-billing-column-section__cost-info"},"$",this.planModel.paymentInfo.costPerMonthInYearPlan,"/month"),c.React.createElement("div",{className:"payment-modal-billing-column-section__cost-info"},"$",this.planModel.paymentInfo.costPerMonthInMonthPlan,"/month")))),o=c.React.createElement("div",{className:"payment-modal-billing-column-section"},c.React.createElement("div",{className:"section-caption"},"Choose team size"),c.React.createElement("div",{className:"payment-modal-billing-column-section__team-size"},c.React.createElement(f.a,{className:"rtb-select--secondary-bordered rtb-select--small rtb-select--fluid",options:this.planModel.options,onChange:this.onTeamSizeChange,selectedOption:this.planModel.options.find(function(e){return e.value===n.state.selectedTeamSize})}))),i=c.React.createElement("div",{className:"payment-modal-billing-column-section"},c.React.createElement(x,{informationForUpload:this.planModel.informationForUpload,formErrorState:this.state.formErrorState,onChange:this.onPaymentFormChange,loadingModel:this.loadingModel,onTokenStartLoading:this.onTokenStartLoading,onLoading:this.onLoading,showContactUsLink:this.showContactUsLink})),r=c.React.createElement("div",{className:"payment-modal-billing-column-section"},c.React.createElement(D.a,{className:"section-caption rtb-toggle rtb-toggle--medium",name:"dayPassesToggle",checked:this.state.dayPassesActivated,label:"Day Passes",onChange:this.onToggleDayPasses}),c.React.createElement("span",{className:"payment-modal-billing-column-descriptions"},"Day passes give 24-hour access to boards for occasional users. One day pass costs $",this.planModel.dayPassPrice,". You will be charged monthly for the amount of day passes used."," ",c.React.createElement("a",{href:"https://help.miro.com/hc/en-us/articles/360017571814-Day-Passes-for-Business-and-Consultant-Plans",target:"blank",className:"rtb-link rtb-link--secondary"},"Learn more"))),s=c.React.createElement("span",null,"To learn more, see\xa0",c.React.createElement("a",{href:"https://help.miro.com/hc/en-us/articles/360017730273-How-to-Upgrade-Your-Account",target:"blank",className:"rtb-link rtb-link--secondary"},"FAQ"),"\xa0 or\xa0",c.React.createElement("a",{href:"https://help.miro.com/hc/en-us/requests/new",target:"blank",className:"rtb-link rtb-link--secondary"},"submit a question"),"."),l=c.React.createElement("div",{className:"payment-modal-billing-column-descriptions"},"Your account will be charged based on the number of team members at the end of your trial on"," ",c.React.createElement("b",{className:"break-word"},this.trialCancelationDate),". You will then be charged on a recurring basis until you cancel your subscription. ",s),u=c.React.createElement("div",{className:"rtb-modal-content__actions rtb-modal-actions grid-row payment-modal-billing-column-actions"},c.React.createElement("div",{className:"grid-row__column column-40"},c.React.createElement("button",{className:"rtb-btn rtb-btn--primary payment-modal-billing-column-actions__btn "+(this.purchaseAllowed()?"":"rtb-btn--disabled ")+(this.state.isLoading?"rtb-btn--loading":""),onClick:this.purchase},this.submitBtnText)),c.React.createElement("div",{className:"grid-row__column column-40 payment-modal-billing-column-actions__text"},this.props.isForTrialTeam&&c.React.createElement("span",null,"Cancel any time",c.React.createElement("br",null)," before ",c.React.createElement("b",{className:"break-word"},this.trialCancelationDate)),!this.props.isForTrialTeam&&c.React.createElement("span",null,"Invoices will be sent to",c.React.createElement("br",null),this.planModel.activePlan.currentUserEmail))),m=c.React.createElement("div",{className:"grid-row payment-modal-billing-column-promo"},c.React.createElement("div",{className:"grid-row__column column-40"},c.React.createElement("a",{className:"rtb-link rtb-link--primary rtb-link--dashed",onClick:this.onShowPromoInput},"Have a Promo Code?")),this.state.promoInputModel.isVisible&&c.React.createElement("div",{className:"grid-row__column column-40 rtb-input-field rtb-input-field--small"},c.React.createElement("input",{className:Object(c.classNames)("rtb-input rtb-input--primary",{"rtb-input--invalid":!this.state.promoInputModel.isValid}),ref:this.promoInputFocus,value:this.state.promoInputModel.value,onChange:this.onPromoChange,disabled:this.state.promoInputModel.isDisabled}),c.React.createElement("button",{className:Object(c.classNames)("rtb-btn rtb-btn--small rtb-btn--primary",{"rtb-btn--loading":this.state.isLoading,"rtb-btn--disabled":this.state.promoInputModel.isDisabled,"rtb-btn--danger":!this.state.promoInputModel.isValid}),onClick:this.applyPromoCode},this.state.promoInputModel.textInputButton))),b=c.React.createElement("div",{className:"rtb-modal-container__content rtb-modal-content payment-modal-billing-column"},c.React.createElement("div",{className:"rtb-modal-content__header rtb-modal-header payment-modal-billing-column__header"},c.React.createElement("div",{className:"rtb-modal-header__text"},this.props.isForTrialTeam?"Start "+this.trialDuration+" trial for "+this.account.title:this.account.title+" "+this.planIdent+" plan details")),this.canShowBackIcon()&&c.React.createElement("div",{className:"payment-modal-billing-column__subheader"},"Fill out the form below with your billing information."),!this.canShowBackIcon()&&c.React.createElement("div",{className:"payment-modal-billing-column__subheader"},"Fill out your billing information or\xa0",c.React.createElement("a",{onClick:this.openPricing,className:"rtb-link rtb-link--primary"},"see all plans"),"."),c.React.createElement("div",{className:"rtb-modal-content__body rtb-modal-body payment-modal-billing-column-body"},!this.props.isForTrialTeam&&this.canChooseMemberCount&&o,this.planIdent!==k.a.BUSINESS&&a,this.canToggleDayPasses&&r,i,this.props.isForTrialTeam&&l),this.state.paymentError&&c.React.createElement("div",{className:"payment-modal-billing-column-error"},c.React.createElement("div",{className:"payment-modal-billing-column-error__text"},this.state.paymentError)),this.canUseCoupon&&m,u),h=c.React.createElement("ul",{className:"payment-modal-info-column-feature-list"},function(){var e=n.planFeatures;n.planIdent===k.a.BUSINESS&&(e=new B.a(n.props.context).getFeatures().map(function(n){return n.text}).concat(e));return e.map(function(n){return c.React.createElement("li",{className:"payment-modal-info-column-feature-list__feature",key:n},c.React.createElement("div",null,c.React.createElement("svg",{className:"payment-modal-info-column-feature-list__icon"},c.React.createElement("use",{xlinkHref:t(537)}))),n)})}()),g=c.React.createElement("span",null,"\xd7"),y=this.planModel.paymentInterval===p.d.YEARLY?"12 month":"",v=c.React.createElement("span",null,"$",this.planModel.paymentInterval===p.d.YEARLY?this.planModel.paymentInfo.costPerMonthInYearPlanOneLicence:this.planModel.paymentInfo.costPerMonthInMonthPlanOneLicence," ",g," ",this.planModel.paymentInfo.paymentMemberCount," members ",y&&g," ",y&&y),_=c.React.createElement("div",{className:"rtb-modal-container__content rtb-modal-content payment-modal-info-column"},c.React.createElement("div",null,c.React.createElement("div",{className:"rtb-modal-content__header payment-modal-info-column-header"},"What you'll get"),c.React.createElement("div",{className:"rtb-modal-content__body rtb-modal-body payment-modal-info-column-body"},h,n.props.isForTrialTeam?c.React.createElement("div",{className:"payment-modal-info-column-payment-info"},c.React.createElement("div",{className:"payment-modal-info-column-payment-info__row"},v,c.React.createElement("span",null,"$",n.planModel.paymentInfo.totalCost)),c.React.createElement("div",{className:"payment-modal-info-column-payment-info__row"},c.React.createElement("b",{className:"break-word"},"Total after trial"),c.React.createElement("b",{className:"break-word"},"$",n.planModel.paymentInfo.totalCost)),c.React.createElement("div",{className:"payment-modal-info-column-payment-info__row"},c.React.createElement("b",{className:"break-word"},"Today's total"),c.React.createElement("b",{className:"break-word"},"$0"))):c.React.createElement("div",{className:"payment-modal-info-column-payment-info"},c.React.createElement("div",{className:"payment-modal-info-column-payment-info__row"},c.React.createElement("b",{className:"break-word"},"Total"),c.React.createElement("b",{className:"break-word"},"$",n.planModel.paymentInfo.totalCost)),c.React.createElement("div",{className:"payment-modal-info-column-payment-info__row"},v)))),c.React.createElement("div",{className:"rtb-modal-content__footer payment-modal-info-column-footer"},!this.props.isForTrialTeam&&function(){if(n.planIdent===k.a.CONSULTANT||n.planIdent===k.a.BUSINESS)return c.React.createElement("span",null,"You\u2019ll be charged $",n.planModel.paymentInfo.totalCost," ",n.planModel.paymentInterval,"ly until you cancel the subscription. ",s);var e="",t=void 0;switch(n.planModel.paymentInterval){case p.d.YEARLY:e=(t=O()().add(1,"y")).format("MMMM")+" "+t.date()+", "+t.year();break;case p.d.MONTHLY:e=(t=O()().add(1,"M")).format("MMMM")+" "+t.date()+", "+t.year()}return c.React.createElement("span",null,"The next charge for your ",n.planModel.paymentInterval,"ly subscription will occur on\xa0",c.React.createElement("b",{className:"break-word"},e),". When you add new team members, we will calculate the prorated amount for the rest of the year and bill you at the end of the month for all new additions. ",s)}()));return c.React.createElement("div",null,c.React.createElement("div",{className:"rtb-modal rtb-modal--top"},c.React.createElement("div",{className:"rtb-modal-container payment-modal"},this.canShowBackIcon()&&c.React.createElement("svg",{className:"payment-modal__back-icon",onClick:this.onBack},c.React.createElement("use",{xlinkHref:t(1715)})),!this.canShowBackIcon()&&c.React.createElement("svg",{className:"payment-modal__close-icon",onClick:this.onClose},c.React.createElement("use",{xlinkHref:t(758)})),b,_)))},Object(a.c)([c.decorators.autobind],e.prototype,"onTeamSizeChange",null),Object(a.c)([c.decorators.autobind],e.prototype,"onPaymentFormChange",null),Object(a.c)([c.decorators.autobind],e.prototype,"onTokenStartLoading",null),Object(a.c)([c.decorators.autobind],e.prototype,"onChangeInterval",null),Object(a.c)([c.decorators.autobind],e.prototype,"onToggleDayPasses",null),Object(a.c)([c.decorators.autobind],e.prototype,"onShowPromoInput",null),Object(a.c)([c.decorators.autobind],e.prototype,"applyPromoCode",null),Object(a.c)([c.decorators.autobind],e.prototype,"onPromoChange",null),Object(a.c)([c.decorators.autobind],e.prototype,"purchase",null),Object(a.c)([c.decorators.autobind],e.prototype,"onLoading",null),Object(a.c)([c.decorators.autobind],e.prototype,"onBack",null),Object(a.c)([c.decorators.autobind],e.prototype,"onClose",null),Object(a.c)([c.decorators.autobind],e.prototype,"openPricing",null),e}(c.React.PureComponent);e.a=function(n){return t(2163),Object(s.b)().component("planChangeReact",Object(l.b)(V,["context","plan","onCancel","authorizationService","isForTrialTeam","onSubmit","openedFrom"])),o.a(i.a.PLAN_CHANGE_REACT,r,t(4544),Object(a.a)({enableCloseByBackground:!1,enableCloseByEscape:!1},n))}},1567:function(n,e,t){"use strict";var a=t(939),o=t(1483),i=t(21),r=t(941),s=t(234),l=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.maxTeamSize=Object(s.g)(),e.maxBoards=Object(s.g)(),e.minTeamSize=0,e.totalSum=0,e}return Object(i.d)(e,n),e}(t(1150).a),c=t(32),d=t(173),p=t(33),u=function(n){function e(e){var t=n.call(this,e)||this;return t.planContext=e,t.paymentInfo=new l(t.activePlan),t.isDowngraded=!1,t}return Object(i.d)(e,n),e.prototype.loadInfo=function(){return null},e.prototype.getIdent=function(){return d.a.FREE_2018},e.prototype.getFeatures=function(){var n=this.activePlan.account.limits.activeBoardsPerAccount;return[{text:"As many members as you need"},{text:n+" editable boards",tip:n+" of the most recently created boards are editable, other are archived"},{text:"Slack integration",tip:"Get new comments from boards delivered to your Slack channels"},{text:"Self-support"}]},e.prototype.purchase=function(){var n=this;return this.isDowngraded?Promise.resolve():(this.isDowngraded=!0,this.downgradePaymentEntity().catch(function(){return n.isDowngraded=!1}))},e.prototype.downgradePaymentEntity=function(){return Object(p.pb)(this.activePlan.account)?c.a.organizations.selectById(this.accountId).downgrade():c.a.accounts.selectById(this.accountId).downgrade()},e.prototype.isExpired=function(){return this.activePlan.expired},e}(r.a),m=t(940),b=t(1484),h=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(i.d)(e,n),e.prototype.getTitleForMail=function(){return this.activePlan.isFree?Object(b.f)():Object(b.i)()},e.prototype.getBodyForMail=function(){var n=this.paymentInfo;return this.activePlan.isFree?Object(b.a)(n)||"":Object(b.d)(n,this.planContext.activePlan)||""},e}(m.a),g=t(943),f=t(493),y=t(1594),v=t(341),x=t(1486);t.d(e,"a",function(){return _});var _=function(){function n(n,e){this.account=n,this.options=e,this.activePlan=new f.a(n)}return n.prototype.getFreePlan=function(){return this.activePlan.isFreeTeam2018?u:this.activePlan.expired?u:void 0},n.prototype.getFirstSlot=function(){return this.getTeamPlanConstructor()},n.prototype.getSecondSlot=function(){return this.getBusinessPlanConstructor()},n.prototype.getHorizontalSlot=function(){return this.getConsultantPlanConstructor()},n.prototype.getPlans=function(n){var e=this.getFirstSlot(),t=this.getSecondSlot(),i=o.a,r=this.getHorizontalSlot();return new a.a(this.account,[e,t,i],r,this.getFreePlan(),this.options,n)},n.prototype.getTeamPlanConstructor=function(){return this.activePlan.expired||this.activePlan.expireLimits?h:g.a},n.prototype.getConsultantPlanConstructor=function(){return this.activePlan.isFree?y.c:y.b},n.prototype.getBusinessPlanConstructor=function(){return this.activePlan.isFree?x.c:x.b},n.prototype.getSubscribedPlanConstructor=function(){switch(this.activePlan.type){case v.a.CONSULTANT_SLF:return y.b;case v.a.BUSINESS:return x.b;default:return this.getTeamPlanConstructor()}},n}()},1587:function(n,e,t){"use strict";var a=t(21),o=t(46),i=t(44),r=t(48),s=t(26),l=t(939),c=t(763),d=t(45),p=t(771),u=t(409),m=t(112),b=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.loading=!1,e.submit=function(){n.prototype.submit.call(e);var t="Your inquiry has been successfully submitted. One of our team members will get in touch with you soon.";s.de(e.params.leadSource),e.plan?Object(d.a)().show(Object(p.a)({captionText:"Thank you!",contentText:t,plan:e.plan})):Object(d.a)().show(Object(u.a)({title:"Thank you!",text:t,success:!0}))},e}return Object(a.d)(e,n),e.prototype.init=function(){Object(m.b)("enterprise_inquiry_form_shown",Object(m.a)({lead_source:this.params.leadSource})),this.context=this.params.context,this.plan=this.params.plan},e.prototype.onCancel=function(){this.cancel(),this.context&&(s.Yd(),this.context.onPaymentCancel())},e.prototype.canShowBackButton=function(){return!!this.context&&this.context instanceof l.a},e.prototype.onBack=function(){this.context&&this.context instanceof l.a&&(this.cancel(),Object(d.a)().show(Object(c.a)({plans:this.context})),this.context.activePlan.userIsAdmin?s.Lb():s.Mb())},e}(r.a),h=t(327),g=t(2368);e.a=function(n){return Object(h.a)(),Object(g.a)(),t(4497),t(1488),o.a(i.a.COMPANY_INQUIRY,b,t(4501),Object(a.a)(Object(a.a)({},n),{enableCloseByBackground:!1,enableCloseByEscape:!1}))}},1594:function(n,e,t){"use strict";var a=t(21),o=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.pricePerMonth=15,e}return Object(a.d)(e,n),Object.defineProperty(e.prototype,"minTeamSize",{get:function(){return Math.max(this.membersCount,1)},enumerable:!0,configurable:!0}),e}(t(1149).a),i=t(173),r=t(341),s=t(64),l=t(2155);t.d(e,"a",function(){return c}),t.d(e,"c",function(){return d}),t.d(e,"b",function(){return p});var c=function(n){function e(e,t){var a=n.call(this,e,t)||this;return a.organizationType=r.a.CONSULTANT_SLF,a.paymentInterval=s.d.MONTHLY,a}return Object(a.d)(e,n),e.prototype.getIdent=function(){return i.a.CONSULTANT},e.prototype.getFeatures=function(){return[{text:"Unlimited boards"},{text:"Private client workspaces for easy organization"},{text:"Custom templates and frameworks"},{text:"Day passes for occasional collaborators",tip:"Additional paid fee $3 each."},{text:"External editors",tip:"Available via Day Passes."},{text:"High-resolution exports"}]},e.prototype.getUnsubscribedPaymentInfo=function(n){return new o(this.activePlan,n)},e}(l.a),d=function(n){function e(e){var t=n.call(this,e,!0)||this;return t.makeOptionsForNewPlans(),t}return Object(a.d)(e,n),e}(c),p=function(n){function e(e){return n.call(this,e,!1)||this}return Object(a.d)(e,n),e}(c)},169:function(n,e,t){"use strict";t.d(e,"l",function(){return s}),t.d(e,"k",function(){return l}),t.d(e,"c",function(){return d}),t.d(e,"g",function(){return p}),t.d(e,"d",function(){return u}),t.d(e,"j",function(){return m}),t.d(e,"h",function(){return b}),t.d(e,"i",function(){return h}),t.d(e,"b",function(){return g}),t.d(e,"f",function(){return f}),t.d(e,"e",function(){return y}),t.d(e,"a",function(){return v});var a=t(32),o=t(33),i=t(106),r=t(71);function s(n,e){return o.sb(n)?Promise.resolve(!0):a.a.accounts.selectById(n.id).selectUserById(e).get().then(function(n){return!!n.role}).catch(function(){return!1}).then(function(e){return!!e||c(n)})}function l(n,e){return o.sb(n)?Promise.resolve(!0):a.a.accounts.selectById(n.id).invites().includes({search:e},function(n){return n.email===e}).catch(function(){return!1}).then(function(e){return!!e||c(n)})}function c(n){return a.a.accounts.selectById(n.id).get({fields:"organization"}).then(function(n){return!!n.organization&&a.a.organizations.selectById(n.organization.id).dayPasses().then(function(n){return Object(o.y)(n)})})}function d(n){return n&&n.currentUserPermission&&n.currentUserPermission.role!==i.a.ADMIN?a.a.accounts.selectById(n.id).getTeamAdmins(1).then(function(n){return n.data[0].email}):Promise.resolve("")}function p(n){return a.a.accounts.selectById(n).get({fields:"limits,usersNumber,organization{remainingFullLicenseNumber,fullUsersLimit}"})}function u(n){return a.a.accounts.selectById(n).get({fields:"boardsNumber"}).then(function(n){return n.boardsNumber})}function m(n){return a.a.accounts.selectById(n).get({fields:"usersNumber"}).then(function(n){return n.usersNumber})}function b(n){return a.a.accounts.selectById(n).get({fields:"usersNumber,boardsNumber"})}function h(n){return a.a.boards.selectById(n).get({fields:"account{usersNumber,boardsNumber}"}).then(function(n){return n.account})}function g(n){return a.a.boards.array({filter:r.b.ACTIVE,attachment:n}).getSize()}function f(n){return a.a.billing.selectById(n).getPastDueInvoices()}function y(n,e){return a.a.accounts.selectById(n).experiments.get(e)}function v(n){return a.a.accounts.selectById(n).get({fields:"type,usersNumber,invitesNumber,role"})}},2154:function(n,e,t){n.exports=t.p+"static/images/application/icons/blue-lock.5d2c39.png"},2155:function(n,e,t){"use strict";t.d(e,"a",function(){return m});var a=t(21),o=t(1482),i=t(494),r=t(79),s=t(460),l=t(173),c=t(136),d=t(81),p=t(33),u=t(2156),m=function(n){function e(e,t){var a=n.call(this,e)||this;return a._createSubscription=t,a}return Object(a.d)(e,n),Object.defineProperty(e.prototype,"createSubscription",{get:function(){return this._createSubscription},enumerable:!0,configurable:!0}),e.prototype.getIdent=function(){return l.a.BUSINESS},e.prototype.getFeatures=function(){return[{text:"Day passes for occasional collaborators",tip:"Provide 24-hour access to short-term collaborators like key stakeholders, workshop attendees, and more. \u0421onvert frequent Day Pass users to full users when at any time"},{text:"External editors"},{text:"SSO"}]},Object.defineProperty(e.prototype,"canToggleDayPasses",{get:function(){return this.createSubscription||!this.isCurrentPlan()},enumerable:!0,configurable:!0}),e.prototype.getUnsubscribedPaymentInfo=function(n){return new u.a(this.activePlan,n)},e.prototype.getPaymentParams=function(n,e){return Object(a.b)(this,void 0,Promise,function(){var t,o;return Object(a.e)(this,function(i){switch(i.label){case 0:return t=Object(a.a)(Object(a.a)({},e),{paymentInterval:this.paymentInterval,quantity:this.selectedValue,currentQuantity:this.membersLimit,activePlan:this.activePlan,targetPlanIdent:this.getIdent(),targetPlanType:this.organizationType,cancelAtPeriodEnd:!1}),this.createSubscription?[3,1]:(t.receiverId=this.activePlan.account.id,this.isCurrentPlan()||(t.name=this.activePlan.account.title),[3,4]);case 1:return this.activePlan.isFree?(t.appendAccountId=this.activePlan.account.id,t.name=this.activePlan.account.title,[3,4]):[3,2];case 2:return[4,n.getUser()];case 3:o=i.sent(),t.name=Object(p.H)(o.domainGroup,o.name,o.email),i.label=4;case 4:return this.paymentInfo.canUseCoupon&&(t.couponId=this.couponId),[2,t]}})})},e.prototype.purchase=function(n,e){var t,a,o=this;return void 0===e&&(e=this.informationForUpload),this.getPaymentParams(n,e).then(function(e){return t=e,Object(i.b)(e,n)}).then(function(n){return o.receiverAfterPayment=n,a=n.receiverId,o.dayPassesActivated?Object(i.j)(a,!0):Promise.resolve()}).then(function(){return o.createEmptyTeamForNewAccount(t,a)}).then(function(n){var e={receiver:o.receiverAfterPayment};return n&&(e.accountId=n.id),e}).catch(function(n){throw{street:!1,city:!1,country:!1,card:!0,msg:n.message||r.b.getJsonError(n).message,zipError:!1}})},e.prototype.createEmptyTeamForNewAccount=function(n,e){return this.createSubscription&&(d.f(c.a.organizationPlanPurchasedId,this.receiverAfterPayment.receiverId),Object(i.a)(this.activePlan.account.type,this.getIdent())&&!this.activePlan.isFree)?Object(i.d)(n.name,e):Promise.resolve()},Object.defineProperty(e.prototype,"dayPassPrice",{get:function(){return 3},enumerable:!0,configurable:!0}),e.prototype.makeOptionsForNewPlans=function(){for(var n=[],e=!Object(p.pb)(this.activePlan.account)&&Object(p.db)({type:this.activePlan.account.type})?Math.max(this.paymentInfo.minTeamSize,this.minAccountSize):this.minAccountSize,t=100*Math.ceil(e/100),a=e;a<=t;a++)n.push({value:a,key:this.getMembersCaption(a)});this.options=n},Object(a.c)([s.a],e.prototype,"canToggleDayPasses",null),e}(o.a)},2156:function(n,e,t){"use strict";t.d(e,"a",function(){return s});var a=t(21),o=t(1149),i=t(64),r=t(460),s=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.pricePerMonth=20,e}return Object(a.d)(e,n),Object.defineProperty(e.prototype,"minTeamSize",{get:function(){return Math.max(this.membersCount,20)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paymentInterval",{get:function(){return i.d.YEARLY},enumerable:!0,configurable:!0}),Object(a.c)([r.a],e.prototype,"paymentInterval",null),e}(o.a)},2157:function(n,e,t){var a=t(4489);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},2158:function(n,e,t){"use strict";var a;t.d(e,"a",function(){return a}),function(n){n.DOWNGRADE="downgrade",n.RESUBSCRIBE="resubscribe",n.CANCEL="cancel"}(a||(a={}))},2159:function(n,e,t){"use strict";t.d(e,"a",function(){return o});var a=t(2126);function o(){return Object.keys(a.a).map(function(n){return{key:a.a[n],value:n}})}},2160:function(n,e,t){"use strict";t.d(e,"a",function(){return i});var a=t(21),o=t(43),i=(t(4503),{base:{color:"#32325d",lineHeight:"18px",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}),r=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.card=null,e}return Object(a.d)(e,n),e.prototype.shouldComponentUpdate=function(n){return n.className!==this.props.className},e.prototype.componentDidMount=function(){if(this.wrapper){var n=this.props.stripe.elements();this.card=n.create("card",{style:i,hidePostalCode:!0}),this.card.mount(this.wrapper),this.card.on("change",this.onCardChange)}},e.prototype.onCardChange=function(n){this.card&&this.props.onChange(this.card,n)},e.prototype.componentWillUnmount=function(){this.card&&this.card.unmount()},e.prototype.render=function(){var n=this;return o.React.createElement("div",{ref:function(e){return n.wrapper=e},className:Object(o.classNames)("stripe-card-input",this.props.className)})},Object(a.c)([o.decorators.autobind],e.prototype,"onCardChange",null),e}(o.React.Component);e.b=r},2161:function(n,e){n.exports="#icons__powered-by-stripe-no-border"},2162:function(n,e,t){var a=t(4506);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},2163:function(n,e,t){var a=t(4539);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},2164:function(n,e,t){"use strict";var a;t.d(e,"a",function(){return a}),function(n){n.Professional_monthly="Professional_monthly",n.Professional_yearly="Professional_yearly",n.Team_monthly="Team_monthly",n.Team_yearly="Team_yearly",n.Company_yearly="Company_yearly",n.Consultant_monthly="Consultant_monthly",n.Consultant_yearly="Consultant_yearly"}(a||(a={}))},2165:function(n,e,t){"use strict";(function(n){var a,o=t(21),i=t(48),r=t(32),s=t(26),l=t(79),c=t(461),d=function(e){function t(n){var t=e.call(this)||this;return t.modalLoading=!0,t.couponLoading=!1,t.subscriptionLoading=!1,t.couponOpened=!1,t.couponFailed=!1,t.couponFailedMessage="",a=n,t}return Object(o.d)(t,e),t.prototype.modalReady=function(){this.modalLoading=!1},t.prototype.toggleCoupon=function(){this.couponOpened=!this.couponOpened,this.couponOpened&&setTimeout(function(){return n(".modal-subscription-upgrade .md-content__content-upgrade-coupon input").focus()})},t.prototype.openCoupon=function(){this.couponOpened=!0},t.prototype.closeCoupon=function(){this.couponOpened=!1},t.prototype.checkCoupon=function(){var n=this;if(this.couponValue){this.couponLoading=!0;var e=r.a.billing.checkCoupon(this.couponValue),t=Object(c.a)().getUpcoming(this.params.receiverId,{quantity:this.params.size,coupon:this.couponValue,plan:this.subscriptionPlanId});Promise.all([e,t]).then(function(e){var t=e[0],a=e[1],o=a.subscriptionAmount/100;if(t.valid){n.couponResult={name:n.couponValue,total:o,couponValue:t.percentOff?t.percentOff+"%":"$"+(t.amountOff&&t.amountOff/100)};var i=a.total-a.prorationAmount;n.params.total.amount=i/100,"switch"===n.params.modalType?n.params.price.upgrade.amount=Math.round(i/12)/100:n.params.price.upgrade.amount=i/100;var r=a.amountDue-i;r<0&&(r=0),n.params.upcoming=r,s.jb(n.couponValue)}else n.checkCouponFailed(l.b.createApiJsonError("stripeCouponRetrieveMethodFailed"));n.couponLoading=!1,n.$scope.$digest()}).catch(function(e){n.checkCouponFailed(e),n.couponLoading=!1,n.$scope.$digest()})}},t.prototype.checkCouponFailed=function(n){s.ib(this.couponValue),this.couponFailed=!0,this.couponFailedMessage=a.getFailApiMessage(n)},t.prototype.cancel=function(){var n=this;setTimeout(function(){return e.prototype.cancel.call(n)})},t.$inject=["NotificationService"],t}(i.b);e.a=d}).call(this,t(36))},2166:function(n,e,t){var a=t(4576);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},2167:function(n,e,t){n.exports='<div class="md-container modal-subscription-upgrade">\n    <div class="md-content">\n        <div class="md-content__head-wrapper">\n            <div class="md-content__head-text">{{\'account.commons.modal.subscription.\' + modal.params.modalType + \'.head\' | translate}}</div>\n            <div class="md-content__head-close" hm-tap="modal.cancel()">\n                <icon icon-name="\'general--modal-close\'"></icon>\n            </div>\n        </div>\n\n        <div class="md-content__content" ng-show="!modal.modalLoading">\n            <div class="md-content__content-seats" ng-show="modal.params.seats !== undefined">\n                <div class="md-content__content-seats-icon">\n                    <svg  class="icon"  ><use xlink:href="'+t(2168)+'"></use></svg>\n                </div>\n                <div class="md-content__content-seats-text"\n                     ng-bind-html="\'account.commons.modal.subscription.increase.seats\' | translate:{seats: modal.params.seats > 0 ? modal.params.seats : 0}"></div>\n                <div class="clear"></div>\n            </div>\n\n            <div class="md-content__content-header">\n                <div class="md-content__content-account">\n                    <span>{{(\'account.commons.modal.subscription.upgrade.account.caption.\' + modal.params.planType) | translate}}</span>\n                    <span>\n                        {{modal.params.teamName ||\n                            ((\'account.commons.modal.subscription.upgrade.account.type.\' + modal.params.planType) | translate)}}\n                    </span>\n                </div>\n                <div class="clear"></div>\n                <div class="md-content__content-card">\n                    <span>Credit card:</span>\n                    <span>**** {{modal.params.last4}}</span>&nbsp;\n                </div>\n                <div class="clear"></div>\n\n                <a href="//stripe.com" target="_blank" class="md-content__content-header-stripe">\n                    <icon icon-name="\'general--billing-stripe-logo\'"></icon>\n                </a>\n            </div>\n\n            <div class="md-content__content-main">\n                <div class="md-content__content-current">\n                    <div class="md-content__content-current-caption">{{\'account.commons.modal.subscription.upgrade.current.caption\' | translate}}</div>\n                    <div class="md-content__content-current-interval">\n                        <span>{{\'account.commons.modal.subscription.upgrade.common.interval.caption\' | translate}}</span>\n                        <span>{{(\'account.commons.modal.subscription.upgrade.common.interval.\' + modal.params.interval.current) | translate}}</span>\n                    </div>\n                    <div class="md-content__content-current-size" ng-show="modal.params.modalType == \'increase\'">\n                        <span>{{(\'account.commons.modal.subscription.upgrade.common.size\' | translate:{planName: modal.params.planName})}}</span>\n                        <span>{{modal.params.quantity.current}}</span>\n                    </div>\n                    <div class="md-content__content-current-price">\n                        <span>{{\'account.commons.price\' | translate:modal.params.price.current}}</span>\n                        <span>{{(\'account.commons.modal.subscription.\' + modal.params.modalType + \'.common.price.\' + modal.params.interval.current) | translate}}</span>\n                    </div>\n                </div>\n\n                <div class="md-content__content-upgrade">\n                    <div class="md-content__content-current-caption">{{\'account.commons.modal.subscription.upgrade.upgrade.caption\' | translate}}</div>\n                    <div class="md-content__content-current-interval">\n                        <span>{{\'account.commons.modal.subscription.upgrade.common.interval.caption\' | translate}}</span>\n                        <span>{{(\'account.commons.modal.subscription.upgrade.common.interval.\' + modal.params.interval.upgrade) | translate}}</span>\n                    </div>\n                    <div class="md-content__content-current-size" ng-show="modal.params.modalType == \'increase\'">\n                        <span>{{(\'account.commons.modal.subscription.upgrade.common.size\' | translate:{planName: modal.params.planName})}}</span>\n                        <span>{{modal.params.quantity.upgrade}}</span>\n                    </div>\n                    <div class="md-content__content-current-price">\n                        <span>{{\'account.commons.price\' | translate:modal.params.price.upgrade}}</span>\n                        <span>{{(\'account.commons.modal.subscription.\' + modal.params.modalType + \'.common.price.\' + modal.params.interval.upgrade) | translate}}</span>\n                    </div>\n\n                    <div class="md-content__content-upgrade-coupon">\n                        <div class="md-content__content-upgrade-coupon-caption link" hm-tap="modal.toggleCoupon()" ng-show="!modal.couponResult">\n                            {{\'account.commons.modal.subscription.upgrade.upgrade.coupon.caption\' | translate}}\n                        </div>\n\n                        <div class="md-content__content-upgrade-coupon-main" ng-show="modal.couponOpened">\n                            <div ng-show="!modal.couponResult">\n                                <ui-input-old width="150" height="30" value="modal.couponValue" on-edited="modal.checkCoupon()" direction="\'right\'"\n                                          fail-state="modal.couponFailed" fail-message="modal.couponFailedMessage | translate"></ui-input-old>\n                                <span class="md-content__content-upgrade-coupon-apply link" hm-tap="modal.checkCoupon()" ng-show="!modal.couponLoading">\n                                    {{\'account.commons.modal.subscription.upgrade.upgrade.coupon.apply\' | translate}}\n                                </span>\n                                <ui-loader show="modal.couponLoading"></ui-loader>\n                            </div>\n\n                            <div class="clear"></div>\n                            <div class="md-content__content-upgrade-coupon-result" ng-show="modal.couponResult"\n                                 ng-bind-html="\'account.commons.modal.subscription.upgrade.upgrade.coupon.result\' | translate:modal.couponResult"></div>\n\n                            <div class="clear"></div>\n                        </div>\n                    </div>\n\n                    <div class="md-content__content-upgrade-upcoming" ng-show="modal.params.modalType == \'increase\' && modal.direction == \'up\'">\n                        <div ng-bind-html="\'account.commons.modal.subscription.upgrade.upgrade.upcoming.caption\' | translate"></div>\n                        <div class="md-content__content-upgrade-upcoming-amount">\n                            {{\'account.commons.price\' | translate:\'{amount: \' + modal.params.upcoming / 100 + \'}\'}}\n                        </div>\n                    </div>\n\n                    <div class="md-content__content-upgrade-total" ng-show="modal.params.modalType == \'switch\'">\n                        <span>{{\'account.commons.modal.subscription.switch.upgrade.total\' | translate}}</span>\n                        <span>{{\'account.commons.price\' | translate:modal.params.total}}</span>\n                    </div>\n\n                    <div class="md-content__content-upgrade-confirm">\n                        <ui-button-old class="ui-button--green-fill" hm-tap="modal.submit(modal.coupon)" width="125"\n                                   caption="\'account.commons.modal.subscription.upgrade.upgrade.confirm\' | translate"></ui-button-old>\n                        <ui-loader show="modal.subscriptionLoading"></ui-loader>\n                    </div>\n\n                    <div class="md-content__content-upgrade-description">\n                        {{((\'account.commons.modal.subscription.\' + modal.params.modalType + \'.upgrade.description\' +\n                        (modal.direction ? (\'.\' + modal.direction) : \'\')) | translate:{planName: modal.params.planName})}}\n                    </div>\n                    <div class="md-content__content-upgrade-learn" ng-show="modal.params.modalType == \'increase\'">\n                        <a href="{{(\'account.commons.modal.subscription.increase.upgrade.description.link.\' +\n                            modal.direction) | translate}}" target="_blank">\n                            {{\'account.commons.modal.subscription.increase.upgrade.learn\' | translate}}\n                        </a>\n                    </div>\n                </div>\n            </div>\n\n            <div class="clear"></div>\n        </div>\n\n        <ui-loader show="modal.modalLoading"></ui-loader>\n    </div>\n</div>'},2168:function(n,e){n.exports="#account__modal-subscription-seats"},2169:function(n,e,t){n.exports=t.p+"4255404dd561a8f5a0d8b1eb2233ee17.svg"},2170:function(n,e,t){n.exports=t.p+"697ac9f88f9862d4beaae9270eefced9.svg"},2171:function(n,e,t){n.exports=t.p+"7d5770df7fcf0484da441f7ae72af557.svg"},2401:function(n,e,t){"use strict";var a=t(21),o=t(94),i=t.n(o),r=t(48),s=t(58),l=t(32),c=t(26),d=t(1454),p=t(939),u=t(460),m=t(492),b=t(673),h=t(86),g=t.n(h),f=t(771),y=t(763),v=t(64),x=t(45),_=t(173),w=t(33),I={advId:"SBWINZ75WNC3NOYLQVNJMT",pixId:"XKSVCPOWWBBVRG7QVWRUV6",segment:"aa0e3061",currency:"USD"};var C=t(114),P=t(1489),T=t(293),O=t(169),M=t(35),E=t(112),A=t(77),S=t(1567);t.d(e,"b",function(){return N}),t.d(e,"c",function(){return k});var N=[{value:v.d.YEARLY,caption:"Yearly"},{value:v.d.MONTHLY,caption:"Monthly"}],j=function(n){function e(e,t,a){var o=n.call(this)||this;return o.AuthorizationService=e,o.scope=t,o.$translate=a,o.cardReady=Promise.resolve(),o.loadingModel={loading:!1,loadingPromo:!1,loadingCardToken:!1,loadingReceiver:!1,loadingUpcomingInfo:!1},o.titleText="",o.subtitleText="",o.subtitleActionText="",o.paymentError="",o.formErrorState={city:!1,country:!1,street:!1,zip:!1,card:!1,region:!1},o}return Object(a.d)(e,n),Object.defineProperty(e.prototype,"isFreeTeam",{get:function(){return Object(w.db)(this.activePlan.account)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPaidTeam",{get:function(){return Object(w.rb)(this.activePlan.account)||Object(w.nb)(this.activePlan.account)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"internalOptions",{get:function(){return N},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"informationForUpload",{get:function(){var n=this.cardSelectModel;return n&&n.cardsInfo[n.selected]},set:function(n){var e=this.cardSelectModel;e&&n&&(e.cardsInfo[e.selected]=n)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canChooseInterval",{get:function(){var n=this.planModel.currentPaymentInfo;return!(n&&n.paymentInterval===v.d.MONTHLY&&!this.canChooseMemberCount)&&this.planModel.canChooseInterval},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canChooseMemberCount",{get:function(){return this.planModel.canChangeMemberCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canToggleDayPasses",{get:function(){return this.planModel.canToggleDayPasses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this.params.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activePlan",{get:function(){return this.context.activePlan},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTestimonialFooter",{get:function(){return this.cardSelectModel&&this.cardSelectModel.cardsInfo[this.cardSelectModel.selected].isNewCard},enumerable:!0,configurable:!0}),e.prototype.init=function(){var n=this;Object(P.b)(this.activePlan.account),this.planModel=this.params.plan,this.userEmail=this.activePlan.currentUserEmail,this.promoInputModel={value:"",isValid:!0,isDisabled:!1,isVisible:!1,textInputButton:"Apply"},this.planModel.receiver?this.initCardsInfo(this.planModel.receiver):this.planModel.signals.loaded.addOnce(function(){n.initCardsInfo(n.planModel.receiver)}),this.initHeaderText();var e=Object(E.a)({expired:this.activePlan.expired,org_id:this.activePlan.isOrganizationType&&this.activePlan.account.id||"",plan:this.activePlan.type,user_role:this.activePlan.role,from:this.params.openedFrom||"",initiated_from:"app"});Object(E.b)("viewed_payment_details",e),this.planModel.signals.updated.add(function(){n.scope.safeDigest()})},e.prototype.canShowBackButton=function(){return this.context instanceof p.a},e.prototype.initCardsInfo=function(n){var e={info:n&&n.info?n.info:{},subscription:{},isNewCard:!0};if(this.cardSelectModel={cardsInfo:[e],selected:0},!this.planModel.createSubscription&&n&&n.customer&&n.customer.card){var t=g()(e);t.isNewCard=!1,t.cardInfo=n.customer.card,this.cardSelectModel.cardsInfo.unshift(t)}else e.showed=!0},e.prototype.initHeaderText=function(){this.pastDueInvoices?(this.titleText="Complete outstanding payment",this.subtitleText="Fill billing information for covering failed proration charge."):(this.planModel.createSubscription&&!this.planModel.activePlan.isFree?this.titleText="Create new "+this.getPlanIdent()+" plan account":this.titleText=this.getCurrentAccountName()+" "+this.getPlanIdent()+" plan details",this.canShowBackButton()?this.subtitleText="Fill out the form below with information on your billing plan":(this.subtitleText="Fill out your billing information or ",this.subtitleActionText="see all plans"))},e.prototype.destroy=function(){this.planModel.coupon=void 0},e.prototype.getCurrentAccountName=function(){return this.activePlan.title},e.prototype.getPlanIdent=function(){return this.planModel&&this.planModel.getIdent?this.planModel.getIdent():""},e.prototype.loading=function(){var n=this;return Object.keys(this.loadingModel).some(function(e){return n.loadingModel[e]})||this.paymentStripeInfoLoading()||this.planModel.loaded},e.prototype.paymentStripeInfoLoading=function(){var n=this.paymentInfo;return n instanceof b.a&&n.loading},e.prototype.showPrice=function(){var n=this.paymentInfo;return!(n instanceof b.a)||!n.loading&&(n.directionUpgrade()||!this.planModel.isCurrentPlan()||this.activePlan.account.expired)},e.prototype.purchaseAllowed=function(){return this.pastDueInvoices?!this.loading():!this.loading()&&!!this.informationForUpload&&this.planModel.informationWasUpdated},e.prototype.onPaymentFormChange=function(n,e){this.paymentError="",this.cardSelectModel&&(this.cardSelectModel.cardsInfo[e]=n)},e.prototype.validateUploadInfo=function(){var n=this.informationForUpload;if(!n.isNewCard)return!0;var e=n.info,t=n.subscription;this.formErrorState.street=!e.street1,this.formErrorState.zip=!e.zip,this.formErrorState.country=!e.country,this.formErrorState.city=!e.city,this.formErrorState.card=!t.card;var a=e.country&&d.a[e.country];this.formErrorState.region=!!a&&!!a.length&&!e.state;var o=!0;for(var i in this.formErrorState)o=o&&!this.formErrorState[i];return o||this.$scope.safeApply(),o},e.prototype.onCardSelect=function(n){this.paymentError="",this.cardSelectModel.selected=n,this.informationForUpload.showed=!0},e.prototype.makeCardlable=function(n){return n.isNewCard?"Other card":"Card ****"+n.cardInfo.last4},e.prototype.purchase=function(){var e=this;this.purchaseAllowed()&&(c.zj(),this.loadingModel.loading=!0,this.cardReady.then(function(){if(e.validateUploadInfo())return e.planModel.informationForUpload=e.informationForUpload,e.sendPaymentStat(),e.pastDueInvoices?Object(T.a)().payPastDueInvoices(e.planModel.receiver.receiverId,e.planModel.informationForUpload).then(function(){e.loadingModel.loading=!1,Object(P.a)(),n.prototype.submit.call(e),e.openPastDueInvoicesPurchaseSuccess()}).catch(function(n){e.loadingModel.loading=!1,e.setError(n),e.AuthorizationService.setReceiverDeprecated(),e.reloadPastDueInvoices()}):e.planModel.purchase(e.AuthorizationService).then(function(t){e.loadingModel.loading=!1,Object(P.a)(),n.prototype.submit.call(e),e.params.doNotOpenSuccessModal?e.context.onPaymentFinish():k(t,e.planModel)}).catch(function(n){e.loadingModel.loading=!1,e.setError(n),e.AuthorizationService.setReceiverDeprecated()});e.loadingModel.loading=!1,e.$scope.safeApply()}))},e.prototype.sendPaymentStat=function(){var n=this.informationForUpload,e={paylater_abtest:this.activePlan.hasFeaturePostInvitationPayments,account_id:this.activePlan.id};n&&n.isNewCard&&this.cardSelectModel.cardsInfo.length>1&&c.kb(e),!this.context.canChangeMemberCount&&this.context.canChangePaymentPeriod&&c.he(e),this.context.canChangeMemberCount&&!this.context.canChangePaymentPeriod&&c.fe(e)},Object.defineProperty(e.prototype,"paymentInfo",{get:function(){return this.planModel.paymentInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentPaymentInfo",{get:function(){return this.planModel.currentPaymentInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canUsedCoupon",{get:function(){return this.paymentInfo.discountType===m.a.COUPON&&this.paymentInfo.canUseCoupon&&(!this.planModel.canDoPostInvitationPayments()||this.paymentInfo instanceof b.a&&!this.paymentInfo.loading&&!this.planModel.isCurrentPlan())},enumerable:!0,configurable:!0}),e.prototype.isUpdateSubscription=function(){return!this.planModel.createSubscription&&!!this.planModel.receiver&&this.planModel.receiver.hasSubscription},e.prototype.priceText=function(){return this.isUpdateSubscription()?"Proration":"Total price"},e.prototype.subscriptionAmountText=function(){return this.planModel&&this.planModel.getIdent&&this.planModel.getIdent()===_.a.CONSULTANT?"Choose the number of full members":"Choose team size"},e.prototype.onTokenStartLoading=function(n){this.cardReady=n},e.prototype.setError=function(n){this.formErrorState.card=!!n.card,this.formErrorState.country=!!n.country,this.formErrorState.city=!!n.city,this.formErrorState.street=!!n.street,this.formErrorState.zip=!!n.zipError,this.paymentError=n.msg,this.$scope.safeApply()},e.prototype.onBack=function(){this.context instanceof p.a&&(this.cancel(),c.Nb(this.planModel.selectedValue,this.paymentInterval),Object(x.a)().show(Object(y.a)({plans:this.context})))},e.prototype.onCancel=function(){Object(P.a)(),this.cancel(),c.Zd(),this.context.canChangeMemberCount&&!this.context.canChangePaymentPeriod&&c.Ed({paylater_abtest:this.activePlan.hasFeaturePostInvitationPayments,account_id:this.activePlan.id}),this.context.onPaymentCancel()},e.prototype.openPricing=function(){if(this.context.billingPlans){Object(A.a)().sendApiEvent("button_clicked",Object(E.a)({button_name:"see all plans",button_place:"payment_details_window",component:"app",feature:"pricing",button_id:1}));var n=new S.a(this.context.activePlan.account,this.context.contextOptions).getPlans(this.context.billingPlans);Object(x.a)().show(Object(y.a)({plans:n}))}},e.prototype.changeInterval=function(n){this.planModel.paymentInterval=n},Object.defineProperty(e.prototype,"paymentInterval",{get:function(){return this.planModel.paymentInterval},enumerable:!0,configurable:!0}),e.prototype.onShowPromoInput=function(){this.promoInputModel.isVisible=!0;var n=document.querySelector(".promo-input.rtb-input-field input");this.promoInputModel.isDisabled||setTimeout(function(){n.focus()},0)},e.prototype.onKeyUp=function(n){n.keyCode===s.a.ENTER&&this.onApplyCoupon()},e.prototype.onBlur=function(n){""===this.promoInputModel.value&&(this.promoInputModel.isValid=!0)},e.prototype.onApplyCoupon=function(){var n=this,e=this.promoInputModel.value;e?(this.loadingModel.loadingPromo=!0,l.a.billing.checkCoupon(e).then(function(t){t.valid?(n.planModel.coupon=t,n.planModel.coupon.id=e,n.promoInputModel.value='"'+e+'"',n.promoInputModel.isValid=!0,n.promoInputModel.isDisabled=!0,n.promoInputModel.textInputButton="Applied",n.loadingModel.loadingPromo=!1,c.jb(e),n.$scope.$apply()):n.checkCouponFailed(e)}).catch(function(){return n.checkCouponFailed(e)})):this.promoInputModel.isValid=!1},e.prototype.checkCouponFailed=function(n){this.promoInputModel.isValid=!1,this.loadingModel.loadingPromo=!1,c.ib(n),this.$scope.$apply()},Object.defineProperty(e.prototype,"textOfMembers",{get:function(){var n=this.planModel.selectedValue,e=this.planModel.currentPaymentInfo;if(!e)return"";var t=e.paymentMemberCount,a=this.planModel.membersCount,o=Math.abs(n-t);return n>t?"+"+o+" "+this.formatMember(o):n<t?"-"+o+" "+this.formatMember(o):n<a?"There are "+a+" "+this.formatUser(a)+" in the team. \n\t\t\t\t\tBoards will be locked until you remove "+o+" extra \n\t\t\t\t\t"+this.formatUser(o):""},enumerable:!0,configurable:!0}),e.prototype.formatMember=function(n){return 1===n?"member":"members"},e.prototype.formatUser=function(n){return 1===n?"user":"users"},e.prototype.showTotalSum=function(){return!this.showCreditDiscount()},e.prototype.showCouponDiscount=function(){return this.paymentInfo.discountWasApplied&&this.paymentInfo.discountType===m.a.COUPON},e.prototype.showCreditDiscount=function(){return this.paymentInfo.discountWasApplied&&this.paymentInfo.discountType===m.a.CREDITS},Object.defineProperty(e.prototype,"paymentTextInfo",{get:function(){var n,e=this.paymentInfo,t=this.currentPaymentInfo,a=e.totalSum.toLocaleString("en-US"),o=e.nextPurchaseDate,r="Unless cancelled, your subscription will renew on <b>"+o+"</b>, charging you $"+e.totalCost.toLocaleString("en-US")+". ",s=i()().format("Do");if(this.planModel&&this.planModel.getIdent&&this.planModel.getIdent()===_.a.TEAM)n=this.paymentInterval===v.d.MONTHLY?"You will be charged for your monthly subscription on the <b>"+s+" of each month</b>. When you add new team members, we will bill you only for the time used upon renewal. Your monthly charge will be also updated.":"The next charge for your yearly subscription will occur on <b>"+o+"</b>. When you add new team members, we will calculate the prorated amount for the rest of the year and bill you at the end of the month for all new additions.";else{var l=(+e.totalCost.toFixed(2)).toLocaleString("en-US"),c=this.planModel.dayPassesActivated?" + $"+this.planModel.dayPassPrice.toLocaleString("en-US")+" for each day pass":"";n=this.paymentInterval===v.d.MONTHLY?"You\u2019ll be charged $"+l+c+" monthly until you cancel the subscription.":"You\u2019ll be charged $"+l+" yearly"+c+(c?" monthly":"")+" until you cancel the subscription."}if(e instanceof b.a){if(this.planModel.isCurrentPlan()){if(e.directionUpgrade()){if(e.changedPaymentInterval)return"You will be charged $"+a+" now. "+r;if(e.changedMemberCount){var d="";return this.planModel.canDoPostInvitationPayments()?(this.paymentInterval===v.d.MONTHLY?d="You won't be charged now. A prorated charge of $"+a+" will be added to your next monthly payment due on <b>"+o+"</b>. "+r:this.paymentInterval===v.d.YEARLY&&(d="You won't be charged now. The next charge for your subscription will occur on <b>"+o+"</b>. You are adding "+e.prorationQuantityIncrement+" seat"+(e.prorationQuantityIncrement>1?"s":"")+" at $8/month/seat. We will bill you $"+a+" on <b>"+e.prorationPaymentDate+"</b>."),d):n}return n}if(e.directionDowngrade())return"You won't be charged now. You will be charged proportionally less on your next recurring payment. ";if(this.planModel.canDoPostInvitationPayments()){p="Your subscription will renew on "+o;if(t instanceof b.a&&t.prorationQuantityIncrement)p+=", charging you $"+(+(t.totalSum+t.totalCost).toFixed(2)).toLocaleString("en-US")+" for your team seats, including "+t.prorationQuantityIncrement+" newly added";return p+"."}return n}var p="We have calculated the price considering your current subscription prorated price. You next renewal payment is "+o+". Added seats will be charged immediately.";return this.planModel.dayPassesActivated&&(p+=" Day pass usage will be charged monthly."),p}var u=n;return this.showCreditDiscount()&&e.totalDiscount>=e.totalCost&&(u+="The remaining credits will be used towards your next payment before charging your credit card. "),u},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"helpTextInfo",{get:function(){return this.planModel.canDoPostInvitationPayments()&&this.paymentInfo instanceof b.a&&!this.paymentInfo.loading&&this.paymentInfo.directionUpgrade()?'See our <a href="https://help.miro.com/hc/en-us/articles/360017571714-How-Am-I-Going-to-Be-Charged-/" \n\t\t\t\t\t\t\t   target="_blank" \n\t\t\t\t\t\t\t   class="rtb-link rtb-link--secondary">Guide to billing</a> for more info.':'See <a href="'+this.$translate.instant("account.commons.billing.link.faq")+'" target="_blank" class="rtb-link rtb-link--secondary">FAQ</a> or <a href="'+this.$translate.instant("account.commons.billing.link.createTicket")+'" target="_blank" class="rtb-link rtb-link--secondary">submit&nbsp;a&nbsp;question</a> to address any concerns.'},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showUpgradeToCompanyNotification",{get:function(){return this.paymentInfo.paymentMemberCount>=50},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showContactUsLink",{get:function(){return this.paymentInfo.paymentMemberCount>=20&&this.paymentInfo.paymentInterval===v.d.YEARLY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPremiumAccount",{get:function(){return this.planModel.activePlan.account.type in C.a&&Object(w.ub)({type:this.planModel.activePlan.account.type})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentPlanColumnTitle",{get:function(){return this.planModel.isCurrentPlan()?"Current # of seats":"Current plan"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newPlanColumnTitle",{get:function(){return this.planModel.isCurrentPlan()?"Updated # of seats":"New plan"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"submitBtnText",{get:function(){return this.pastDueInvoices?this.informationForUpload&&this.informationForUpload.isNewCard?"Pay and change card":"Pay now":this.paymentInfo.totalSum?"Purchase":"Confirm"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pastDueInvoices",{get:function(){return this.context.pastDueInvoices&&(this.context.pastDueInvoices.length>0?this.context.pastDueInvoices:void 0)},enumerable:!0,configurable:!0}),e.prototype.pastDueInvoiceLinkHref=function(n){return"/pricing/invoice/?invoiceId="+n+"&receiverId="+this.context.activePlan.account.id},e.prototype.pastDueInvoiceLinkText=function(n){var e=i()(n);return e.date()+"/"+(e.month()+1)+"/"+e.year()},e.prototype.pastDueInvoicesTotalSum=function(){var n=0;return this.pastDueInvoices&&this.pastDueInvoices.forEach(function(e){return n+=e.amountDue}),n},e.prototype.openPastDueInvoicesPurchaseSuccess=function(){Object(x.a)().show(Object(f.a)({captionText:"Payment successful!",contentText:"Thank you for completing payment for "+this.planModel.activePlan.account.title+" Team.",plan:this.planModel}))},e.prototype.reloadPastDueInvoices=function(){var n=this;this.loadingModel.loading=!0,Object(O.f)(this.planModel.receiver.receiverId).then(function(e){n.loadingModel.loading=!1,n.context.pastDueInvoices=e,n.$scope.safeApply()}).catch(function(e){n.loadingModel.loading=!1,Object(M.a)().showErrorByData(e)})},e.$inject=["AuthorizationService","$scope","$translate"],Object(a.c)([u.a],e.prototype,"textOfMembers",null),e}(r.a);e.a=j;function k(n,e){var t="Payment successful!",a="",o=e.paymentInterval,i=e.activePlan,r=e.paymentInfo,s=Object(w.M)(i.account);if(e.isCurrentPlan())r instanceof b.a&&(r.directionUpgrade()?e.canDoPostInvitationPayments()&&!r.changedPaymentInterval?(t=s+" size changed",o===v.d.MONTHLY&&(a="A prorated fee of $"+r.totalSum+" has been added to your next "+o+"ly payment due on "+r.nextPurchaseDate+"."),o===v.d.YEARLY&&(a="On <b>"+r.prorationPaymentDate+"</b> you will be charged a prorated amount of <b>$"+r.totalSum+"</b> for the added "+s+" account seats, based on the time left in your current subscription.")):a="You were charged a $"+r.totalSum+" prorated fee for the added "+s+" account seats, based on the time left in your current subscription.":r.directionDowngrade()&&(t=s+" size changed",a=s+" size has been decreased. Depending on the amount of time left in your current subscription, you will be charged proportionally less on the next recurring payment."));else{switch(e.getIdent()){case _.a.TEAM:a=i.title+" Team has been upgraded to Team "+e.selectedValue+"&nbsp;members, billed "+o+"ly.";break;case _.a.CONSULTANT:a=i.title+" Team has been converted to Consultant plan: <b>"+e.selectedValue+"&nbsp;members, billed "+o+"ly.</b>";break;case _.a.BUSINESS:a=i.title+" Team has been converted to Business plan: <b>"+e.selectedValue+"&nbsp;members, billed "+o+"ly.</b>"}e&&e.lastReceiver&&e.lastReceiver.customer&&(a+=" An email with your payment details has been sent to "+e.lastReceiver.customer.userEmail+". Your invoice is attached below.")}!function(n){if(!window.adroll_loaded){window.adroll_adv_id=I.advId,window.adroll_pix_id=I.pixId;var e=document.createElement("script"),t="https:"===document.location.protocol?"https://s.adroll.com":"http://a.adroll.com";e.setAttribute("async","true"),e.type="text/javascript",e.src=t+"/j/roundtrip.js",document.body.appendChild(e),window.adroll_loaded=!0}window.adroll_segments=I.segment,window.adroll_conversion_value=n,window.adroll_currency=I.currency}(r.totalSum),Object(x.a)().show(Object(f.a)({captionText:t,contentText:a,plan:e,receiverId:n.receiver.receiverId,accountId:n.accountId}))}},2407:function(n,e,t){"use strict";var a=t(21),o=t(43),i=t(2160),r=t(461),s=(t(4540),function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={},e}return Object(a.d)(e,n),e.prototype.componentDidMount=function(){var n=this;Object(r.a)().getStripe().then(function(e){return n.setState({stripe:e}),e}).then(this.props.onLoad).catch(this.props.onError)},e.prototype.render=function(){var n,e=this.state.stripe;return e?o.React.createElement(i.b,Object(a.a)({stripe:e},this.props)):(n=this.props.className,o.React.createElement("div",{className:Object(o.classNames)("fake-stripe-card-input",n)}))},e}(o.React.PureComponent));t(4542);var l=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.stripe=null,e.state={cardErrorTxt:null},e}return Object(a.d)(e,n),e.prototype.onCardChange=function(n,e){var t=null;e&&e.error&&(t=e.error.message||null,this.props.onTokenError&&this.props.onTokenError(e.error)),this.setState({cardErrorTxt:t}),this.loadToken(n,e);var a=this.props.onChange;a&&a(e)},e.prototype.loadToken=function(n,e){var t=this;if(this.stripe&&e&&e.complete){var a=this.stripe.createToken(n,{address_zip:this.props.postalCode}).then(function(n){var e=null,a=n.token,o=n.error;a?t.props.onTokenLoaded(a):o&&(e=o.message||null),t.setState({cardErrorTxt:e})});this.props.onTokenLoading&&this.props.onTokenLoading(a)}},e.prototype.onStripeLoaded=function(n){this.stripe=n},e.prototype.onError=function(n){this.setState({cardErrorTxt:n.message})},e.prototype.isInvalid=function(){return!!this.state.cardErrorTxt||!!this.props.isInvalid},e.prototype.render=function(){var n=this.props,e=n.className,t=n.children,a=n.cardInputClassName,i=n.cardErrorClassName,r=this.state.cardErrorTxt,l=this.isInvalid();return o.React.createElement("div",{className:Object(o.classNames)("stripe-token-card-input",e)},t,o.React.createElement(s,{className:Object(o.classNames)({"stripe-token-card-input__card-invalid":l},a),onLoad:this.onStripeLoaded,onChange:this.onCardChange,onError:this.onError}),o.React.createElement(o.If,{cond:!!r},o.React.createElement("div",{className:Object(o.classNames)("stripe-token-card-input__card-error",i)},r)))},Object(a.c)([o.decorators.autobind],e.prototype,"onCardChange",null),Object(a.c)([o.decorators.autobind],e.prototype,"onStripeLoaded",null),Object(a.c)([o.decorators.autobind],e.prototype,"onError",null),e}(o.React.PureComponent);e.a=l},293:function(n,e,t){"use strict";var a;function o(n){if(a)throw new Error("IPaymentService is already registered");a=n}t.d(e,"b",function(){return o}),e.a=function(){return a}},414:function(n,e,t){"use strict";var a=t(21),o=t(43),i=t(135),r=t(484),s=(t(485),function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.id="ui-input-"+Object(i.b)(),e}return Object(a.d)(e,n),e.prototype.onChange=function(n){var e=this.props.onChange;e&&e(n.target.value)},e.prototype.render=function(){var n=this.props,e=n.className,t=n.tooltipText,a=n.label,i=n.name,s=n.checked,l=n.value,c=n.isDisabled,d=void 0!==c&&c,p=n.dataAutotestId,u=Object(o.classNames)("rtb-radiobutton",{"rtb-radiobutton--disabled":d},e);return o.React.createElement("div",{className:u,"data-autotest-id":p},o.React.createElement("input",{type:"radio",id:this.id,name:i,value:l,checked:s,disabled:d,onChange:this.onChange}),a&&o.React.createElement("label",{className:"rtb-checkbox__label",htmlFor:this.id},a),t&&o.React.createElement(r.a,{className:"rtb-radiobutton__icon-wrapper",tooltipText:t}))},Object(a.c)([o.decorators.autobind],e.prototype,"onChange",null),e}(o.React.PureComponent));e.a=s},4462:function(n,e,t){n.exports=t.p+"52b9775453195c5c82176a424bf9e22e.svg"},4463:function(n,e){n.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMjAiIGhlaWdodD0iMTQwIiB2aWV3Qm94PSIwIDAgMjIwIDE0MCI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGZpbGw9IiNGRkQwMkYiIGQ9Ik0wIDEzM2MxOC4xNyAwIDE4LjE3LTE2LjI4OCAzNi4zNDEtMTYuMjg4QzU0LjUxIDExNi43MTIgNTQuNTEgMTMzIDcyLjY3NSAxMzNjMTguMTYzIDAgMTguMTYzLTE2LjI4OCAzNi4zMjYtMTYuMjg4IDE4LjE0NCAwIDE4LjE0NCAxNi4yODggMzYuMjg3IDE2LjI4OCAxOC4xNjYgMCAxOC4xNjYtMTYuMjg4IDM2LjMyOS0xNi4yODggMTguMTY1IDAgMTguMTY1IDE2LjI4OCAzNi4zMjkgMTYuMjg4TDIxOSAuN2MtMTIuNDIyIDMuMTE3LTE0LjQwOSAxNS41ODYtMzAuMzA5IDE1LjU4NkMxNzAuNTI2IDE2LjI4NiAxNzAuNTI2IDAgMTUyLjM2MyAwIDEzNC4yIDAgMTM0LjIgMTYuMjg2IDExNi4wMzMgMTYuMjg2IDk3Ljg5MiAxNi4yODYgOTcuODkyIDAgNzkuNzQ4IDAgNjEuNTg0IDAgNjEuNTg0IDE2LjI4NiA0My40MiAxNi4yODYgMjUuMjUzIDE2LjI4NiAyNS4yNTMgMCA3LjA4NyAwYy0yLjI3IDAtNC4yNi4yNTQtNi4wMzUuN0wwIDEzM3oiLz4KICAgICAgICA8cGF0aCBzdHJva2U9IiMwNTAwMzgiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNMTY3IDY0LjAxOWwyNi0xOE0xODAgODguOTk4bDIzLS45OE0xNzQgMTEzLjAxOWwxOSA1TTI2LjMxNSA1MC4wMzJjNy45NjMgNS43NTcgMTguMzg3IDEwLjc4MiAyMS4zNyAxMi45NzNNOC42NjkgNzguNzg1YzEwLjg4Ny40OSAyMS43NzUuOTc4IDMyLjY2MiAxLjQ2N00yMCAxMTEuMDE5bDE3LTZNNjkgNjcuMDE5YzIuMjc5LTE4Ljg1Ny0yLjgyOC01NCAzOC45Ny01NCAzMC4wMzEgMCAzNS43NSAxNi44MDggMzIuMDIgNTAuMTE1LTEuNTI1IDAtNS4wMTYgMS4xMTUtNy4zNTMgMCAxLjk3LTIwLjUwNi0uODY4LTQwLjQ0Ni0yNy41MjgtMzguNjU3LTI1LjM2MyAxLjcwMi0yNy42MjUgMTguNzE4LTI3LjYyNSA0MS40MDdMNjkgNjcuMDJ6Ii8+CiAgICAgICAgPHBhdGggZmlsbD0iIzA1MDAzOCIgZD0iTTE0NS44MDYgNTguMDE5YzQuOTY2IDYuODYyIDguMTczIDExLjQwMSA5LjYyMSAxMy42MTcgMS43NTQgOS42NDUgMy43NjIgMTguODQ0IDEuNjk4IDMxLjc3My0yLjMzNCAxNC42MjgtMTIuODYzIDI2LjU3Mi0yNi4zMDkgMzAuNTM2LTkuNjIxIDIuODM3LTE1LjU3MyA0LjA3NC0yMC42NjYgNC4wNzQtMTAuOTIzIDAtMTIuNDMyLTIuMDYtMTcuMjU0LTIuOTQtOC4zLTEuNTEyIDEuMjQyLTEwLjQwMSAyOC42MjktMjYuNjY2bDI0LjI4LTUwLjM5NHoiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjRkZGIiBzdHJva2U9IiMwNTAwMzgiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNNjQuOTYzIDU5LjE3OWMxLjcwNi0uMTYgNzkuMDU2LjA4NiA4MC4zMTItLjE2QzE0Ny41NSA2OS4yNCAxNTAgODYuOTA1IDE1MCA5OS4zOTljMCAyNC4xMzQtMjYuMTE0IDM4LjYyLTQ1LjUgMzguNjItMjYuNjkgMC00NS41LTE3LjcyOC00NS41LTM4LjYyIDAtMTAuNiAxLjk4OC0yNC4wMDggNS45NjMtNDAuMjJ6Ii8+CiAgICAgICAgPHBhdGggZmlsbD0iIzA1MDAzOCIgZD0iTTEwMC45NCA5NC42NDhhNS45OTggNS45OTggMCAwIDEgMi4wNTYtMTEuNjMgNS45OTYgNS45OTYgMCAwIDEgMi4wNTYgMTEuNjNsMi4xOSAxMS44NTRIOTguNzVsMi4xOS0xMS44NTR6Ii8+CiAgICA8L2c+Cjwvc3ZnPgo="},4464:function(n,e,t){n.exports=t.p+"cb219be0db0644bfe83dce7f541d2a0e.svg"},4465:function(n,e,t){n.exports=t.p+"a56cdb34f446b2f647e1093d81cd57b0.svg"},4466:function(n,e){n.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMTAiIGhlaWdodD0iMTQwIiB2aWV3Qm94PSIwIDAgMjEwIDE0MCI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGZpbGw9IiNGRkJGQkYiIGQ9Ik0xMDYuODYyIDFsMjUuOTIyIDgyLjgzOEw4Ny41MDQgMUg2Ny45MzJsMjUuOTIgOTEuMjE5TDQ4LjU3MyAxSDI5bDI1LjYzNyAxMDAuOTA5TDI5IDE0MGgxOS41NzJsNDUuMjgtNDQuMTU2TDY3LjkzMyAxNDBoMTkuNTcybDQ1LjI4LTUyLjUzNkwxMDYuODYyIDE0MGgxOS41NzRMMTcyIDc3LjQ5IDEyNi40MzYgMXoiLz4KICAgICAgICA8ZyBzdHJva2U9IiMwNTAwMzgiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIj4KICAgICAgICAgICAgPHBhdGggZD0iTTE1NiAxMDVjMTMuNTUyIDExLjk1OCAyOS4xMSAxMS45NTggMzkgMTAuMDk1TTE0MiAxMDljNC4wNzEgOC4yOTcgMTMuNTk2IDE2Ljg1NCAyMSAyMCIvPgogICAgICAgICAgICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNMSA2NGMuODE4IDExLjc4My4zOTggMzIuMjA3LjA3NSA0Mi44MjMtLjEzNiA0LjQ4NS4xMTEgMTEuMjEuNzQzIDIwLjE3NyAzOS41OC0xLjIyIDY5LjU4OS0xLjQ4IDkwLjAyNC0uNzc1LjUwNS4wMTcgMS4yMDMtMS41ODUgMS4xNTYtMi4wMjgtLjMxNi0yLjkyMy0uNzAxLTIyLjgxOC0xLjE1Ni01OS42ODRMMSA2NHoiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTIgNjVsNDcuMTU3IDM0TDkxIDY1TTEzNyA4MGMyMy43MTggMTcuNTk1IDM4LjU4NyAyMS4xNyA3MCA4LjI3TTIzIDUxYzIzLjE2NS0xNi41MDIgNTguMTEtMTcuMDQgODMtMy4wNTdNMTA2IDM2Yy41NiA4LjIzLjI3MyAyMi40OTQuMDUxIDI5LjkwOC0uMDkzIDMuMTMyLjA3NyA3LjgzLjUwOSAxNC4wOTIgMjcuMTA0LS44NTMgNDcuNjUzLTEuMDMzIDYxLjY0Ny0uNTQxLjM0Ni4wMTIuODI0LTEuMTA3Ljc5MS0xLjQxNi0uMjE2LTIuMDQyLS40OC0xNS45MzctLjc5MS00MS42ODVMMTA2IDM2eiIvPgogICAgICAgICAgICA8cGF0aCBkPSJNMTA2IDM3bDMyLjMyIDIzTDE2NyAzNyIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+Cg=="},4467:function(n,e,t){n.exports=t.p+"09a51684d125ebfbc150e4ff447743c4.svg"},4468:function(n,e,t){n.exports=t.p+"182dbcd63598faa5b43712a3c8697d66.svg"},4469:function(n,e,t){n.exports=t.p+"3e86cce42f24da50eda426c90fe18097.svg"},4470:function(n,e,t){n.exports=t.p+"9bad137ef64cc502004815ff6988fa90.svg"},4471:function(n,e,t){n.exports=t.p+"b2bb94085ba29d3f6d09514fe79a6cf0.svg"},4472:function(n,e,t){n.exports=t.p+"46a995d8d63cb4b55c3745a93e12d54f.svg"},4473:function(n,e,t){var a=t(4474);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4474:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".common-upgrade-window .common-upgrade-window__features-list {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  margin: 20px 0 0;\n  padding: 0;\n  list-style: none;\n}\n.common-upgrade-window .common-upgrade-window__features-list-item {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  margin-bottom: 12px;\n  height: 19px;\n  font-weight: 600;\n}\n.common-upgrade-window .common-upgrade-window__features-list-item:nth-child(2n + 1) {\n  width: 200px;\n  margin-right: 20px;\n}\n.common-upgrade-window .common-upgrade-window__features-list-item:nth-child(2n) {\n  -ms-flex-positive: 1;\n      flex-grow: 1;\n}\n.common-upgrade-window .common-upgrade-window__features-list-item svg {\n  width: 16px;\n  height: 16px;\n  margin: 1px 8px 0 0;\n  color: #5b00ff;\n}\n.common-upgrade-window__credits-info {\n  -ms-flex-preferred-size: 250px;\n      flex-basis: 250px;\n  -ms-flex-positive: 1;\n      flex-grow: 1;\n  line-height: 1.43;\n  color: #827f9b;\n}\n.rtb-modal-actions .ng-transclude {\n  width: 100%;\n}\n",""])},4475:function(n,e,t){n.exports='<div class="rtb-modal rtb-modal--center rtb-modal--large common-upgrade-window">\n    <div class="rtb-modal-container">\n        <rtb-modal-close-button hm-tap="onClose()"></rtb-modal-close-button>\n        <div class="rtb-modal-container__content rtb-modal-content">\n            <div class="rtb-modal-content__header rtb-modal-header">\n                <img class="rtb-modal-header__img" ng-if="!ctr.inlineIcon" ng-src="{{ctr.imgSrc}}">\n                <div class="rtb-modal-header__title rtb-modal-title" ng-show="!loading">\n                    <img class="rtb-modal-title__icon" ng-if="ctr.inlineIcon" ng-src="{{ctr.imgSrc}}">\n                    <div class="rtb-modal-title__text" ng-bind-html="ctr.title"></div>\n                </div>\n            </div>\n            <div class="rtb-modal-content__body rtb-modal-body">\n                <div class="common-upgrade-window__text" ng-show="!loading">\n                    <p ng-bind-html="ctr.text"></p>\n                </div>\n                <ul class="common-upgrade-window__features-list" ng-if="!!ctr.featuresList">\n                    <li class="common-upgrade-window__features-list-item" ng-repeat="featureText in ctr.featuresList">\n                        <svg   ><use xlink:href="'+t(537)+'"></use></svg>\n                        <span ng-bind-html="featureText"></span>\n                    </li>\n                </ul>\n            </div>\n            <div class="rtb-modal-content__actions rtb-modal-actions" ng-show="!loading">\n                <ng-transclude class="ng-transclude"></ng-transclude>\n                <div class="common-upgrade-window__credits-info" ng-if="ctr.isCreditsInfoVisible" ng-bind-html="ctr.creditsInfoText"></div>\n            </div>\n            <material-spinner ng-show="loading"></material-spinner>\n        </div>\n    </div>\n</div>'},4476:function(n,e,t){var a=t(4477);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4477:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".shop-window-actions--new-order {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row;\n      flex-direction: row;\n  -ms-flex-pack: end;\n      justify-content: flex-end;\n}\n",""])},4478:function(n,e){n.exports='<common-upgrade-window-modal config="modal.config"\n                             class="shop-window-modal"\n                             on-close="modal.cancel()"\n                             loading="modal.loading">\n    <div ng-if="!modal.isNewButtonsOrder">\n        <button class="rtb-btn rtb-btn--primary rtb-btn--medium"\n                hm-tap="modal.submit()"\n                ng-bind="modal.config.mainActionText">\n        </button>\n        <button class="rtb-btn rtb-btn--primary-bordered rtb-btn--medium"\n                ng-if="modal.hasExtendAction"\n                hm-tap="modal.onExtendActionClick()"\n                ng-bind="modal.extendActionText">\n        </button>\n    </div>\n    <div ng-if="modal.isNewButtonsOrder" class="shop-window-actions--new-order">\n        <button class="rtb-btn rtb-btn--primary-bordered rtb-btn--medium"\n                ng-if="modal.hasExtendAction"\n                hm-tap="modal.onExtendActionClick()"\n                ng-bind="modal.extendActionText">\n        </button>\n        <button class="rtb-btn rtb-btn--primary rtb-btn--medium"\n                hm-tap="modal.submit()"\n                ng-bind="modal.config.mainActionText">\n        </button>\n    </div>\n</common-upgrade-window-modal>'},4479:function(n,e,t){var a=t(4480);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4480:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".team-expired-for-user-modal .rtb-modal-content__note {\n  margin-top: 15px;\n  font-size: 12px;\n  color: #827f9b;\n}\n",""])},4481:function(n,e,t){n.exports='<rtb-modal class="rtb-modal--center rtb-modal--large team-expired-for-user-modal">\n    <rtb-modal-close-button ng-if="!modal.hideCloseButton" hm-tap="modal.cancel()"></rtb-modal-close-button>\n    <div class="rtb-modal-container__content rtb-modal-content">\n        <div class="rtb-modal-content__header rtb-modal-header">\n            <div class="rtb-modal-header__title rtb-modal-title">\n                <svg   \n                     class="rtb-modal-title__icon rtb-icon--primary"><use xlink:href="'+t(157)+'"></use></svg>\n                <div class="rtb-modal-title__text" ng-bind="modal.caption"></div>\n            </div>\n        </div>\n        <div class="rtb-modal-content__body rtb-modal-body">\n            <p ng-bind-html="modal.redText"></p>\n            <div ng-bind-html="modal.text"></div>\n        </div>\n        <div class="rtb-modal-content__actions rtb-modal-actions" ng-if="!!modal.buttonCaption">\n            <button class="rtb-btn rtb-btn--primary rtb-btn--medium"\n                    ng-bind="modal.buttonCaption"\n                    hm-tap="modal.buttonClickHandler()"></button>\n            <button class="rtb-btn rtb-btn--secondary rtb-btn--medium"\n                    hm-tap="modal.cancel()">Cancel</button>\n        </div>\n        <div class="rtb-modal-content__note" ng-show="modal.note">\n            {{ modal.note }}\n        </div>\n    </div>\n</rtb-modal>'},4482:function(n,e,t){n.exports='<rtb-modal class="rtb-modal--center rtb-modal--medium share-locked-in-team-board-for-not-team-member">\n    <rtb-modal-close-button hm-tap="modal.cancel()"></rtb-modal-close-button>\n    <div class="rtb-modal-container__content rtb-modal-content">\n        <div class="rtb-modal-content__header rtb-modal-header">\n            <div class="rtb-modal-header__title rtb-modal-title">\n                <svg    class="rtb-modal-title__icon rtb-icon--primary"><use xlink:href="'+t(157)+'"></use></svg>\n                <div class="rtb-modal-title__text">Unable to share</div>\n            </div>\n        </div>\n            <div class="rtb-modal-content__body rtb-modal-body">\n                <p>Sorry, you don\'t have the necessary permissions to share this board, because you don\'t belong to <b>{{ modal.params.teamName }}</b> team.</p>\n                <p>In order to share this board, please ask the team administrator to&nbsp;add you to the team.</p>\n            </div>\n    </div>\n</rtb-modal>\n'},4483:function(n,e,t){n.exports=t.p+"static/images/application/icons/red-lock.8a837f.png"},4484:function(n,e,t){var a=t(4485);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4485:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".md-content.unable-to-share {\n  width: 600px;\n}\n.md-content.unable-to-share .modal-content {\n  color: #4a4a4a;\n}\n.md-content.unable-to-share .modal-icon_left {\n  margin-left: 0;\n}\n.md-content.unable-to-share .modal-text,\n.md-content.unable-to-share .modal-buttons_shift {\n  margin-left: 59px;\n}\n.md-content.unable-to-share .blue-text {\n  color: #4262ff;\n}\n.md-content.unable-to-share .btn-grey {\n  border-radius: 4px;\n  min-width: 110px;\n  height: 40px;\n  line-height: 40px;\n}\n",""])},4486:function(n,e){},4487:function(n,e,t){"use strict";(function(n){var a=t(21),o=t(48),i=t(26),r=t(4488),s=t(1484),l=t(5618),c=t(346),d=t(492),p=t(32),u=t(771),m=t(1587),b=t(5653),h=t(1560),g=t(5606),f=t(52),y=t(763),v=t(45),x=t(173),_=t(1594),w=t(2158),I=t(341),C=t(293),P=t(1486),T=t(268),O=t(1561),M=t(218),E=t(1489),A=t(77),S=t(112),N=t(267),j=t(114),k=t(663),D=t(279),R=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.premiumPlanLegacyTooltip="You are using a legacy plan. Consider switching to one of our current plans to get access to new features.",n}return Object(a.d)(t,e),Object.defineProperty(t.prototype,"activePlan",{get:function(){return this.params.plans.activePlan},enumerable:!0,configurable:!0}),t.prototype.getPlans=function(){return this.params.plans.plans},t.prototype.isHorizontalPlanVisible=function(){return this.params.plans.isHorizontalPlanVisible},t.prototype.getHorizontalPlan=function(){return this.params.plans.horizontalPlan},t.prototype.getBusinessPlan=function(){return this.getPlans().find(function(n){return n instanceof P.a})},t.prototype.getFreePlan=function(){return this.params.plans.freePlan},t.prototype.getCurrentAccountName=function(){return this.activePlan.title},t.prototype.getMembersCount=function(){return this.activePlan.membersCount},t.prototype.getBoardsCount=function(){return this.activePlan.boardsCount},t.prototype.getCreditsInfo=function(){var n=this.teamPlan;return n&&n.creditsInfo||""},Object.defineProperty(t.prototype,"teamPlan",{get:function(){return this.params.plans.getTeamPlan()},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.plansWhyUpgradeClickedListener.detach(),this.plansSelectedListener&&this.plansSelectedListener.detach(),this.element.off("scroll",this.bindedScrollHandler)},t.prototype.init=function(){var e=this;Object(E.b)(this.activePlan.account);var t=this.params.plans.signals;this.params.plans.loaded.then(function(){e.plansSelectedListener=e.params.plans.signals.planSelected.add(function(n,t){var a=n.getIdent(),o=e.params.plans;switch(a){case x.a.FREE_2018:e.freePlanSelected(n);break;case x.a.TEAM:e.teamPlanSelected(n,o,t);break;case x.a.COMPANY:e.companyPlanSelected(n,o);break;case x.a.CONSULTANT:e.consultantPlanSelected(n,o);break;case x.a.BUSINESS:e.businessPlanSelected(n,o);break;default:console.info("unknown plan")}}),e.$scope.safeApply()}),this.plansWhyUpgradeClickedListener=t.whyUpgradeClicked.addOnce(function(n){switch(n.getIdent()){case x.a.TEAM:i.ud(),Object(E.a)();var t=e.showModal(Object(g.a)({account:e.activePlan.account,paymentInfo:e.teamPlan.paymentInfo,planIdent:x.a.TEAM}),!1);t.canceled.add(function(){e.showModal(Object(y.a)(e.params))}),t.submitted.add(function(n){Object(M.d)(e.activePlan.account)?e.teamPlanSelected(e.teamPlan,e.params.plans,!0):e.teamPlanSelected(e.teamPlan,e.params.plans,!1,!0,n)});break;case x.a.BUSINESS:i.ud();var a=e.getBusinessPlan();a&&(Object(E.a)(),e.showModal(Object(g.a)({account:e.activePlan.account,paymentInfo:a.paymentInfo,planIdent:x.a.BUSINESS,onCancel:function(){Object(v.a)().show(Object(y.a)(e.params))},onSubmit:function(n){e.businessPlanSelected(a,e.params.plans,!0,n)}}),!1));break;default:console.info("unknown plan")}}),this.bindedScrollHandler=this.onScroll.bind(this),setTimeout(function(){e.consultantPlanButton=n('[data-autotest-id="get-consultant-plan-button"]'),1===e.consultantPlanButton.length&&(e.sawConsultantPlan=e.consultantPlanButton.offset().top<window.innerHeight,i.Hi(e.sawConsultantPlan),e.sawConsultantPlan||e.element.on("scroll",e.bindedScrollHandler))},1e3),this.paymentWindowVariation=Object(l.a)(this.activePlan.account)},t.prototype.onScroll=function(){this.sawConsultantPlan=this.consultantPlanButton.offset().top<window.innerHeight,this.sawConsultantPlan&&(i.Mh(),this.element.off("scroll",this.bindedScrollHandler))},t.prototype.onCancel=function(){Object(E.a)(),this.cancel(),this.params.plans.onPaymentCancel(),this.activePlan.userIsAdmin?i.Wd():i.Xd()},t.prototype.chooseLater=function(){Object(E.a)(),this.cancel(),this.params.plans.onPaymentCancel(),this.activePlan.userIsAdmin?i.Ob():i.Pb()},t.prototype.openEmailTemplate=function(){Object(E.a)();var n=this.params.plans;this.activePlan.userIsAdmin?i.zc(this.activePlan.id):i.Ac(this.activePlan.id),i.p(this.activePlan.id);var e=n.getTeamPlan(),t=e&&e.paymentInfo;this.createMailTo(t&&Object(s.c)(t,n.activePlan)||"",Object(s.h)(n.activePlan))},t.prototype.canShowCreditsInfo=function(){var n=this.teamPlan;return n&&n.paymentInfo.discountType===d.a.CREDITS},t.prototype.freePlanSelected=function(n){var e=this;i.k.choseDowngrade(n.activePlan.type,n.activePlan.role,n.activePlan.expired,n.activePlan.isOrganizationType&&n.activePlan.id||void 0),n instanceof r.a&&n.paymentInfo.isExceededLimits()?this.showModal(Object(b.a)({context:this.params.plans,plan:n})):n.isDowngraded||this.showConfirmationModalIfNeed(n).then(function(e){return e?n.purchase():Promise.reject()}).then(function(){e.showModal(Object(u.a)({captionText:"Success!",contentText:e.getCurrentAccountName()+" Team has been downgraded to the Free plan.",plan:n}))}).catch(function(){})},t.prototype.showConfirmationModalIfNeed=function(n){var e=this;return n.activePlan.isOrganizationType?Object(l.b)(n).then(function(n){switch(n){case w.a.DOWNGRADE:return!0;case w.a.RESUBSCRIBE:return e.resubscribePlan(),!1;default:return!1}}):this.isPremiumAccount()?Object(l.b)(n,!0).then(function(n){return n===w.a.DOWNGRADE}):Promise.resolve(!0)},t.prototype.resubscribePlan=function(){switch(this.activePlan.type){case I.a.CONSULTANT_SLF:var n=this.getHorizontalPlan();n&&n instanceof _.a&&this.consultantPlanSelected(n,this.params.plans);break;case I.a.BUSINESS:var e=this.getBusinessPlan();e&&this.businessPlanSelected(e,this.params.plans)}},t.prototype.teamPlanSelected=function(n,e,t,a,o){this.activePlan.isOrganizationType?(this.cancel(),Object(C.a)().buyNewTeamOnSite(5,"New team","")):(t||i.k.choseTeamUpgrade(n.selectedValue,n.activePlan.type,n.activePlan.role,a?"whyUpgrade":"pricing",n.activePlan.expired,n.activePlan.isOrganizationType&&n.activePlan.id||void 0,o),this.paymentWindowVariation===N.a.B||t?this.showModal(Object(O.a)({plan:n,context:e,isForTrialTeam:t,openedFrom:D.a.IN_APP_PRICING})):this.showModal(Object(h.a)({plan:n,context:e,showTestimonial:this.paymentWindowVariation===N.a.A,openedFrom:D.a.IN_APP_PRICING})))},t.prototype.consultantPlanSelected=function(n,e){i.k.choseConsultantUpgrade(n.selectedValue,n.activePlan.type,n.activePlan.role,n.activePlan.expired,n.activePlan.isOrganizationType&&n.activePlan.id||void 0),this.paymentWindowVariation===N.a.B?this.showModal(Object(O.a)({plan:n,context:e,openedFrom:D.a.IN_APP_PRICING})):this.showModal(Object(h.a)({plan:n,context:e,showTestimonial:this.paymentWindowVariation===N.a.A,openedFrom:D.a.IN_APP_PRICING}))},t.prototype.businessPlanSelected=function(n,e,t,a){i.k.choseBusinessUpgrade(n.selectedValue,n.activePlan.type,n.activePlan.role,t?"whyUpgrade":"pricing",n.activePlan.expired,n.activePlan.isOrganizationType&&n.activePlan.id||void 0,a),this.paymentWindowVariation===N.a.B?this.showModal(Object(O.a)({plan:n,context:e,openedFrom:D.a.IN_APP_PRICING})):this.showModal(Object(h.a)({plan:n,context:e,showTestimonial:this.paymentWindowVariation===N.a.A,openedFrom:D.a.IN_APP_PRICING}))},t.prototype.companyPlanSelected=function(n,e){Object(E.a)(),this.showModal(Object(m.a)({plan:n,context:e,leadSource:T.a.COMPANY_INQUIRY_APP})),i.Zg(n.activePlan.trial,n.activePlan.type,"pricing_app")},t.prototype.createMailTo=function(n,e){p.a.accounts.selectById(this.activePlan.id).teamAdmins({fields:"email"}).get({limit:10}).then(function(t){var a=t.data,o=encodeURIComponent(a.map(function(n){return n.email}).join(";")),i=encodeURIComponent(e);f.k("mailto:"+o+"?subject="+i+"&body="+n).openInNewTab()})},t.prototype.isFreePlanTheLastOne=function(){return this.activePlan.expired},t.prototype.seeFullMatrixClicked=function(){var n=Object(S.a)({button_name:"See full feature matrix",button_place:"pricing",component:"app",feature:"pricing",button_id:1});Object(A.a)().sendApiEvent("button_clicked",n)},t.prototype.isPremiumAccount=function(){return this.activePlan.account.type===j.a.NEW_PREMIUM||this.activePlan.account.type===j.a.PREMIUM},t.prototype.showModal=function(n,e){void 0===e&&(e=!0),this.isMovingToAnotherPricingDialog=!0,this.cancel();var t=Object(v.a)().show(n);return e&&t.submitted.add(function(){Object(k.a)().clearEvent()}),t},t.prototype.onBeforeClose=function(){this.isMovingToAnotherPricingDialog||Object(k.a)().clearEvent()},Object(a.c)([c.a],t.prototype,"teamPlan",null),t}(o.a);e.a=R}).call(this,t(36))},4488:function(n,e,t){"use strict";var a=t(21),o=t(941),i=t(173),r=t(32),s=t(1485),l=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.paymentInfo=new s.a(e.activePlan),e.isDowngraded=!1,e}return Object(a.d)(e,n),e.prototype.loadInfo=function(){return null},e.prototype.purchase=function(){var n=this;return this.isDowngraded?Promise.resolve():(this.isDowngraded=!0,r.a.accounts.selectById(this.accountId).downgrade().catch(function(){return n.isDowngraded=!1}))},e.prototype.getIdent=function(){return i.a.FREE},e.prototype.isExpired=function(){return this.activePlan.expired},e}(o.a);e.a=l},4489:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".payment-info {\n  display: -ms-flexbox;\n  display: flex;\n  margin-top: 36px;\n  color: #050038;\n  font-size: 14px;\n  line-height: 1.71;\n}\n.payment-info .payment-info-current {\n  opacity: 0.4;\n}\n.payment-info .payment-info-separator {\n  -ms-flex-item-align: center;\n      -ms-grid-row-align: center;\n      align-self: center;\n  padding: 0 24px 0px 24px;\n}\n.payment-info .payment-info-separator svg {\n  margin-top: 20px;\n  width: 12px;\n  height: 28px;\n  min-width: 12px;\n  max-width: 12px;\n  min-height: 28px;\n  max-height: 28px;\n  overflow: hidden;\n}\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  .payment-info .payment-info-separator svg {\n    width: auto;\n    height: auto;\n  }\n}\n.payment-info .payment-info-col h3 {\n  line-height: 31px;\n  margin: 0;\n  font-size: 14px;\n}\n.payment-info .payment-info-col p {\n  margin: 0;\n}\n.payment-info .payment-info-col .plan__feature-tip {\n  width: 14px;\n  height: 14px;\n  margin-left: 4px;\n  vertical-align: middle;\n  color: #827f9b;\n  cursor: pointer;\n}\n.payment-info .payment-info-col .plan__feature-tip:hover {\n  color: #000;\n}\n.payment-info .payment-info-col--interval {\n  text-transform: capitalize;\n}\n",""])},4490:function(n,e,t){var a=t(4491);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4491:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".downgrade-confirmation-modal .payment-info .payment-info-separator {\n  padding: 0 28px;\n}\n.downgrade-confirmation-modal .rtb-material-spinner {\n  margin-top: 28px;\n}\n.downgrade-confirmation-modal .payment-info {\n  margin-top: 10px;\n  margin-bottom: 16px;\n}\n",""])},4492:function(n,e,t){n.exports='<rtb-modal class="rtb-modal--center rtb-modal--medium downgrade-confirmation-modal">\n    <rtb-modal-close-button hm-tap="modal.cancel()"></rtb-modal-close-button>\n    <div class="rtb-modal-container__content rtb-modal-content" ng-if="!modal.params.isForPremiumAccount">\n        <div class="rtb-modal-content__header rtb-modal-header">Account downgrade</div>\n        <div ng-if="!modal.isLoading" class="rtb-modal-content__body rtb-modal-body">\n            <div class="payment-info">\n                <div class="payment-info-col payment-info-current">\n                    <h3>Current plan</h3>\n                    <p>{{modal.accountsSize}} teams, {{modal.usersNumber}} members</p>\n                    <p>$15 per month</p>\n                    <p>Unlimited editable boards</p>\n                </div>\n                <div class="payment-info-col payment-info-separator">\n                    <svg   ><use xlink:href="'+t(1487)+'"></use></svg>\n                </div>\n                <div class="payment-info-col">\n                    <h3>Free plan</h3>\n                    <p>{{modal.accountsSize}} teams, {{modal.usersNumber}} members</p>\n                    <p>$0 per month</p>\n                    <p>\n                        5 editable boards\n                        <svg  class="plan__feature-tip"\n                              \n                             tooltip="The 5 newest boards can be edited. All others are view-only."\n                             tooltip-placement="top"\n                             tooltip-append-to-body="true"><use xlink:href="'+t(4493)+'"></use></svg>\n                    </p>\n                </div>\n            </div>\n            <rtb-checkbox label="\'I understand that I am losing all paid features\'" checked="modal.confirmationChecked"></rtb-checkbox>\n        </div>\n        <material-spinner ng-if="modal.isLoading"></material-spinner>\n        <div class="rtb-modal-content__actions rtb-modal-actions">\n            <button class="rtb-btn rtb-btn--medium rtb-btn--danger" ng-disabled="!modal.confirmationChecked" hm-tap="modal.submit(\'downgrade\')">Downgrade</button>\n            <button class="rtb-btn rtb-btn--medium rtb-btn--primary-bordered" hm-tap="modal.submit(\'resubscribe\')">Re-activate subscription</button>\n        </div>\n    </div>\n    <div class="rtb-modal-container__content rtb-modal-content" ng-if="modal.params.isForPremiumAccount">\n        <div class="rtb-modal-content__header rtb-modal-header">Your private boards are about to become viewable</div>\n        <div class="rtb-modal-content__body rtb-modal-body">\n            If you downgrade to Free Plan, any external users will become part of your team and can view all boards.\n            You can manage users in <b class="break-word">Settings \u2192 Active users</b>.\n        </div>\n        <div class="rtb-modal-content__actions rtb-modal-actions">\n            <button class="rtb-btn rtb-btn--medium rtb-btn--danger" hm-tap="modal.submit(\'downgrade\')">Downgrade</button>\n            <button class="rtb-btn rtb-btn--medium rtb-btn--secondary" hm-tap="modal.submit(\'resubscribe\')">Stay with current plan</button>\n        </div>\n    </div>\n</rtb-modal>'},4493:function(n,e){n.exports="#application__cm-icon-info"},4494:function(n,e,t){var a=t(4495);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4495:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".notification-of-result-modal .notification-of-result-modal--last-invoice {\n  margin-top: 8px;\n  font-size: 14px;\n  color: #4262ff;\n}\n.notification-of-result-modal .notification-of-result-modal--last-invoice-file-type {\n  width: 39px;\n  height: 18px;\n  margin-left: 4px;\n  text-align: center;\n  display: inline-block;\n  border-radius: 4px;\n  background-color: rgba(20, 91, 242, 0.04);\n}\n",""])},4496:function(n,e,t){n.exports='<rtb-modal class="rtb-modal--center rtb-modal--medium notification-of-result-modal">\n    <rtb-modal-close-button hm-tap="modal.cancel()"></rtb-modal-close-button>\n    <div class="rtb-modal-container__content rtb-modal-content">\n        <div class="rtb-modal-content__header rtb-modal-header">\n            <div class="rtb-modal-header__title rtb-modal-title">\n                <svg   \n                     class="rtb-modal-title__icon rtb-icon--primary"><use xlink:href="'+t(596)+'"></use></svg>\n                <div class="rtb-modal-title__text" ng-bind="modal.captionText"></div>\n            </div>\n        </div>\n        <div class="rtb-modal-content__body rtb-modal-body">\n            <span ng-bind-html="modal.contentText"></span>\n            <span ng-if="modal.isPostProrate()">\n                You can see your paid invoices in <a href="{{modal.hrefToBilling}}"\n                                                     target="_blank">billing settings</a>.\n            </span>\n\n            <div class="notification-of-result-modal--last-invoice"\n                 ng-if="modal.showPayOperation">\n                <a class="rtb-link rtb-link--primary" href="{{modal.lastReceiverInvoiceInfoHref}}" target="_blank">\n                    {{modal.lastReceiverInvoiceInfoTitle}}\n                </a>\n                <span class="notification-of-result-modal--last-invoice-file-type">.PDF</span>\n            </div>\n        </div>\n    </div>\n</rtb-modal>'},4497:function(n,e,t){var a=t(4498);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4498:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".choose-plan-and-billing.company-inquiry-modal {\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  scrollbar-color: #827f9b transparent;\n  scrollbar-width: thin;\n  -ms-flex-align: start;\n      align-items: flex-start;\n}\n.choose-plan-and-billing.company-inquiry-modal::-webkit-scrollbar {\n  width: 4px;\n  height: 4px;\n}\n.choose-plan-and-billing.company-inquiry-modal::-webkit-scrollbar-thumb {\n  background-color: #827f9b;\n  border: 0 solid transparent;\n  border-radius: 2px;\n}\n.choose-plan-and-billing.company-inquiry-modal::-webkit-scrollbar-track {\n  background-color: initial;\n}\n.choose-plan-and-billing.company-inquiry-modal .modal-content {\n  margin: 0 auto;\n  padding: 0 0 60px 0;\n}\n.choose-plan-and-billing.company-inquiry-modal .md-content {\n  margin-top: 40px;\n  padding-top: 34px;\n}\n.choose-plan-and-billing.company-inquiry-modal .rtb-modal-header {\n  padding-left: 60px;\n  height: 66px;\n  padding-top: 0;\n}\n.choose-plan-and-billing.company-inquiry-modal .form {\n  padding: 12px 68px 0 60px;\n  border-radius: 4px;\n  box-sizing: border-box;\n  border-top: 1px solid rgba(0, 0, 0, 0.2);\n}\n",""])},4499:function(n,e,t){var a=t(82);(n.exports=t(23)(!1)).push([n.i,".base-headed-modal.choose-plan-and-billing.choose-plan-modal {\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  scrollbar-color: #827f9b transparent;\n  scrollbar-width: thin;\n  -ms-flex-align: start;\n      align-items: flex-start;\n}\n.base-headed-modal.choose-plan-and-billing.choose-plan-modal::-webkit-scrollbar {\n  width: 4px;\n  height: 4px;\n}\n.base-headed-modal.choose-plan-and-billing.choose-plan-modal::-webkit-scrollbar-thumb {\n  background-color: #827f9b;\n  border: 0 solid transparent;\n  border-radius: 2px;\n}\n.base-headed-modal.choose-plan-and-billing.choose-plan-modal::-webkit-scrollbar-track {\n  background-color: initial;\n}\n.base-headed-modal.choose-plan-and-billing.choose-plan-modal .modal-content {\n  margin: 0 auto;\n  padding: 0 0 60px 0;\n}\n.base-headed-modal.choose-plan-and-billing.choose-plan-modal .md-content {\n  margin: 40px 0;\n  padding-top: 34px;\n}\n.base-headed-modal.choose-plan-and-billing .rtb-modal-header {\n  margin: 0 auto;\n}\n.base-headed-modal.choose-plan-and-billing .rtb-modal-header .rtb-modal-header__text {\n  padding-right: 40px;\n  color: #050038;\n  font-weight: 600;\n  line-height: 32px;\n  font-family: Formular, sans-serif;\n  font-size: 24px;\n  font-weight: 500;\n}\n.base-headed-modal.choose-plan-and-billing .rtb-modal-header .rtb-modal-header__text b {\n  display: block;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 1.5;\n}\n.base-headed-modal.choose-plan-and-billing .rtb-modal-header .rtb-modal-header__subtitle {\n  font-family: Formular, sans-serif;\n  font-size: 24px;\n  font-weight: 500;\n  color: #050038;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 1.5;\n}\n.base-headed-modal.choose-plan-and-billing .rtb-modal-header .rtb-modal-header__back,\n.base-headed-modal.choose-plan-and-billing .rtb-modal-header .rtb-modal-header__close {\n  position: absolute;\n  top: -40px;\n  margin-top: 40px;\n  padding: 37px 32px;\n  opacity: 0.6;\n  width: auto;\n}\n.base-headed-modal.choose-plan-and-billing .rtb-modal-header .rtb-modal-header__back::after,\n.base-headed-modal.choose-plan-and-billing .rtb-modal-header .rtb-modal-header__close::after {\n  display: block;\n  margin-top: 8px;\n  opacity: 0.3;\n  font-size: 12px;\n  letter-spacing: -0.3px;\n  color: #fff;\n  text-align: center;\n  width: 24px;\n}\n.base-headed-modal.choose-plan-and-billing .rtb-modal-header .rtb-modal-header__back:hover,\n.base-headed-modal.choose-plan-and-billing .rtb-modal-header .rtb-modal-header__close:hover {\n  opacity: 1;\n}\n.base-headed-modal.choose-plan-and-billing .rtb-modal-header .rtb-modal-header__close {\n  margin-right: 0;\n  padding-left: 32px;\n  color: transparent;\n  font-size: 0;\n  text-align: left;\n  left: 100%;\n}\n.base-headed-modal.choose-plan-and-billing .rtb-modal-header .rtb-modal-header__close::before {\n  display: inline-block;\n  content: '';\n  width: 24px;\n  height: 24px;\n  background: url("+a(t(4500))+");\n  background-repeat: no-repeat;\n}\n.base-headed-modal.choose-plan-and-billing .rtb-modal-header .rtb-modal-header__back {\n  text-align: right;\n  right: 100%;\n  padding-right: 32px;\n  margin-right: 0;\n}\n.base-headed-modal.choose-plan-and-billing .rtb-modal-header .field input,\n.base-headed-modal.choose-plan-and-billing .rtb-modal-header .field textarea {\n  box-sizing: border-box;\n  height: 48px;\n  border: 1px solid #c3c2cf;\n  border-radius: 4px;\n  background-color: #fff;\n}\n.base-headed-modal.choose-plan-and-billing .rtb-modal-header .field input,\n.base-headed-modal.choose-plan-and-billing .rtb-modal-header .field textarea {\n  padding: 9px;\n  font-size: 14px;\n}\n.base-headed-modal.choose-plan-and-billing .grid-row__column {\n  box-sizing: border-box;\n  padding: 0 14px;\n}\n.base-headed-modal.choose-plan-and-billing .grid-row__column:first-child {\n  padding-left: 0;\n}\n.base-headed-modal.choose-plan-and-billing .grid-row__column:last-child {\n  padding-right: 0;\n}\n.base-headed-modal.choose-plan-and-billing .hr {\n  margin: 28px 0 24px 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n}\n.base-headed-modal.choose-plan-and-billing .grey-text {\n  color: rgba(0, 0, 0, 0.4);\n}\n.base-headed-modal.choose-plan-and-billing .red-text {\n  color: #f45c41;\n}\n.base-headed-modal.choose-plan-and-billing .bottom-text {\n  margin-top: 32px;\n}\n.base-headed-modal.choose-plan-and-billing .grey-link {\n  color: rgba(0, 0, 0, 0.4);\n  text-decoration: underline;\n}\n.base-headed-modal.choose-plan-and-billing .link-indigo {\n  color: #4262ff;\n  text-decoration: underline;\n}\n.base-headed-modal.choose-plan-and-billing .link-dashed {\n  text-decoration: none !important;\n  border-bottom: 1px dotted #4262ff;\n  line-height: 1.2;\n  color: #4262ff;\n}\n.base-headed-modal.choose-plan-and-billing .grey-link:hover,\n.base-headed-modal.choose-plan-and-billing .link-indigo:hover,\n.base-headed-modal.choose-plan-and-billing .link-dashed:hover {\n  text-decoration: none;\n}\n",""])},4500:function(n,e){n.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTEwLjU4NiAxMmwtNi4yOTMgNi4yOTNhMSAxIDAgMCAwIDEuNDE0IDEuNDE0TDEyIDEzLjQxNGw2LjI5MyA2LjI5M2ExIDEgMCAwIDAgMS40MTQtMS40MTRMMTMuNDE0IDEybDYuMjkzLTYuMjkzYTEgMSAwIDEgMC0xLjQxNC0xLjQxNEwxMiAxMC41ODYgNS43MDcgNC4yOTNhMSAxIDAgMCAwLTEuNDE0IDEuNDE0TDEwLjU4NiAxMnoiLz4KPC9zdmc+Cg=="},4501:function(n,e){n.exports='<rtb-modal-old class="base-headed-modal choose-plan-and-billing company-inquiry-modal big-modal" no-prevent-default="true">\n    <rtb-modal-header color="white"\n                      on-close="modal.onCancel()"\n                      close-button-visible="!modal.canShowBackButton()"\n                      back-button-visible="modal.canShowBackButton()"\n                      text="Enterprise inquiry <b>Please fill out the form below and we will get in touch with you soon</b>"\n                      on-back="modal.onBack()"></rtb-modal-header>\n    <div class="modal-content">\n        <form id="company-inquiry-form" class="form">\n            <hubspot-contact-us lead-source="modal.params.leadSource" on-submit="modal.submit()"></hubspot-contact-us>\n        </form>\n    </div>\n</rtb-modal-old>'},4502:function(n,e,t){n.exports='<rtb-modal class="rtb-modal--center rtb-modal--medium downgrade-team-modal">\r\n    <rtb-modal-close-button hm-tap="modal.cancel()"></rtb-modal-close-button>\r\n    <div class="rtb-modal-container__content rtb-modal-content">\r\n        <div class="rtb-modal-content__header rtb-modal-header">\r\n            <div class="rtb-modal-header__title rtb-modal-title">\r\n                <svg   \r\n                     class="rtb-modal-title__icon rtb-icon--primary"><use xlink:href="'+t(157)+'"></use></svg>\r\n                <div class="rtb-modal-title__text">Boards will be locked</div>\r\n            </div>\r\n        </div>\r\n        <div class="rtb-modal-content__body rtb-modal-body">\r\n            You have exceeded the limits of the Free plan (extra {{modal.textAboutExtraLimits}}).\r\n            All boards will be available in view only mode.\r\n            <a href="{{ \'account.commons.billing.link.boardIsLocked\' | translate }}"\r\n               target="_blank"\r\n               class="rtb-link rtb-link--primary">Learn how to unlock.</a>\r\n        </div>\r\n\r\n        <div class="rtb-modal-content__actions rtb-modal-actions">\r\n            <button class="rtb-btn rtb-btn--primary rtb-btn--medium"\r\n                    hm-tap="modal.submit()">Downgrade the team\r\n            </button>\r\n            <button class="rtb-btn rtb-btn--secondary rtb-btn--medium"\r\n                    hm-tap="modal.cancel()">Cancel\r\n            </button>\r\n        </div>\r\n    </div>\r\n</rtb-modal>'},4503:function(n,e,t){var a=t(4504);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4504:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".stripe-card-input {\n  margin-top: 13px;\n  padding: 8px 8px 8px 16px;\n  border-radius: 4px;\n  background-color: #fff;\n  border: solid 1px rgba(0, 0, 0, 0.2);\n  transition: border-color 600ms;\n}\n.stripe-card-input:hover {\n  border-color: rgba(0, 0, 0, 0.4);\n}\n.stripe-card-input.StripeElement--focus {\n  border-color: rgba(42, 121, 255, 0.8);\n}\n",""])},4505:function(n,e,t){n.exports='<div class="billing-form">\n    <div class="grid-row card-details">\n        <div class="grid-row__column column-100">\n            <div class="card-details__label">\n                <a tabindex="-1" href="//stripe.com" target="_blank" class="card-details-label--stripe">\n                    <svg   ><use xlink:href="'+t(2161)+'"></use></svg>\n                </a>\n                <label class="section-caption">Credit card details</label>\n            </div>\n            <div id="{{controller.stripeMountPointId}}"\n                 ng-class="{\'validate-error\':formErrorState.card}"\n                 class="card-details__stripe fs-block">\n\n            </div>\n            <div class="card-details__error" ng-show="controller.stripeError">\n                {{controller.stripeError}}\n            </div>\n        </div>\n    </div>\n    <div class="billing-form__invoice-request" ng-if="showContactUsLink">\n        or <a class="rtb-link rtb-link--primary" href="https://realtimeboard.com/contact/sales/?lead_source=Business" target="_blank">contact us</a> to pay by invoice\n    </div>\n    <div class="grid-row">\n        <div class="grid-row-column">\n            <label class="section-caption">\n                Billing information\n            </label>\n        </div>\n    </div>\n    <div class="grid-row billing-information__country-region">\n        <div class="grid-row__column column-60">\n            <div class="field billing-information--country">\n                <div class="rtb-input-field rtb-input-field--small"\n                >\n                    <label>Country</label>\n                    <rtb-select\n                            data-autotest-id="billing-form__country-select"\n                            ng-disabled="controller.countriesOptions.length === 0"\n                            class="rtb-select rtb-select--secondary-bordered rtb-select--small rtb-select--fluid"\n                            ng-class="{\'rtb-select--invalid\': formErrorState.country}"\n                            ng-model="informationForUpload.info.country"\n                            options="controller.countriesOptions"\n                            placeholder="\'Choose\'"\n                    ></rtb-select>\n                </div>\n            </div>\n        </div>\n        <div class="grid-row__column column-40">\n            <div class="field billing-information--region">\n                <div class="rtb-input-field rtb-input-field--small">\n                    <label>State/Region</label>\n                    <rtb-select\n                            data-autotest-id="billing-form__state-select"\n                            ng-disabled="controller.regionsOptions.length === 0"\n                            class="rtb-select rtb-select--secondary-bordered rtb-select--small rtb-select--fluid"\n                            ng-class="{\'rtb-select--invalid\': formErrorState.region}"\n                            ng-model="informationForUpload.info.state"\n                            options="controller.regionsOptions"\n                            placeholder="\'Choose\'"\n                    ></rtb-select>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="grid-row billing-information--city-zip">\n        <div class="grid-row__column column-60">\n            <div class="field billing-information--city">\n                <div class="rtb-input-field rtb-input-field--small">\n                    <label>City</label>\n                    <input type="text"\n                           data-autotest-id="billing-form__city-input"\n                           class="rtb-input rtb-input--primary"\n                           ng-class="{\'rtb-input--invalid\': formErrorState.city}"\n                           ng-change="controller.cityChanged()"\n                           ng-model="informationForUpload.info.city">\n                </div>\n            </div>\n        </div>\n        <div class="grid-row__column column-40">\n            <div class="field billing-information__postal-code">\n                <div class="rtb-input-field rtb-input-field--small">\n                    <label>Postal Code</label>\n                    <input type="text"\n                           data-autotest-id="billing-form__postal-code-input"\n                           class="rtb-input rtb-input--primary"\n                           ng-class="{\'rtb-input--invalid\': formErrorState.zip}"\n                           ng-change="controller.zipChanged()"\n                           ng-model="informationForUpload.info.zip">\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="grid-row">\n        <div class="grid-row__column column-100">\n            <div class="field billing-information--street">\n                <div class="rtb-input-field rtb-input-field--small">\n                    <label>Street address</label>\n                    <input type="text"\n                           data-autotest-id="billing-form__street-address-input"\n                           class="rtb-input rtb-input--primary"\n                           ng-class="{\'rtb-input--invalid\': formErrorState.street}"\n                           ng-change="controller.streetChanged()"\n                           ng-model="informationForUpload.info.street1">\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},4506:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".billing-form .section-caption {\n  margin-top: 48px;\n}\n.billing-form .grid-row:last-child .field {\n  margin-bottom: 0;\n}\n.billing-form .grid-row__column {\n  padding: 0 6px;\n}\n.billing-form .grid-row__column:first-child {\n  padding-left: 0;\n}\n.billing-form .grid-row__column:last-child {\n  padding-right: 0;\n}\n.billing-form .grid-row__column rtb-btn {\n  margin-right: 0;\n}\n.billing-form .field {\n  margin-bottom: 20px;\n}\n.billing-form .card-details {\n  position: relative;\n}\n.billing-form .card-details-label--stripe {\n  height: 18px;\n  width: 104px;\n  float: right;\n  margin-top: 5px;\n}\n.billing-form .card-details-label--stripe svg {\n  height: 18px;\n  width: 104px;\n}\n.billing-form .card-details__stripe {\n  margin-top: 13px;\n  padding: 8px 8px 8px 16px;\n  border-radius: 4px;\n  background-color: #fff;\n  border: solid 1px rgba(0, 0, 0, 0.2);\n  transition: border-color 600ms;\n}\n.billing-form .card-details__stripe:hover {\n  border-color: rgba(0, 0, 0, 0.4);\n}\n.billing-form .card-details__stripe.StripeElement--focus {\n  border-color: rgba(42, 121, 255, 0.8);\n}\n.billing-form .card-details__stripe.StripeElement--invalid,\n.billing-form .card-details__stripe.validate-error {\n  border-color: #fb584e;\n}\n.billing-form .card-details__error {\n  position: absolute;\n  font-size: 12px;\n  line-height: 1;\n  text-align: left;\n  color: #fb584e;\n  bottom: -17px;\n}\n.billing-form .billing-form__card-error__card-error--absolute {\n  position: absolute;\n  text-align: left;\n  bottom: -17px;\n}\n.billing-form__invoice-request {\n  margin-top: 17px;\n}\n",""])},4507:function(n,e,t){var a=t(4508);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4508:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".testimonial-wrapper {\n  height: 100%;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n}\n.testimonial__person-image {\n  width: 254px;\n  height: 254px;\n  margin-bottom: 20px;\n}\n.testimonial__person-image img {\n  width: inherit;\n}\n.testimonial__company-logo img {\n  width: inherit;\n  height: inherit;\n}\n.testimonial__text {\n  line-height: 1.43;\n  margin: 16px 0 24px;\n}\n.testimonial-footer__companies {\n  margin-top: 32px;\n  width: 253px;\n}\n.test-wrapper {\n  height: 314px;\n}\n",""])},4509:function(n,e,t){n.exports=t.p+"b305d829d943d29082a4e27651872885.jpg"},4510:function(n,e,t){n.exports=t.p+"befe77acd3f0cdccdd747dd7f40975c5.png"},4511:function(n,e,t){n.exports=t.p+"a6f907049884c45470ed1c1f9393853a.jpg"},4512:function(n,e,t){n.exports=t.p+"2d7112b241170c5eb647b7f075c2d44e.png"},4513:function(n,e,t){n.exports=t.p+"8687dc9146551767de1edd3397118c87.jpg"},4514:function(n,e,t){n.exports=t.p+"57c4a36a30b26c0535df684f11b20d18.svg"},4515:function(n,e,t){n.exports=t.p+"106fc2d11902135c404a127464cdfca2.svg"},4516:function(n,e,t){var a=t(4517);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4517:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".base-headed-modal.choose-plan-and-billing.plan-change-modal {\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  scrollbar-color: #827f9b transparent;\n  scrollbar-width: thin;\n  -ms-flex-align: start;\n      align-items: flex-start;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal::-webkit-scrollbar {\n  width: 4px;\n  height: 4px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal::-webkit-scrollbar-thumb {\n  background-color: #827f9b;\n  border: 0 solid transparent;\n  border-radius: 2px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal::-webkit-scrollbar-track {\n  background-color: #eee;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .modal-content {\n  margin: 0 auto;\n  padding: 0 0 60px 0;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .md-content {\n  margin: 40px 0;\n  padding-top: 34px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .rtb-modal-header {\n  padding-left: 60px;\n  height: 68px;\n  padding-top: 0;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .modal-content {\n  padding: 0 68px 63px 60px;\n  border-top: 1px solid rgba(0, 0, 0, 0.2);\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .section-caption {\n  display: block;\n  font-size: 16px;\n  font-weight: 600;\n  margin-top: 36px;\n  margin-bottom: 8px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .hr {\n  margin: 35px 0 26px 0;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .small-text {\n  font-size: 12px;\n  line-height: 1.5;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .rtb-radiobutton:last-child {\n  margin-bottom: 0;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .notification-member-text {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  box-sizing: border-box;\n  min-height: 36px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .badge {\n  margin-top: -2px;\n  padding: 6px 10px;\n  border-radius: 4px;\n  background-color: rgba(20, 91, 242, 0.04);\n  color: #4262ff;\n  font-size: 12px;\n  line-height: 1;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .margin-b-10 {\n  margin-bottom: 10px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .no-padding {\n  padding: 0;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .pull-right {\n  margin-left: auto;\n  text-align: right;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .pull-bottom {\n  margin-top: auto;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .promo-control-wrapper {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  height: 36px;\n  margin-bottom: 28px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .promo-button {\n  box-sizing: border-box;\n  display: block;\n  border: 1px dotted #4262ff;\n  padding: 10px 10px 12px;\n  border-radius: 4px;\n  width: 100%;\n  color: #4262ff;\n  background-color: transparent;\n  text-align: center;\n  text-decoration: none;\n  line-height: 1;\n  cursor: pointer;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .promo-button:hover,\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .promo-button:focus {\n  background-color: rgba(20, 91, 242, 0.04);\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .promo-old-sum {\n  text-decoration: line-through;\n  margin-left: 8px;\n  color: #c3c2cf;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .credit-info .promo-old-sum {\n  font-weight: normal;\n  margin-left: 0;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .promo-discount {\n  color: #c3c2cf;\n  border-radius: 4px;\n  border: solid 1px #c3c2cf;\n  font-size: 10px;\n  line-height: 24px;\n  padding: 5px 8px;\n  position: relative;\n  font-weight: normal;\n  top: -4px;\n  margin-left: 8px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .promo-input {\n  margin-left: 20px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .promo-input .status-text {\n  display: none;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .promo-input.rtb-input-field--invalid .status-text {\n  display: block;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .promo-input-control .rtb-btn {\n  min-width: 85px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .billing-error {\n  position: relative;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .billing-error .billing-error--text {\n  position: absolute;\n  font-size: 12px;\n  line-height: 1;\n  text-align: left;\n  color: #fb584e;\n  top: -24px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .ui-select label {\n  outline: none;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .ui-select label:focus .ui-select__select-wrapper {\n  border-color: rgba(42, 121, 255, 0.8);\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .ui-select .ui-select__label {\n  font-size: 14px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .ui-select__select-wrapper {\n  height: 36px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .ui-select__select-wrapper select {\n  font-size: 14px;\n  color: #050038;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .billing-information__card {\n  margin-top: 12px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .billing-information {\n  margin-bottom: 28px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .billing-information.billing-information--list .section-caption {\n  margin-top: 28px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .coupon-position {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .coupon-position.coupon-position--reverse {\n  -ms-flex-direction: column-reverse;\n      flex-direction: column-reverse;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .plan-change-modal__day-passes-toggle .rtb-toggle__text {\n  font-size: 16px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .plan-change-modal__seats-number {\n  margin-top: 5px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .upgrade-to-company-notification {\n  margin-top: 36px;\n  padding: 16px 24px 16px 14px;\n  border-radius: 4px;\n  background-color: #f0f3ff;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row;\n      flex-direction: row;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .upgrade-to-company-notification__info-icon {\n  width: 12px;\n  height: 12px;\n  margin-right: 10px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .upgrade-to-company-notification__link {\n  text-decoration: underline;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal.plan-change-modal--with-testimonial .md-content {\n  width: 842px;\n  padding-top: 0;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal.plan-change-modal--with-testimonial .plan-change-modal-columns {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row;\n      flex-direction: row;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal.plan-change-modal--with-testimonial .plan-change-modal-columns .rtb-modal-header {\n  padding-left: 49px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal.plan-change-modal--with-testimonial .plan-change-modal-columns .modal-content {\n  border-top: none;\n  padding: 0 48px 63px 49px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal.plan-change-modal--with-testimonial .plan-change-modal-columns .plan-change-modal-columns__col-1 {\n  width: 523px;\n  padding-top: 34px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal.plan-change-modal--with-testimonial .plan-change-modal-columns .plan-change-modal-columns__col-2 {\n  display: -ms-flexbox;\n  display: flex;\n  padding-top: 34px;\n  width: 318px;\n  border-left: 1px solid #c3c2cf;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal.plan-change-modal--with-testimonial .plan-change-modal-columns .plan-change-modal-columns__col-2 .modal-content {\n  padding: 0 32px 63px 32px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .plan-change-modal__notification {\n  margin-top: 12px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .plan-change-modal__past-due-invoices .past-due-invoices {\n  padding-top: 35px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row;\n      flex-direction: row;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .plan-change-modal__past-due-invoices .past-due-invoices .past-due-invoices__column {\n  margin-right: 48px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .plan-change-modal__past-due-invoices .past-due-invoices .past-due-invoices__row {\n  margin-top: 16px;\n}\n.base-headed-modal.choose-plan-and-billing.plan-change-modal .plan-change-modal__past-due-invoices .past-due-invoices-total a {\n  color: #050038;\n}\n",""])},4518:function(n,e,t){n.exports='<rtb-modal-old class="base-headed-modal choose-plan-and-billing plan-change-modal big-modal" ng-class="{\'plan-change-modal--with-testimonial\': modal.params.showTestimonial}" no-prevent-default="true">\n    <div ng-class="\'plan-change-modal-columns\'">\n        <div class="plan-change-modal-columns__col-1">\n            <rtb-modal-header color="white"\n                              on-close="modal.onCancel()"\n                              close-button-visible="!modal.canShowBackButton()"\n                              back-button-visible="modal.canShowBackButton()"\n                              text="{{modal.titleText}}"\n                              on-back="modal.onBack()"\n                              subtitle="{{modal.subtitleText}}"\n                              subtitle-action-text="{{modal.subtitleActionText}}"\n                              on-subtitle-action-click="modal.openPricing()"></rtb-modal-header>\n            <div class="modal-content">\n                <div ng-if="!modal.pastDueInvoices">\n                <div class="grid-row" ng-if="modal.canChooseMemberCount">\n                    <div class="grid-row__column column-65">\n                        <label class="section-caption">{{modal.subscriptionAmountText()}}</label>\n                        <rtb-select\n                                data-autotest-id="plan-change-modal__team-size-select"\n                                class="plan-change-modal__seats-number rtb-select rtb-select--secondary-bordered rtb-select--small rtb-select--fluid"\n                                ng-model="modal.planModel.selectedValue"\n                                options="modal.planModel.options"\n                        ></rtb-select>\n                    </div>\n                    <div class="grid-row__column column-35 no-padding pull-bottom">\n                        <div class="notification-member-text grey-text small-text">{{modal.textOfMembers}}</div>\n                    </div>\n                </div>\n                <div ng-if="modal.showUpgradeToCompanyNotification" class="upgrade-to-company-notification">\n                    <div>\n                        <svg    class="upgrade-to-company-notification__info-icon"><use xlink:href="'+t(2130)+'"></use></svg>\n                    </div>\n                    <div>\n                        Managing more than 50 team members? Upgrade to Enterprise Plan to take advantage of advanced user management.\n                        <a ng-if="modal.isPaidTeam || modal.isPremiumAccount" class="upgrade-to-company-notification__link" href="https://miro.com/contact/sales/?lead_source=Payment&window&expansion=company_plan" target="_blank">Contact us</a>\n                        <a ng-if="modal.isFreeTeam" class="upgrade-to-company-notification__link" href="https://miro.com/contact/sales/?lead_source=Payment&window=company_plan" target="_blank">Contact us</a>\n                    </div>\n                </div>\n                <div class="plan-change-modal__notification grey-text small-text" ng-if="modal.isPremiumAccount">\n                    After upgrading to {{modal.getPlanIdent()}} plan, all board editors will become\n                    <a class="rtb-link" href="https://help.miro.com/hc/en-us/articles/360017571514-Account-Access-Levels" target="_blank">external users</a>.\n                    You will be able to add them to your team as full members in Settings.\n                </div>\n                <div class="grid-row" ng-if="modal.canChooseInterval">\n                    <div class="grid-row__column column-65">\n                        <label class="section-caption">Choose billing type</label>\n                        <div class="grid-row">\n                            <div class="grid-row__column no-padding">\n                                <rtb-radiobutton\n                                        class="rtb-radiobutton--medium"\n                                        ng-repeat="option in modal.internalOptions"\n                                        label="option.caption"\n                                        value="option.value"\n                                        model="modal.planModel.paymentInterval"\n                                        hm-tap="modal.changeInterval(option.value)">\n                                </rtb-radiobutton>\n                            </div>\n                            <div class="grid-row__column no-padding">\n                                <div class="badge">Save 20%</div>\n                            </div>\n                            <div class="grid-row__column pull-right">\n                                <div class="margin-b-10">${{modal.paymentInfo.costPerMonthInYearPlan}}/month</div>\n                                <div>${{modal.paymentInfo.costPerMonthInMonthPlan}}/month</div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="grid-row__column column-35"></div>\n                </div>\n                <div class="grid-row" ng-if="modal.canToggleDayPasses">\n                    <rtb-toggle class="section-caption rtb-toggle--medium plan-change-modal__day-passes-toggle"\n                                label="\'Day Passes\'"\n                                checked="modal.planModel.dayPassesActivated">\n                    </rtb-toggle>\n                    <div class="small-text">\n                        Day passes give 24-hour access to boards for occasional users.\n                        One day pass costs&nbsp;${{modal.planModel.dayPassPrice.toLocaleString(\'en-US\')}}.\n                        You will be charged monthly for the amount of day passes used.\n                        <br>\n                        <a class="rtb-link rtb-link--text"\n                           target="_blank"\n                           href="https://help.miro.com/hc/en-us/articles/360017571814-Day-Passes-for-Business-and-Consultant-Plans">\n                            Learn more\n                        </a>\n                    </div>\n                </div>\n                <div class="grid-row" ng-show="modal.planModel.currentPaymentInfo && !modal.planModel.createSubscription">\n                    <div class="grid-row__column column-100 payment-info">\n                        <div class="payment-info-col payment-info-current">\n                            <h3>{{modal.currentPlanColumnTitle}}</h3>\n                            <p>{{modal.planModel.currentPaymentInfo.paymentMemberCount}} members</p>\n                            <p>\n                            <span class="payment-info-col--interval">\n                                {{modal.planModel.currentPaymentInfo.paymentInterval}}ly\n                            </span>\n                                payments\n                            </p>\n                            <p>${{modal.planModel.currentPaymentInfo.totalCost}} per {{modal.planModel.currentPaymentInfo.paymentInterval}}</p>\n                        </div>\n                        <div class="payment-info-col payment-info-separator">\n                            <svg   ><use xlink:href="'+t(1487)+'"></use></svg>\n                        </div>\n                        <div class="payment-info-col">\n                            <h3>{{modal.newPlanColumnTitle}}</h3>\n                            <p>{{modal.planModel.paymentInfo.paymentMemberCount}} members</p>\n                            <p>\n                            <span class="payment-info-col--interval">\n                                {{modal.planModel.paymentInfo.paymentInterval}}ly\n                            </span>\n                                payments\n                            </p>\n                            <p>${{modal.planModel.paymentInfo.totalCost}} per {{modal.planModel.paymentInfo.paymentInterval}}</p>\n                        </div>\n                    </div>\n                </div>\n                <div class="grid-row" ng-show="!modal.paymentStripeInfoLoading()">\n                    <div class="grid-row__column payments-cost--info">\n                        <label class="section-caption big-text" ng-show="modal.showPrice()">\n                            <span>{{modal.priceText()}}:</span>\n                            <span ng-if="modal.showTotalSum()">${{modal.paymentInfo.totalSum.toLocaleString(\'en-US\')}}</span>\n                            <span ng-if="modal.showCreditDiscount()" class="credit-info">\n                                <span class="grey-text promo-old-sum">\n                                    ${{modal.paymentInfo.totalCost.toLocaleString(\'en-US\')}}\n                                </span>\n                                &nbsp;\n                                <span>\n                                    ${{modal.paymentInfo.totalSum.toLocaleString(\'en-US\')}} (after credits)\n                                </span>\n                            </span>\n                            <span class="grey-text"\n                                  ng-if="modal.showCouponDiscount()">\n                                <span class="promo-old-sum">${{modal.paymentInfo.totalCost.toLocaleString(\'en-US\')}}</span>\n                                <span class="promo-discount">${{modal.paymentInfo.totalDiscount.toLocaleString(\'en-US\')}} discount</span>\n                            </span>\n                        </label>\n                        <div class="grey-text small-text">\n                            <span ng-bind-html="modal.paymentTextInfo"></span>\n                            <span ng-bind-html="modal.helpTextInfo"></span>\n                        </div>\n                    </div>\n                </div>\n                </div>\n                <div class="plan-change-modal__past-due-invoices" ng-if="modal.pastDueInvoices">\n                    <div class="past-due-invoices">\n                        <div class="past-due-invoices__column">\n                            <span class="grey-text">Receipt</span>\n                            <a ng-repeat="pastDueInvoice in modal.pastDueInvoices"\n                               class="past-due-invoices__row rtb-link"\n                               ng-href="{{modal.pastDueInvoiceLinkHref(pastDueInvoice.invoiceID)}}"\n                               target="_blank">\n                                {{modal.pastDueInvoiceLinkText(pastDueInvoice.created)}}\n                            </a>\n                        </div>\n                        <div class="past-due-invoices__column">\n                            <span class="grey-text">Amount</span>\n                            <span ng-repeat="pastDueInvoice in modal.pastDueInvoices"\n                                  class="past-due-invoices__row">\n                                ${{(pastDueInvoice.amountDue / 100).toLocaleString(\'en-US\')}}\n                            </span>\n                        </div>\n                    </div>\n                    <div class="past-due-invoices-total">\n                        <div class="grid-row__column payments-cost--info">\n                            <label class="section-caption big-text">\n                                <span>Total price:</span>\n                                <span>${{(modal.pastDueInvoicesTotalSum() / 100).toLocaleString(\'en-US\')}}</span>\n                            </label>\n                            <div>\n                                The total price is a sum of all previously failed prorated charges.\n                                For questions, see <a class="rtb-link" href="https://help.miro.com/hc/en-us/articles/360017730273-How-to-Upgrade-Your-Account" target="_blank">FAQ</a>\n                                or email us <a class="rtb-link" href="https://help.miro.com/hc/en-us/requests/new" target="_blank">here</a>.\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="hr"></div>\n                <div class="billing-information billing-information--list"\n                     ng-if="modal.planModel && modal.informationForUpload && modal.cardSelectModel.cardsInfo.length > 1">\n                    <div class="billing-information__card"\n                         ng-repeat="cardInfo in modal.cardSelectModel.cardsInfo">\n                        <rtb-radiobutton\n                                class="rtb-radiobutton--medium"\n                                model="modal.cardSelectModel.selected"\n                                value="$index"\n                                label="modal.makeCardlable(cardInfo)"\n                                hm-tap="modal.onCardSelect($index)">\n                        </rtb-radiobutton>\n                        <billing-form ng-if="cardInfo.isNewCard && cardInfo.showed"\n                                      ng-show="$index === modal.cardSelectModel.selected"\n                                      form-error-state="modal.formErrorState"\n                                      on-change="modal.onPaymentFormChange(changedValue, $index)"\n                                      loading-model="modal.loadingModel"\n                                      on-token-start-loading="modal.onTokenStartLoading($tokenPromise)"\n                                      information-for-upload="::cardInfo"\n                                      show-contact-us-link="modal.showContactUsLink"></billing-form>\n                    </div>\n                </div>\n                <div class="billing-information"\n                     ng-if="modal.planModel && modal.informationForUpload && modal.cardSelectModel.cardsInfo.length <= 1">\n                    <billing-form form-error-state="modal.formErrorState"\n                                  on-change="modal.onPaymentFormChange()"\n                                  loading-model="modal.loadingModel"\n                                  on-token-start-loading="modal.onTokenStartLoading($tokenPromise)"\n                                  information-for-upload="modal.informationForUpload"\n                                  show-contact-us-link="modal.showContactUsLink"></billing-form>\n                </div>\n                <div class="grid-row" ng-if="modal.canUsedCoupon">\n                    <div class="grid-row__column column-65">\n                        <div class="promo-control-wrapper">\n                            <a class="rtb-link rtb-link--primary rtb-link--dashed"\n                               tabindex="-1"\n                               hm-tap="modal.onShowPromoInput()">\n                                Have a Promo Code?\n                            </a>\n                            <div class="promo-input rtb-input-field"\n                                 ng-class="{\'rtb-input-field--invalid\': !modal.promoInputModel.isValid}"\n                                 ng-show="modal.promoInputModel.isVisible">\n                                <div\n                                        class="rtb-input-group rtb-input-group--small\n                                                rtb-input-group--fluid rtb-input-group--inline promo-input-control"\n                                        ng-class="{\n                                                            \'rtb-input-group--disabled\': modal.promoInputModel.isDisabled,\n                                                            \'rtb-input-group--invalid\': !modal.promoInputModel.isValid\n                                                        }">\n                                    <input type="text"\n                                           class="rtb-input rtb-input--primary"\n                                           tabindex="-1"\n                                           ng-key=""\n                                           ng-model="modal.promoInputModel.value"\n                                           ng-keyup="modal.onKeyUp($event)"\n                                           ng-blur="onBlur($event)">\n                                    <button class="rtb-btn rtb-btn--primary"\n                                            ng-class="{\'rtb-btn--loading\': modal.loadingModel.loadingPromo}"\n                                            hm-tap="modal.onApplyCoupon()"\n                                            tabindex="-1">\n                                        {{modal.promoInputModel.textInputButton}}\n                                    </button>\n                                </div>\n                                <div class="status-text">Promo code is invalid</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="grid-row billing-error" ng-if="modal.paymentError">\n                    <div class="grid-row__column column-100 billing-error--text">\n                        {{modal.paymentError}}\n                    </div>\n                </div>\n                <div class="grid-row grid-row--center">\n                    <div class="grid-row__column">\n                        <button class="rtb-btn rtb-btn--primary rtb-btn--medium"\n                                ng-class="{\'rtb-btn--disabled\': !modal.purchaseAllowed(),\n                                            \'rtb-btn--loading\': modal.loading()}"\n                                hm-tap="modal.purchase()">\n                            {{modal.submitBtnText}}\n                        </button>\n                    </div>\n                    <div class="grid-row__column grey-text small-text" ng-show="modal.userEmail !== \'\'" ng-if="!modal.pastDueInvoices">Invoices will be sent to <br>{{modal.userEmail}}</div>\n                </div>\n            </div>\n        </div>\n        <div class="plan-change-modal-columns__col-2" ng-if="modal.params.showTestimonial">\n            <div class="modal-content">\n                <testimonial target-plan-ident="modal.getPlanIdent()" show-footer="modal.showTestimonialFooter"></testimonial>\n            </div>\n        </div>\n    </div>\n</rtb-modal-old>'},4519:function(n,e){n.exports="#img__arrow-right"},4520:function(n,e,t){var a=t(4521);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4521:function(n,e,t){var a=t(82);(n.exports=t(23)(!1)).push([n.i,".rtb-modal.why-upgrade-modal .rtb-modal-content {\n  width: 1070px;\n  padding: 33px 0 76px;\n  color: #000;\n  border-radius: 0;\n}\n.rtb-modal.why-upgrade-modal .rtb-modal-content.business-plan {\n  padding: 0;\n}\n.rtb-modal.why-upgrade-modal .rtb-modal-content iframe {\n  width: 100%;\n  border: none;\n}\n.why-upgrade-modal__header {\n  width: 1060px;\n  height: 440px;\n  margin: 0 auto 16px;\n}\n.why-upgrade-modal__centered-content {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-align: center;\n      align-items: center;\n  margin-top: 40px;\n}\n.why-upgrade-modal__price {\n  width: 344px;\n  margin: 0 -129px 0 24px;\n  line-height: 1.43;\n  text-align: left;\n}\n.why-upgrade-modal__section {\n  margin-top: 80px;\n}\n.why-upgrade-modal__section.why-upgrade-modal__section--left {\n  padding: 0 100px;\n  text-align: left;\n}\n.why-upgrade-modal__section.why-upgrade-modal__section--left .why-upgrade-modal__p1 {\n  margin-top: 8px;\n}\n.why-upgrade-modal__h1,\n.why-upgrade-modal__h2,\n.why-upgrade-modal__h3 {\n  font-family: Gerbera, OpenSans, Arial, sans-serif;\n}\n.why-upgrade-modal__h1,\n.why-upgrade-modal__h2,\n.why-upgrade-modal__h3,\n.why-upgrade-modal__h4 {\n  font-weight: bold;\n}\n.why-upgrade-modal__h1 {\n  font-size: 40px;\n  font-family: Gerbera, OpenSans, Arial, sans-serif;\n}\n.why-upgrade-modal__h2 {\n  font-size: 36px;\n}\n.why-upgrade-modal__h3 {\n  font-size: 28px;\n}\n.why-upgrade-modal__h4 {\n  font-size: 20px;\n  line-height: 1.4;\n}\n.why-upgrade-modal__p1 {\n  margin-top: 4px;\n  font-size: 20px;\n  line-height: 1.4;\n}\n.why-upgrade-modal__p2 {\n  margin-top: 8px;\n  line-height: 1.43;\n}\n.why-upgrade-modal__gray-section {\n  margin-top: 100px;\n  padding-top: 80px;\n  background-color: #ffbfbf;\n  padding-bottom: 396px;\n}\n.why-upgrade-modal__horizontal-line {\n  position: relative;\n  top: -1px;\n  left: -2px;\n}\n.why-upgrade-modal__features-list {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  margin: 59px 100px 0;\n}\n.why-upgrade-modal__feature {\n  min-width: 240px;\n  max-width: 260px;\n  text-align: left;\n}\n.why-upgrade-modal__feature + .why-upgrade-modal__feature {\n  margin-left: 64px;\n}\n.why-upgrade-modal__feature-image {\n  height: 124px;\n  -o-object-fit: scale-down;\n     object-fit: scale-down;\n  margin-bottom: 16px;\n}\n.why-upgrade-modal__features-balloon {\n  width: 874px;\n  height: 623px;\n  margin: -300px auto 0;\n  padding-top: 69px;\n  box-sizing: border-box;\n  background-image: url("+a(t(4522))+");\n}\n.why-upgrade-modal__features-columns {\n  margin: 49px 117px 0;\n  column-count: 2;\n  column-gap: 128px;\n}\n.why-upgrade-modal__features-columns .why-upgrade-modal__h4,\n.why-upgrade-modal__features-columns .why-upgrade-modal__p2 {\n  width: 260px;\n  text-align: left;\n}\n.why-upgrade-modal__features-columns .why-upgrade-modal__p2 {\n  margin: 3px 0 41px;\n}\n.why-upgrade-modal__logos {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  margin: 32px 50px 48px 100px;\n}\n.why-upgrade-modal__logo {\n  height: 80px;\n  margin: 0 50px 12px 0;\n}\n.why-upgrade-modal__divider {\n  height: 2px;\n  margin: 80px 0 60px;\n  background-color: #ebebef;\n}\n.why-upgrade-modal__other-plans {\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 80px 0 100px;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n}\n.why-upgrade-modal__other-plan .why-upgrade-modal__h2,\n.why-upgrade-modal__other-plan .why-upgrade-modal__p2 {\n  text-align: left;\n}\n.rtb-btn + .why-upgrade-modal__p2 {\n  margin-top: 12px;\n}\n.why-upgrade-modal__other-plan {\n  text-align: left;\n}\n.why-upgrade-modal__other-plan-link {\n  display: inline-block;\n  margin-top: 16px;\n  font-weight: 600;\n  color: #4262ff;\n}\n.why-upgrade-modal__other-plan-link svg {\n  width: 16px;\n  height: 10px;\n  margin-left: 5px;\n}\n",""])},4522:function(n,e){n.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4NzQiIGhlaWdodD0iNjIzIiB2aWV3Qm94PSIwIDAgODc0IDYyMyI+CiAgICA8cGF0aCBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0iIzA1MDAzOCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjQiIGQ9Ik00MjQuMDMgNjIxYy01LjUzNS0xMC42MDQtNi41NDYtMzYuNjM0LTE5Ljk1NC0zOS44OTgtMzUuMzc0LTkuMzkxLTE3Mi4yOTIgNi40MDYtMjU0LjQxNSAyLjU0Ni01My41NDEtMy4zNTQtNzcuNjg1LTIuNjY2LTEyMS43Mi02Ljc5LTguMjA1LS45OTktMTguNTQ4LTEuNTA4LTIwLjk1Mi04LjQ5LTMuODYtOS42MTItMS43Ny0yNi4yNzMtMS45OTYtMzMuOTU2LTEuMzktMzIuMTE5LTYuNzg1LTE1MC42NTMgMS45OTYtMjM4LjU0MSA0LjA0Mi00NC44OC0yLjIyMi0yNTEuMzMgMC0yNjUuNzA2IDMuMTk3LTI3LjA5NiA4MC4wNTktMTUuNjM3IDEyNy43MDYtMTUuMjggNDcuMTgyLS4zNTcgMTEzLjMyNy0zLjMyIDE0Ny42Ni00LjI0NSA1Mi45OTItMi4xOTYgMTA1LjktNS40IDE1OC42MzYtNy42NCAxMS4xMTItLjExMiAyMS45OTQuMTI2IDMyLjkyNCAwIDQzLjQyNC45MzYgODYuOTEgMS42NjMgMTI5LjcwMiAyLjU0N0M2NDkuOTI5IDYuODIzIDY5NS41NDUgOC40NzIgNzQxLjMgOS43OWMxNTQuMjkgNC43MzcgMTI0Ljg0NCAzNi45OTEgMTI0LjcxNCAxNjguOTMyLjEzIDEwMi4yNyA3LjcyNyAyNDIuNjU4IDQuOTg4IDI3NS4wNDMtLjY2NSA5LjM0Ny0uMjgyIDE4Ljg1NC0uOTk3IDI4Ljg2My0xLjQwNyAxNi43MTEgNS4wMDggNDIuNTg2IDAgNTkuNDIzLTQuMDYgMTMuMTM3LTIzLjgxIDIwLjg3My0yNC45NDMgMjAuMzc0LTYuNDQ0IDEuMzE5LTEyLjkxNSAxLjgwNy0xOS45NTQgMS42OTgtNTQuOTU4LS4wOTItMjYxLjg2NyAxLjk4LTMzOC4yMjMgMTEuODg0LTEyLjA2NyAxLjIwNi0yMi4xMzkgNC44NDItMzIuOTI0IDEzLjU4My02LjYzNyA2LjA0Ni0xNi42MTQgMTYuNTE1LTI5LjkzMSAzMS40MDl6Ii8+Cjwvc3ZnPg=="},4523:function(n,e,t){n.exports='<div class="rtb-modal rtb-modal--full-scrollable why-upgrade-modal" no-prevent-default="true">\n    <rtb-modal-close-button hm-tap="modal.cancel()"></rtb-modal-close-button>\n    <div class="rtb-modal-container">\n        <div class="rtb-modal-container__content rtb-modal-content">\n            <img class="why-upgrade-modal__header" src="'+t(4524)+'">\n            <div class="why-upgrade-modal__h1">We have a plan for your team!</div>\n            <div class="why-upgrade-modal__p1">Get unlimited boards, JIRA integration, Private boards<br>and other robust features with Team plan.</div>\n            <div class="why-upgrade-modal__centered-content">\n                <button class="rtb-btn rtb-btn--primary rtb-btn--large" hm-tap="modal.onClickUpgrade(true)" ng-if="!modal.isTrialAvailable">Upgrade now</button>\n                <button class="rtb-btn rtb-btn--primary rtb-btn--large" hm-tap="modal.onClickUpgrade(true)" ng-if="modal.isTrialAvailable">Start {{modal.trialDuration}} trial</button>\n                <div class="why-upgrade-modal__price">\n                    <div class="why-upgrade-modal__h4">\n                        $<span ng-bind-html="modal.params.paymentInfo.costPerMonthInYearPlan"></span> per month for\n                        <span ng-bind-html="modal.params.paymentInfo.paymentMemberCount"></span> users\n                    </div>\n                    billed annually or $<span ng-bind-html="modal.params.paymentInfo.costPerMonthInMonthPlan"></span>/Month<span ng-if="modal.isTrialAvailable">, paid after trial</span>\n                </div>\n            </div>\n            <div class="why-upgrade-modal__section why-upgrade-modal__section--left" ng-if="modal.isInactiveBoardsInfoVisible">\n                <div class="why-upgrade-modal__h1">Make <span ng-if="modal.inactiveBoardsNumber > 1">all</span> your {{modal.inactiveBoardsNumber}} board{{modal.inactiveBoardsNumber > 1 ? \'s\' : \'\'}} active</div>\n                <div class="why-upgrade-modal__p1">\n                    You exceeded the limit of editable boards: {{modal.inactiveBoardsNumber}} out of {{modal.params.account.boardsNumber}}\n                    boards in your account are currently inactive. Upgrade to Team plan to take advantage of unlimited boards.\n                </div>\n            </div>\n            <div class="why-upgrade-modal__section why-upgrade-modal__section--left" ng-if="modal.params.paymentInfo.centsCredits > 0">\n                <div class="why-upgrade-modal__h1">Start using Team plan for free</div>\n                <div class="why-upgrade-modal__p1">\n                    You received $<span ng-bind-html="modal.params.paymentInfo.centsCredits / 100"></span> in credits for inviting users to your team.\n                    <span ng-if="modal.params.paymentInfo.creditsMonthsCount > 0">\n                        Apply credits to your payment to use Team plan for {{modal.params.paymentInfo.creditsMonthsCount}} month{{modal.params.paymentInfo.creditsMonthsCount > 1 ? \'s\' : \'\'}} without spending a single cent!\n                    </span>\n                    <span ng-if="modal.params.paymentInfo.creditsMonthsCount === 0">Use your credits towards Team plan purchase.</span>\n                </div>\n            </div>\n            <div class="why-upgrade-modal__gray-section">\n                <div class="why-upgrade-modal__h1">Enhance your team work:</div>\n                <div class="why-upgrade-modal__features-list">\n                    <div class="why-upgrade-modal__feature">\n                        <img class="why-upgrade-modal__feature-image" src="'+t(4525)+'">\n                        <div class="why-upgrade-modal__h4">Unlimited <br>and Private boards</div>\n                        <div class="why-upgrade-modal__p2">\n                            Upgrade to Team plan to create and edit boards without limits and manage access rights for them.\n                        </div>\n                    </div>\n                    <div class="why-upgrade-modal__feature">\n                        <img class="why-upgrade-modal__feature-image" src="'+t(4526)+'">\n                        <div class="why-upgrade-modal__h4">Guest access for<br>external users</div>\n                        <div class="why-upgrade-modal__p2">Work easily with people from<br>outside your team by inviting them<br>to one or more boards.</div>\n                    </div>\n                    <div class="why-upgrade-modal__feature">\n                        <img class="why-upgrade-modal__feature-image" src="'+t(4527)+'">\n                        <div class="why-upgrade-modal__h4">Integrations with<br>key services</div>\n                        <div class="why-upgrade-modal__p2">Integrate Miro with<br>services like JIRA, Slack and Sketch<br>to simplify and accelerate your<br>collaboration.</div>\n                    </div>\n                </div>\n            </div>\n            <div class="why-upgrade-modal__features-balloon">\n                <div class="why-upgrade-modal__h1">More Team plan features</div>\n                <div class="why-upgrade-modal__features-columns">\n                    <div class="why-upgrade-modal__h4">Projects</div>\n                    <div class="why-upgrade-modal__p2">Projects help you organize boards and make them easier to find and share.</div>\n                    <div class="why-upgrade-modal__h4">High-res export</div>\n                    <div class="why-upgrade-modal__p2">Save your boards as PDFs or images in high resolution.</div>\n                    <div class="why-upgrade-modal__h4">Custom templates</div>\n                    <div class="why-upgrade-modal__p2">\u0421reate custom templates and share them with your team to accelerate collaboration and add consistency.</div>\n                    <div class="why-upgrade-modal__h4">Boards backup</div>\n                    <div class="why-upgrade-modal__p2">Create archived copies of your boards to save the most important content.</div>\n                    <div class="why-upgrade-modal__h4">Video conferencing</div>\n                    <div class="why-upgrade-modal__p2">Set up video calls to speed up the collaboration even more.</div>\n                    <div class="why-upgrade-modal__h4">Customer support</div>\n                    <div class="why-upgrade-modal__p2">Make all your questions answered with our world-class Support team.</div>\n                </div>\n            </div>\n            <div class="why-upgrade-modal__section why-upgrade-modal__section--center">\n                <div class="why-upgrade-modal__h1">You\'re in good company</div>\n                <div class="why-upgrade-modal__p1">Join thousands of businesses using Miro<br>to create the Next Big Things.</div>\n            </div>\n            <div class="why-upgrade-modal__logos">\n                <img class="why-upgrade-modal__logo" src="'+t(4528)+'">\n                <img class="why-upgrade-modal__logo" src="'+t(4529)+'">\n                <img class="why-upgrade-modal__logo" src="'+t(4530)+'">\n                <img class="why-upgrade-modal__logo" src="'+t(4531)+'">\n                <img class="why-upgrade-modal__logo" src="'+t(4532)+'">\n                <img class="why-upgrade-modal__logo" src="'+t(4533)+'">\n                <img class="why-upgrade-modal__logo" src="'+t(4534)+'">\n                <img class="why-upgrade-modal__logo" src="'+t(4535)+'">\n                <img class="why-upgrade-modal__logo" src="'+t(4536)+'">\n                <img class="why-upgrade-modal__logo" src="'+t(4537)+'">\n            </div>\n            <button class="rtb-btn rtb-btn--primary rtb-btn--large" hm-tap="modal.onClickUpgrade(false)" ng-if="!modal.isTrialAvailable">Upgrade now</button>\n            <button class="rtb-btn rtb-btn--primary rtb-btn--large" hm-tap="modal.onClickUpgrade(false)" ng-if="modal.isTrialAvailable">Start {{modal.trialDuration}} trial</button>\n            <div class="why-upgrade-modal__p2">\n                <div class="why-upgrade-modal__h4">\n                    $<span ng-bind-html="modal.params.paymentInfo.costPerMonthInYearPlan"></span> per month for\n                    <span ng-bind-html="modal.params.paymentInfo.paymentMemberCount"></span> users\n                </div>\n                billed annually or $<span ng-bind-html="modal.params.paymentInfo.costPerMonthInMonthPlan"></span>/Month<span ng-if="modal.isTrialAvailable">, paid after trial</span>\n            </div>\n            <div class="why-upgrade-modal__divider"></div>\n            <div class="why-upgrade-modal__other-plans">\n                <div class="why-upgrade-modal__other-plan">\n                    <div class="why-upgrade-modal__h4">Working with clients? Try Consultant plan</div>\n                    <div class="why-upgrade-modal__p2">Use Miro to collaborate with your clients on<br>innovative solutions for their business.</div>\n                    <a class="why-upgrade-modal__other-plan-link" href="/consultants/" target="_blank" hm-tap="modal.onClickLearnMoreConsultantPlan()">\n                        <span>Learn more</span>\n                        <svg><use xlink:href="" ng-attr-xlink:href="{{modal.arrowRightIcon}}"></use></svg>\n                    </a>\n                </div>\n                <div class="why-upgrade-modal__other-plan">\n                    <div class="why-upgrade-modal__h4">Miro for Enterprise</div>\n                    <div class="why-upgrade-modal__p2">\u0421oordinate as a whole and produce results with<br>Enterprise plan for enterprise teams of 50 users and up.</div>\n                    <a class="why-upgrade-modal__other-plan-link" href="/enterprise/" target="_blank" hm-tap="modal.onClickLearnMoreEnterprisePlan()">\n                        <span>Learn more</span>\n                        <svg><use xlink:href="" ng-attr-xlink:href="{{modal.arrowRightIcon}}"></use></svg>\n                    </a>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},4524:function(n,e,t){n.exports=t.p+"src/lazy-modules/billing/modals/whyupgrade/img/why-upgrade-header.749a45.png"},4525:function(n,e,t){n.exports=t.p+"d2c71d777f153d58244c240357651561.svg"},4526:function(n,e,t){n.exports=t.p+"95412307012e3704debd2b04cc0e4fb1.svg"},4527:function(n,e,t){n.exports=t.p+"c2ba191259da8fe8d4b39cbfd6462ad2.svg"},4528:function(n,e,t){n.exports=t.p+"08a8e139fde72e614419afc12c71df10.svg"},4529:function(n,e,t){n.exports=t.p+"510de42642353f9ccfae4cb0e1830cc6.svg"},4530:function(n,e,t){n.exports=t.p+"a59bc1c43880cd2c00095ecdedfd2ee3.svg"},4531:function(n,e,t){n.exports=t.p+"86651f8d7183666bd98a6c337749efa6.png"},4532:function(n,e,t){n.exports=t.p+"1f9d405fc4b602d0c8b36dffa70b62ab.svg"},4533:function(n,e,t){n.exports=t.p+"adcb8181ebfc2f647001b1e1bcced068.png"},4534:function(n,e,t){n.exports=t.p+"43d97d5cc231dc2c740e411d7bb41ffb.svg"},4535:function(n,e,t){n.exports=t.p+"d0accd4a2a0f8011022c96df082f14fa.svg"},4536:function(n,e,t){n.exports=t.p+"07913f69eee3d3f77e32ddeaf4e107d7.svg"},4537:function(n,e,t){n.exports=t.p+"9528bcfd2b902fe087e066cdc6c5575d.png"},4538:function(n,e){n.exports='<div class="rtb-modal rtb-modal--full-scrollable why-upgrade-modal" no-prevent-default="true" ng-show="modal.dataLoaded">\n    <rtb-modal-close-button hm-tap="modal.cancel()"></rtb-modal-close-button>\n    <div class="rtb-modal-container">\n        <div class="rtb-modal-container__content rtb-modal-content business-plan">\n            <iframe id="bp-why-upgrade-iframe"\n                    ng-src="/business-plan/?iframe=true"\n                    scrolling="no"></iframe>\n        </div>\n    </div>\n</div>'},4539:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".rtb-modal {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.payment-modal {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row;\n      flex-direction: row;\n  margin: 40px 0px;\n}\n.payment-modal__back-icon,\n.payment-modal__close-icon {\n  position: absolute;\n  left: -88px;\n  padding: 37px 32px;\n  width: 24px;\n  height: 24px;\n  cursor: pointer;\n  opacity: 0.6;\n}\n.payment-modal__back-icon:hover,\n.payment-modal__close-icon:hover {\n  opacity: 1;\n}\n.payment-modal__close-icon {\n  left: 842px;\n}\n.payment-modal-billing-column .payment-modal-billing-column-section .section-caption {\n  font-style: normal;\n  font-stretch: normal;\n  letter-spacing: normal;\n  font-size: 16px;\n  line-height: 24px;\n  font-weight: 600;\n  line-height: 1;\n  margin-top: 36px;\n  margin-bottom: 16px;\n  display: block;\n}\n.payment-modal-billing-column .payment-modal-billing-column-section .section-caption.rtb-toggle .rtb-toggle__text {\n  font-size: 16px !important;\n}\n.payment-modal-billing-column .payment-modal-billing-column-section .billing-form__invoice-request {\n  margin-top: 8px;\n}\n.payment-modal-billing-column .rtb-modal-content__body .grid-row__column,\n.payment-modal-billing-column .rtb-modal-content__actions .grid-row__column,\n.payment-modal-billing-column .payment-modal-billing-column-promo .grid-row__column {\n  padding: 0 12px;\n}\n.payment-modal-billing-column .rtb-modal-content__body .grid-row__column:first-child,\n.payment-modal-billing-column .rtb-modal-content__actions .grid-row__column:first-child,\n.payment-modal-billing-column .payment-modal-billing-column-promo .grid-row__column:first-child {\n  padding-left: 0px;\n}\n.payment-modal-billing-column .rtb-modal-content__body .grid-row__column:last-child,\n.payment-modal-billing-column .rtb-modal-content__actions .grid-row__column:last-child,\n.payment-modal-billing-column .payment-modal-billing-column-promo .grid-row__column:last-child {\n  padding-right: 0px;\n}\n.payment-modal-billing-column .rtb-modal-content__body .grid-row__column.no-padding,\n.payment-modal-billing-column .rtb-modal-content__actions .grid-row__column.no-padding,\n.payment-modal-billing-column .payment-modal-billing-column-promo .grid-row__column.no-padding {\n  padding: 0px;\n}\n.payment-modal-billing-column {\n  width: 522px;\n  border-radius: 4px 0px 0px 4px;\n  padding: 32px 48px 60px 48px;\n}\n.payment-modal-billing-column__subheader {\n  font-style: normal;\n  font-stretch: normal;\n  letter-spacing: normal;\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: normal;\n  line-height: 1.43;\n  margin-top: 4px;\n}\n.payment-modal-billing-column-section-row {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row;\n      flex-direction: row;\n}\n.payment-modal-billing-column-section__radiobuttons :last-child {\n  margin-bottom: 0;\n}\n.payment-modal-billing-column-section__badge {\n  padding: 6px 10px;\n  border-radius: 4px;\n  background-color: rgba(66, 98, 255, 0.04);\n  color: #4262ff;\n  font-style: normal;\n  font-stretch: normal;\n  letter-spacing: normal;\n  font-size: 12px;\n  line-height: 18px;\n  font-weight: normal;\n  line-height: 1;\n}\n.payment-modal-billing-column-section__cost-info {\n  margin-left: 52px;\n  margin-bottom: 18px;\n}\n.payment-modal-billing-column-section__cost-info:last-child {\n  margin-bottom: 0;\n}\n.payment-modal-billing-column-section__team-size {\n  width: 201px;\n}\n.payment-modal-billing-column-descriptions,\n.payment-modal-info-column-footer,\n.payment-modal-billing-column-actions__text {\n  font-style: normal;\n  font-stretch: normal;\n  letter-spacing: normal;\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: normal;\n  color: rgba(5, 0, 56, 0.5);\n  line-height: 1.43;\n  letter-spacing: 0;\n}\n.payment-modal-billing-column-descriptions {\n  margin-top: 36px;\n}\n.payment-modal-billing-column-error {\n  position: relative;\n}\n.payment-modal-billing-column-error__text {\n  position: absolute;\n  top: 12px;\n  font-style: normal;\n  font-stretch: normal;\n  letter-spacing: normal;\n  font-size: 12px;\n  line-height: 18px;\n  font-weight: normal;\n  line-height: 1;\n  color: #d92929;\n}\n.payment-modal-billing-column-actions {\n  margin-top: 36px;\n}\n.payment-modal-billing-column-actions__btn {\n  width: 100%;\n}\n.payment-modal-info-column {\n  width: 320px;\n  border-left: 1px solid #c3c2cf;\n  border-radius: 0px 4px 4px 0px;\n  padding: 32px 32px 60px 32px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n}\n.payment-modal-info-column-header {\n  font-style: normal;\n  font-stretch: normal;\n  letter-spacing: normal;\n  font-size: 16px;\n  line-height: 24px;\n  font-weight: 600;\n  line-height: 1.5;\n}\n.payment-modal-info-column-feature-list {\n  margin: 16px 0px 24px 0px;\n  padding: 0px;\n}\n.payment-modal-info-column-feature-list__icon {\n  width: 16px;\n  height: 16px;\n  vertical-align: middle;\n  margin-right: 8px;\n  opacity: 0.4;\n}\n.payment-modal-info-column-feature-list__feature {\n  list-style-type: none;\n  margin-top: 12px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row;\n      flex-direction: row;\n}\n.payment-modal-info-column-payment-info {\n  padding-top: 24px;\n  border-top: 1px solid #c3c2cf;\n}\n.payment-modal-info-column-payment-info__row {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row;\n      flex-direction: row;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  margin-bottom: 12px;\n}\n.payment-modal-info-column-payment-info__row:last-child {\n  margin-bottom: 24px;\n}\n.payment-modal-billing-column-promo {\n  margin-top: 36px;\n  height: 36px;\n}\n.payment-modal-billing-column-promo .rtb-input {\n  border-right: none;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.payment-modal-billing-column-promo .rtb-btn {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.payment-modal-billing-column-promo .grid-row__column {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row;\n      flex-direction: row;\n  -ms-flex-align: center;\n      align-items: center;\n}\n",""])},4540:function(n,e,t){var a=t(4541);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4541:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".fake-stripe-card-input {\n  margin-top: 13px;\n  padding: 8px 8px 8px 16px;\n  border-radius: 4px;\n  background-color: #fff;\n  border: solid 1px rgba(0, 0, 0, 0.2);\n  transition: border-color 600ms;\n  height: 18px;\n}\n",""])},4542:function(n,e,t){var a=t(4543);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4543:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".stripe-token-card-input .stripe-token-card-input__card-invalid {\n  border-color: #fb584e;\n}\n.stripe-token-card-input .stripe-token-card-input__card-error {\n  font-size: 12px;\n  color: #fb584e;\n}\n",""])},4544:function(n,e){n.exports='<plan-change-react plan="modal.params.plan"\n                   context="modal.params.context"\n                   on-cancel="modal.onCancel"\n                   on-submit="modal.onSubmit"\n                   authorization-service="modal.AuthorizationService"\n                   is-for-trial-team="modal.params.isForTrialTeam"\n                   opened-from="modal.params.openedFrom">\n</plan-change-react>'},4545:function(n,e){n.exports='<div class="plan plan--free-horizontal plan--horizontal">\n    <div class="plan__column">\n        <div class="plan__caption">\n            <div class="plan__caption-name">Free</div>\n        </div>\n        <div class="plan__notification">\n            <span ng-bind-html="plan.getNotification()"></span>\n        </div>\n    </div>\n    <div class="plan__column">\n        <div class="plan__actions">\n            <button class="rtb-btn rtb-btn--medium rtb-btn--fluid"\n                    ng-class="{\'rtb-btn--disabled\': plan.isCurrentPlan(),\n                               \'rtb-btn--secondary-bordered\': !plan.isCurrentPlan() }"\n                    data-autotest-id="get-free-plan-button"\n                    hm-tap="plan.purchase()">\n                {{plan.actionTitle()}}\n            </button>\n        </div>\n    </div>\n</div>'},4546:function(n,e,t){var a=t(4547);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4547:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".plan.plan--horizontal.plan--free-horizontal {\n  -ms-flex-align: center;\n      align-items: center;\n}\n.plan.plan--horizontal.plan--free-horizontal .plan__column:first-child {\n  -ms-flex-positive: 1;\n      flex-grow: 1;\n}\n.plan.plan--horizontal.plan--free-horizontal .plan__column .plan__actions {\n  margin-top: 0;\n}\n",""])},4548:function(n,e,t){n.exports='<div class="plan plan--team">\n    <div class="plan__caption">\n        <div class="plan__caption-name">Team</div>\n        <div class="plan__caption-members">\n            <svg    alt="" class="icon"><use xlink:href="'+t(640)+'"></use></svg>\n            5+\n        </div>\n    </div>\n    <div class="plan__description">\n        <div class="plan__description-price">\n            <span class="grey-text">$</span>{{planModel.paymentInfo.costPerMonthInYearPlan}}\n        </div>\n        <div class="plan__description-select">\n            <rtb-select\n                    class="rtb-select--primary-flat rtb-select--small"\n                    ng-model="planModel.selectedValue"\n                    options="plan.getMembersOptions()"\n            ></rtb-select>\n        </div>\n        <div class="plan__description-text plan__description-text--team">\n            /mo billed annually<br>or ${{planModel.paymentInfo.costPerMonthInMonthPlan}} billed monthly\n        </div>\n        <span ng-if="plan.isActionVisible()" class="plan__why-upgrade hide-on-tablet rtb-link rtb-link--primary" hm-tap="plan.showWhyUpgrade()">Why upgrade?</span>\n    </div>\n    <div class="plan__actions" ng-class="{\'plan__content--hidden\': !plan.isActionVisible()}">\n        <div class="plan__actions-select">\n            <button class="rtb-btn rtb-btn--medium rtb-btn--fluid"\n                    ng-class="{\'rtb-btn--disabled\': !plan.isActionEnabled(),\n                               \'rtb-btn--primary\': plan.isActionEnabled()}"\n                    hm-tap="plan.upgrade()"\n                    ng-if="!plan.isTrialAvailable">\n                {{plan.actionTitle()}}\n            </button>\n            <button class="rtb-btn rtb-btn--medium rtb-btn--fluid rtb-btn--primary"\n                    hm-tap="plan.startTrial()"\n                    ng-if="plan.isTrialAvailable">\n                {{plan.trialButtonText}}\n            </button>\n        </div>\n    </div>\n    <div class="hr"></div>\n    <div class="plan__features">\n        <div>All Free features, plus:</div>\n        <ul class="dash-list">\n            <li class="plan__feature" ng-repeat="feature in planModel.features track by $index">\n                <span ng-bind-html="::feature.text"\n                      ng-class="{\'rtb-link rtb-link--dashed rtb-link--text\': feature.tip}"\n                      style="cursor: default"\n                      tooltip="{{::feature.tip}}"\n                      tooltip-placement="top"\n                      tooltip-append-to-body="true"\n                      tooltip-popup-delay="0"></span>\n            </li>\n        </ul>\n    </div>\n    <div class="plan__account-info">\n        <div class="plan__account-info-row">\n            <span>Current team members</span>\n            <span class="plan__account-info-counter">{{planModel.activePlan.membersCount}}</span>\n        </div>\n        <div class="plan__account-info-row">\n            <span>Current team boards</span>\n            <span class="plan__account-info-counter">{{planModel.activePlan.boardsCount}}</span>\n        </div>\n    </div>\n</div>'},4549:function(n,e,t){var a=t(4550);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4550:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".plan.plan--team .plan__account-info {\n  margin-top: 40px;\n}\n.plan.plan--team .plan__account-info-row {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  margin-top: 4px;\n}\n.plan.plan--team .plan__account-info-counter {\n  font-weight: bold;\n}\n@media (max-width: 1279px) {\n  .plan.plan--team .plan__why-upgrade {\n    display: none;\n  }\n}\n",""])},4551:function(n,e,t){n.exports='<div class="plan plan--personal">\n    <div class="plan__column">\n        <div class="plan__caption">\n            <div class="plan__caption-name">Miro Personal</div>\n            <div class="plan__caption-text grey-text"\n                 ng-if="plan.hasPersonalAccount()">You\'re currently signed up\n            </div>\n        </div>\n\n        <div class="bottom-text"><strong>Using Miro by yourself?</strong><br>\n            <span class="hide-on-tablet">Check out Miro Personal.<br></span>\n            Extra functionality for freelancers, tutors\n            and personal projects.\n        </div>\n    </div>\n    <div class="plan__column">\n        <div class="plan__features">\n            <ul class="dash-list">\n                <li>1 member</li>\n                <li>Unlimited boards</li>\n                <li>3 non-team collaborators per board</li>\n                <li>Screen sharing</li>\n                <li>Guest viewers</li>\n            </ul>\n        </div>\n    </div>\n    <div class="plan__column">\n        <div class="plan__description">\n            <div class="plan__description-price"><span class="grey-text">$</span>10</div>\n            <div class="plan__description-text hide-on-tablet">per month <br> or $96 per year</div>\n            <div class="plan__description-members">\n                <svg    alt="" class="icon"><use xlink:href="'+t(640)+'"></use></svg>\n                1\n            </div>\n        </div>\n        <div class="hide-on-desktop show-on-tablet">\n            <div class="plan__price">per month or $96 per year</div>\n        </div>\n        <div class="plan__actions">\n            <button class="rtb-btn rtb-btn--primary rtb-btn--medium rtb-btn--fluid"\n                    hm-tap="plan.getPremium()"\n                    ng-if="!plan.hasPersonalAccount()">Create personal account\n            </button>\n            <button class="rtb-btn rtb-btn--primary rtb-btn--medium rtb-btn--fluid"\n                    hm-tap="plan.openPersonalAccount()"\n                    ng-if="plan.hasPersonalAccount()">Open personal account\n            </button>\n        </div>\n    </div>\n</div>'},4552:function(n,e,t){var a=t(4553);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4553:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,"",""])},4554:function(n,e,t){n.exports='<div class="plan plan--company">\n    <div class="plan__caption">\n        <div class="plan__caption-name">Enterprise</div>\n        <div class="plan__caption-members">\n            <svg    alt="" class="icon"><use xlink:href="'+t(640)+'"></use></svg>\n            50+\n        </div>\n    </div>\n    <div class="plan__description">\n        <div><svg    alt="" class="icon"><use xlink:href="'+t(4555)+'"></use></svg></div>\n        <div class="plan__description-text">Custom pricing. <br> Please reach out for more information</div>\n    </div>\n    <div class="plan__actions">\n        <button class="rtb-btn rtb-btn--primary rtb-btn--medium rtb-btn--fluid" hm-tap="plan.requestCompanyPlan()">Request a quote</button>\n    </div>\n    <div class="hr"></div>\n    <div class="plan__features">\n        <div>All Business features, plus:</div>\n        <ul class="dash-list">\n            <li class="plan__feature" ng-repeat="feature in planModel.features track by $index">\n                <span ng-bind-html="::feature.text"\n                      ng-class="{\'rtb-link rtb-link--dashed rtb-link--text\': feature.tip}"\n                      style="cursor: default"\n                      tooltip="{{::feature.tip}}"\n                      tooltip-placement="top"\n                      tooltip-append-to-body="true"\n                      tooltip-popup-delay="0"></span>\n            </li>\n        </ul>\n    </div>\n</div>'},4555:function(n,e){n.exports="#img__ic-mail"},4556:function(n,e,t){var a=t(4557);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4557:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".plan.plan--company .plan__description .icon {\n  display: block;\n  margin: 0 auto 10px;\n  padding-top: 4px;\n  width: 48px;\n  height: 48px;\n}\n",""])},4558:function(n,e,t){n.exports='<div class="plan plan--info">\n    <div class="plan__caption">\n        <div class="plan__caption-name">\n            <span>\n                Current plan\n            </span>\n            <br/>\n            <span class="plan__caption-name-description">\n                {{plan.getCurrentPlanName()}}\n            </span>\n        </div>\n        <div class="plan__caption-members" ng-if="plan.canShowPlanLimits()">\n            <svg    alt="" class="icon"><use xlink:href="'+t(640)+'"></use></svg>\n            {{plan.getMaxMemberCount()}}\n        </div>\n    </div>\n    <div class="plan__description">\n        <div class="plan__description-price"><span class="grey-text">$</span>{{plan.price}}</div>\n        <div class="plan__description-text">{{plan.shortExpirationDateString()}}</div>\n    </div>\n    <div class="plan__external-description grey-text" ng-if="plan.canShowTrialPlanInfoMsg()">\n        You\u2019re currently on trial plan with no limits<br/>\n        on number of members and boards.\n    </div>\n    <div class="hr" ng-class="{\'hr--without_action\':!plan.canShowTrialPlanInfoMsg()}"></div>\n    <div class="plan__state">\n        <ul class="plan_info-list">\n            <li>\n                <strong>\n                    Number of boards:\n                </strong>\n                <span>\n                    {{plan.getBoardsCount()}}\n                </span>\n            </li>\n            <li>\n                <strong>\n                    Number of members:\n                </strong>\n                <span>\n                    {{plan.getMemberCount()}}\n                </span>\n            </li>\n            <li ng-if="plan.expirationDateString()">\n                <strong>\n                    Expiration date:\n                </strong>\n                <span>\n                    {{plan.expirationDateString() | date:(\'account.commons.date\' | translate)}}\n                </span>\n            </li>\n        </ul>\n    </div>\n    <div class="plan__notification" ng-if="plan.canShowFreePlanInfoMsg()">\n        After expiration date you can always downgrade to <strong>Free plan</strong> with the limits\n        of {{plan.freeTeamPaymentInfo.maxTeamSize}} members and {{plan.freeTeamPaymentInfo.maxBoards}} boards.\n    </div>\n</div>'},4559:function(n,e,t){var a=t(4560);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4560:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".plan--info.plan {\n  background-color: #145bf20a;\n  margin-right: -1px;\n  z-index: 1;\n  width: 100%;\n}\n.plan--info.plan .hr {\n  border-color: #c0d5ff;\n}\n.plan--info.plan .hr--without_action {\n  margin-top: 80px;\n}\n.plan--info.plan .plan__external-description {\n  text-align: left;\n  font-size: 12px;\n  padding-top: 6px;\n  padding-bottom: 6px;\n}\n.plan--info.plan .plan__caption-name-description {\n  font-size: 14px;\n  font-weight: normal;\n  font-style: normal;\n  font-stretch: normal;\n  margin-left: 4px;\n  position: absolute;\n}\n.plan--info.plan .plan__state ul {\n  list-style: none;\n  padding-left: 0;\n}\n.plan--info.plan .plan__state li span {\n  float: right;\n}\n.plan--info.plan .plan__notification {\n  margin-top: 84px;\n}\n",""])},4561:function(n,e,t){n.exports='<div class="plan plan--horizontal">\n    <div class="plan__column">\n        <div class="plan__caption">\n            <div class="plan__caption-name">Consultant</div>\n            <div class="plan__caption-members">\n                <svg    alt="" class="icon"><use xlink:href="'+t(640)+'"></use></svg>\n                1+\n            </div>\n        </div>\n\n        <div class="bottom-text">\n            For consultants and agencies working with client teams.\n        </div>\n    </div>\n    <div class="plan__column">\n        <div class="plan__features">\n            <ul class="dash-list">\n                <li class="plan__feature" ng-repeat="feature in planModel.features track by $index">\n                    <span ng-bind-html="::feature.text"\n                          ng-class="{\'rtb-link rtb-link--dashed rtb-link--text\': feature.tip}"\n                          style="cursor: default"\n                          tooltip="{{::feature.tip}}"\n                          tooltip-placement="top"\n                          tooltip-append-to-body="true"\n                          tooltip-popup-delay="0">\n                    </span>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class="plan__column">\n        <div class="plan__description">\n            <div class="plan__description-price"><span class="grey-text">$</span>{{planModel.paymentInfo.costPerMonthInYearPlan}}</div>\n        </div>\n        <div class="plan__description-select">\n            <rtb-select\n                    class="rtb-select--primary-flat rtb-select--small"\n                    ng-model="planModel.selectedValue"\n                    options="plan.getMembersOptions()"\n            ></rtb-select>\n        </div>\n        <div class="plan__price">/mo billed annually<br>or ${{planModel.paymentInfo.costPerMonthInMonthPlan}} billed monthly</div>\n        <div class="plan__actions" ng-class="{\'plan__content--hidden\': !plan.isActionVisible()}">\n            <button class="rtb-btn rtb-btn--medium rtb-btn--fluid"\n                    ng-class="{\'rtb-btn--disabled\': !plan.isActionEnabled(),\n                               \'rtb-btn--primary\': plan.isActionEnabled() }"\n                    data-autotest-id="get-consultant-plan-button"\n                    hm-tap="plan.purchase()">\n                {{plan.actionTitle()}}\n            </button>\n        </div>\n    </div>\n</div>\n'},4562:function(n,e,t){var a=t(4563);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4563:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,"",""])},4564:function(n,e,t){n.exports='<div class="plan plan--team">\n    <div class="plan__caption">\n        <div class="plan__caption-name">Business</div>\n        <div class="plan__caption-members">\n            <svg    alt="" class="icon"><use xlink:href="'+t(640)+'"></use></svg>\n            20+\n        </div>\n    </div>\n    <div class="plan__description">\n        <div class="plan__description-price">\n            <span class="grey-text">$</span>{{planModel.paymentInfo.costPerMonthInYearPlan}}\n        </div>\n        <div class="plan__description-select">\n            <rtb-select\n                    class="rtb-select--primary-flat rtb-select--small"\n                    ng-model="planModel.selectedValue"\n                    options="plan.getMembersOptions()"\n            ></rtb-select>\n        </div>\n        <div class="plan__description-text plan__description-text--team">\n            /mo billed annually<br>&nbsp;\n        </div>\n        <span ng-if="plan.isActionVisible()" class="plan__why-upgrade hide-on-tablet rtb-link rtb-link--primary" hm-tap="plan.showWhyUpgrade()">Why upgrade?</span>\n    </div>\n    <div class="plan__actions" ng-class="{\'plan__content--hidden\': !plan.isActionVisible()}">\n        <div class="plan__actions-select">\n            <button class="rtb-btn rtb-btn--medium rtb-btn--fluid"\n                    ng-class="{\'rtb-btn--disabled\': !plan.isActionEnabled(),\n                               \'rtb-btn--primary\': plan.isActionEnabled()}"\n                    hm-tap="plan.purchase()">\n                {{plan.actionTitle()}}\n            </button>\n        </div>\n    </div>\n    <div class="hr"></div>\n    <div class="plan__features">\n        <div>All Team features, plus:</div>\n        <ul class="dash-list">\n            <li class="plan__feature" ng-repeat="feature in planModel.features track by $index">\n                <span ng-bind-html="::feature.text"\n                      ng-class="{\'rtb-link rtb-link--dashed rtb-link--text\': feature.tip}"\n                      style="cursor: default"\n                      tooltip="{{::feature.tip}}"\n                      tooltip-placement="top"\n                      tooltip-append-to-body="true"\n                      tooltip-popup-delay="0"></span>\n            </li>\n        </ul>\n    </div>\n</div>\n'},4565:function(n,e){n.exports='<div class="plan-wrapper">\n    <div ng-if="controller.vertical" ng-switch="controller.planIdent">\n        <vertical-team-plan ng-switch-when="team" plan-model="controller.plan"></vertical-team-plan>\n        <vertical-business-plan ng-switch-when="business" plan-model="controller.plan"></vertical-business-plan>\n        <vertical-company-plan ng-switch-when="company" plan-model="controller.plan"></vertical-company-plan>\n        <vertical-info-plan ng-switch-when="info" plan-model="controller.plan"></vertical-info-plan>\n        <div ng-switch-default>unknown plan</div>\n    </div>\n    <div ng-if="!controller.vertical" ng-switch="controller.planIdent">\n        <horizontal-free2018-plan ng-switch-when="free|free2018" ng-switch-when-separator="|" plan-model="controller.plan"></horizontal-free2018-plan>\n        <horizontal-professional-plan ng-switch-when="professional" plan-model="controller.plan"></horizontal-professional-plan>\n        <horizontal-consultant-plan ng-switch-when="consultant" plan-model="controller.plan"></horizontal-consultant-plan>\n        <div ng-switch-default>unknown plan</div>\n    </div>\n</div>'},4566:function(n,e,t){var a=t(4567);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4567:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".plan-wrapper > div {\n  display: -ms-flexbox;\n  display: flex;\n  height: 100%;\n}\n",""])},4568:function(n,e,t){var a=t(4569);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4569:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".base-headed-modal.choose-plan-modal {\n  font-size: 14px;\n  line-height: 20px;\n  color: #050038;\n}\n.base-headed-modal.choose-plan-modal .plan {\n  box-sizing: border-box;\n  width: 100%;\n}\n.base-headed-modal.choose-plan-modal .plan__content--hidden {\n  visibility: hidden;\n}\n.base-headed-modal.choose-plan-modal .modal-content {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  box-sizing: border-box;\n  width: 950px;\n}\n.base-headed-modal.choose-plan-modal .choose-plan-modal__last-plan {\n  -ms-flex-order: 1;\n      order: 1;\n}\n.base-headed-modal.choose-plan-modal .md-content {\n  position: relative;\n  width: 1070px;\n}\n.base-headed-modal.choose-plan-modal .choose-plan-modal__credit-info + .rtb-modal-header .rtb-modal-header__text {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: calc(100% - 312px);\n}\n.base-headed-modal.choose-plan-modal .rtb-modal-header {\n  width: 950px;\n  height: auto;\n  min-height: 35px;\n  padding: 0;\n}\n.base-headed-modal.choose-plan-modal .credit-info {\n  position: absolute;\n  top: 36px;\n  right: 60px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: end;\n      align-items: flex-end;\n}\n.base-headed-modal.choose-plan-modal .credit-info .credit-info__icon {\n  width: 48px;\n  height: 48px;\n  margin-right: 12px;\n}\n.base-headed-modal.choose-plan-modal .credit-info .credit-info__text {\n  color: #4262ff;\n  font-weight: bold;\n  line-height: 1.29;\n}\n.base-headed-modal.choose-plan-modal .plans-horizontal-group {\n  display: -ms-flexbox;\n  display: flex;\n  margin-top: 28px;\n  width: 100%;\n  min-width: 700px;\n  -ms-flex-align: stretch;\n      align-items: stretch;\n}\n.base-headed-modal.choose-plan-modal .plans-horizontal-group .plan-wrapper {\n  box-sizing: border-box;\n  width: 33.33%;\n}\n.base-headed-modal.choose-plan-modal .plans-horizontal-group .plan-wrapper:first-child .plan {\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n}\n.base-headed-modal.choose-plan-modal .plans-horizontal-group .plan-wrapper:last-child .plan {\n  border-top-right-radius: 4px;\n  border-bottom-right-radius: 4px;\n  border-left: none;\n}\n.base-headed-modal.choose-plan-modal .plans-horizontal-group .plan-wrapper:not(:first-child) .plan {\n  border-left: none;\n}\n.base-headed-modal.choose-plan-modal .plans-horizontal-group .plan .plan__caption {\n  box-sizing: border-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row;\n      flex-direction: row;\n  -ms-flex-align: center;\n      align-items: center;\n  margin-bottom: 38px;\n}\n.base-headed-modal.choose-plan-modal .plans-horizontal-group .plan .plan__description {\n  height: 165px;\n  text-align: center;\n}\n.base-headed-modal.choose-plan-modal .plans-horizontal-group .plan .plan__description-price {\n  margin-bottom: 10px;\n  padding-top: 4px;\n}\n.base-headed-modal.choose-plan-modal .plans-horizontal-group .plan .plan__actions {\n  margin-top: 9px;\n}\n.base-headed-modal.choose-plan-modal .plans-horizontal-group .plan .plan__features .dash-list {\n  margin-top: 10px;\n}\n@media (max-width: 1024px) {\n  .base-headed-modal.choose-plan-modal .plans-horizontal-group .plan .plan__description {\n    height: 132px;\n  }\n}\n.base-headed-modal.choose-plan-modal .plan {\n  border: 1px solid #c3c2cf;\n}\n.base-headed-modal.choose-plan-modal .plan {\n  padding: 22px 28px 32px;\n}\n.base-headed-modal.choose-plan-modal .plan .plan__caption {\n  display: -ms-flexbox;\n  display: flex;\n}\n.base-headed-modal.choose-plan-modal .plan .plan__caption-name {\n  font-size: 20px;\n  font-weight: 600;\n  line-height: 1.4;\n  font-family: Formular, sans-serif;\n  font-size: 24px;\n  font-weight: 500;\n}\n.base-headed-modal.choose-plan-modal .plan .plan__caption-members,\n.base-headed-modal.choose-plan-modal .plan .plan__description-members {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  margin-left: auto;\n}\n.base-headed-modal.choose-plan-modal .plan .plan__caption-members .icon,\n.base-headed-modal.choose-plan-modal .plan .plan__description-members .icon {\n  width: 24px;\n  height: 24px;\n  margin-right: 8px;\n}\n.base-headed-modal.choose-plan-modal .plan .plan__description-price {\n  font-size: 44px;\n  font-weight: 300;\n  line-height: 44px;\n}\n.base-headed-modal.choose-plan-modal .plan .plan__description-select {\n  margin: 10px 0 0;\n}\n.base-headed-modal.choose-plan-modal .plan .plan__description-select .rtb-select .rtb-select__button {\n  height: 24px;\n}\n.base-headed-modal.choose-plan-modal .plan .plan__feature {\n  line-height: 20px;\n}\n.base-headed-modal.choose-plan-modal .plan .plan__feature + .plan__feature {\n  margin-top: 10px;\n}\n.base-headed-modal.choose-plan-modal .plan .plan__column {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  width: 260px;\n  margin-right: 56px;\n}\n.base-headed-modal.choose-plan-modal .plan .plan__column:last-child {\n  margin-right: 0;\n  box-sizing: border-box;\n}\n.base-headed-modal.choose-plan-modal .plan .plan__column .plan__caption-text {\n  padding: 7px 0;\n  font-size: 12px;\n}\n.base-headed-modal.choose-plan-modal .plan .plan__column .plan__description {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.base-headed-modal.choose-plan-modal .plan .plan__column .plan__description-text {\n  margin-left: 20px;\n}\n.base-headed-modal.choose-plan-modal .plan .plan__column .plan__actions {\n  margin-top: 20px;\n}\n@media (max-width: 1024px) {\n  .base-headed-modal.choose-plan-modal .plan .plan__column {\n    width: 200px;\n    margin-right: 48px;\n  }\n  .base-headed-modal.choose-plan-modal .plan .plan__caption-text {\n    padding: 5px 0;\n  }\n  .base-headed-modal.choose-plan-modal .plan .plan__description {\n    margin-top: 4px;\n  }\n}\n.base-headed-modal.choose-plan-modal .plan.plan--horizontal {\n  display: -ms-flexbox;\n  display: flex;\n  box-sizing: border-box;\n  margin-top: 28px;\n  padding-bottom: 22px;\n  border-radius: 4px;\n  min-width: 700px;\n}\n.base-headed-modal.choose-plan-modal .plan.plan--horizontal .plan__features {\n  margin-top: 6px;\n}\n.base-headed-modal.choose-plan-modal .plan.plan--horizontal .rtb-select__button {\n  padding-left: 0;\n}\n.base-headed-modal.choose-plan-modal .bottom-actions {\n  -ms-flex-order: 2;\n      order: 2;\n  margin-top: 32px;\n  text-align: center;\n}\n.base-headed-modal.choose-plan-modal .message-box {\n  box-sizing: border-box;\n  display: block;\n  margin: 8px 0;\n  border-left: 4px solid;\n  padding: 16px 28px 16px 24px;\n  width: 570px;\n}\n.base-headed-modal.choose-plan-modal .message-box.message-box--info {\n  border-color: #4262ff;\n  background-color: rgba(20, 91, 242, 0.04);\n}\n.base-headed-modal.choose-plan-modal .hide-on-desktop {\n  display: none !important;\n}\n@media (max-width: 1024px) {\n  .base-headed-modal.choose-plan-modal .modal-content,\n  .base-headed-modal.choose-plan-modal .rtb-modal-header {\n    width: 746px;\n  }\n  .base-headed-modal.choose-plan-modal .md-content {\n    width: 842px;\n  }\n  .base-headed-modal.choose-plan-modal .credit-info {\n    right: 48px;\n  }\n  .base-headed-modal.choose-plan-modal .plan {\n    padding: 18px 24px 40px;\n  }\n  .base-headed-modal.choose-plan-modal .dash-list {\n    padding: 0 0 0 14px;\n  }\n  .base-headed-modal.choose-plan-modal .dash-list strong {\n    display: block;\n  }\n  .base-headed-modal.choose-plan-modal .hide-on-tablet {\n    display: none !important;\n  }\n  .base-headed-modal.choose-plan-modal .show-on-tablet {\n    display: block !important;\n  }\n  .base-headed-modal.choose-plan-modal .plan .plan__caption-members .icon,\n  .base-headed-modal.choose-plan-modal .plan .plan__description-members .icon {\n    width: 16px;\n    height: 16px;\n    margin-right: 4px;\n  }\n}\n@media (max-width: 768px) {\n  .base-headed-modal.choose-plan-modal .credit-info {\n    right: 9px;\n  }\n}\n.base-headed-modal.choose-plan-modal .plan__column.plan--premium:first-child {\n  -ms-flex-positive: 1;\n      flex-grow: 1;\n}\n.base-headed-modal.choose-plan-modal .plan__column.plan--premium:last-child {\n  -ms-flex-pack: center;\n      justify-content: center;\n}\n.base-headed-modal.choose-plan-modal .plan__column.plan--premium .plan__actions.plan--premium {\n  margin-top: 0;\n}\n.base-headed-modal.choose-plan-modal .plan__caption.plan--premium {\n  -ms-flex-align: center;\n      align-items: center;\n}\n.base-headed-modal.choose-plan-modal .plan__legacy {\n  margin-left: 12px;\n}\n",""])},4570:function(n,e,t){n.exports='<rtb-modal-old class="base-headed-modal choose-plan-and-billing choose-plan-modal" no-prevent-default="true">\n    <div class="choose-plan-modal__credit-info credit-info" ng-if="modal.canShowCreditsInfo()">\n        <svg    class="credit-info__icon"><use xlink:href="'+t(4571)+'"></use></svg>\n        <span class="credit-info__text" ng-bind-html="modal.getCreditsInfo()"></span>\n    </div>\n    <rtb-modal-header color="white"\n                      text="{{modal.params.plans.getModalTitle()}}"\n                      on-close="modal.onCancel()"></rtb-modal-header>\n    <div class="modal-content">\n        <plan-chooser ng-if="modal.getFreePlan()" ng-class="{\'choose-plan-modal__last-plan\': modal.isFreePlanTheLastOne()}" type="\'horizontal\'" plan="modal.getFreePlan()"></plan-chooser>\n        <div ng-if="modal.isPremiumAccount()" class="plan plan--horizontal">\n            <div class="plan__column plan--premium">\n                <div class="plan__caption plan--premium">\n                    <div class="plan__caption-name">Premium</div>\n                    <rtb-user-badge class="plan__legacy"\n                                           text="\'legacy plan\'"\n                                           tooltip="{{modal.premiumPlanLegacyTooltip}}"\n                                           tooltip-placement="top"\n                                           tooltip-popup-delay="0">\n                    </rtb-user-badge>\n                </div>\n                <div class="plan__description">\n                    <span>There are <b class="break-word">{{modal.activePlan.account.usersNumber}} {{modal.activePlan.account.usersNumber === 1 ? \'user\' : \'users\'}}</b> in your current account.<br>\n                        The account owns <b class="break-word">{{modal.activePlan.account.boardsNumber}} {{modal.activePlan.account.boardsNumber === 1 ? \'board\' : \'boards\'}}</b>.\n                    </span>\n                </div>\n            </div>\n            <div class="plan__column plan--premium">\n                <div class="plan__actions plan--premium">\n                    <button class="rtb-btn rtb-btn--medium rtb-btn--fluid rtb-btn--disabled">\n                        {{modal.activePlan.account.expired ? \'Expired\' : \'Current plan\'}}\n                    </button>\n                </div>\n            </div>\n        </div>\n        <div class="plans-horizontal-group">\n            <plan-chooser type="\'vertical\'" ng-repeat="plan in modal.getPlans()" plan="plan"></plan-chooser>\n        </div>\n        <div class="message-box message-box--info" ng-if="modal.canShowMessageBox()">\n            <strong>We have prepared an email template with all available plans and options.</strong>\n            <div>Share it with your team and make a decision together.\n                <div class="rtb-link rtb-link--primary" hm-tap="modal.openEmailTemplate()">Open the template.</div>\n            </div>\n        </div>\n        <plan-chooser ng-if="modal.isHorizontalPlanVisible()" type="\'horizontal\'" plan="modal.getHorizontalPlan()"></plan-chooser>\n        <div class="bottom-actions">\n            <a class="rtb-link rtb-link--primary" href="/pricing/" target="_blank" hm-tap="modal.seeFullMatrixClicked()">See full feature matrix</a>\n        </div>\n    </div>\n</rtb-modal-old>'},4571:function(n,e){n.exports="#img__present"},4572:function(n,e,t){var a=t(4573);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4573:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".base-account-expired-modal {\n  font-size: 14px;\n}\n.base-account-expired-modal .md-content {\n  padding: 41px 50px 16px 50px;\n  width: 600px;\n}\n.base-account-expired-modal .account-expired--header {\n  margin-bottom: 47px;\n}\n.base-account-expired-modal .account-expired--header .icon {\n  float: left;\n  margin-right: 20px;\n}\n.base-account-expired-modal .account-expired--header .account-expired--header--caption {\n  color: #cc6666;\n}\n.base-account-expired-modal .account-expired--header::after {\n  content: '';\n  display: block;\n  clear: both;\n}\n.base-account-expired-modal .account-expired--title {\n  font-size: 20px;\n  font-weight: bold;\n  color: #353d4b;\n}\n.base-account-expired-modal .account-expired--description {\n  margin-top: 10px;\n  color: #4a4a4a;\n}\n.base-account-expired-modal .account-expired--description a {\n  color: inherit;\n  text-decoration: underline;\n}\n.base-account-expired-modal .account-expired--table {\n  margin-top: 20px;\n  display: -ms-flexbox;\n  display: flex;\n  position: relative;\n}\n.base-account-expired-modal .account-expired--choice {\n  box-sizing: border-box;\n  width: 250px;\n  padding: 19px 19px 88px 19px;\n  border-radius: 6px;\n}\n.base-account-expired-modal .account-expired--choice .choice--account-name {\n  font-size: 20px;\n  font-weight: bold;\n}\n.base-account-expired-modal .account-expired--choice .choice--features {\n  margin-top: 10px;\n  font-weight: 600;\n}\n.base-account-expired-modal .account-expired--choice .choice--features--item {\n  margin-bottom: 8px;\n}\n.base-account-expired-modal .account-expired--choice .choice--features--item::before {\n  content: '\\2022';\n  display: inline-block;\n  margin-right: 5px;\n}\n.base-account-expired-modal .account-expired--choice a {\n  color: #827f9b;\n  text-decoration: underline;\n}\n.base-account-expired-modal .account-expired--choice .choice--note {\n  font-size: 12px;\n  color: #827f9b;\n  margin-top: 12px;\n}\n.base-account-expired-modal .account-expired--choice .choice--big-note {\n  margin-top: 37px;\n}\n.base-account-expired-modal .account-expired--choice .choice--button {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-align: center;\n      align-items: center;\n  box-sizing: border-box;\n  position: absolute;\n  bottom: 20px;\n  height: 40px;\n  line-height: 40px;\n  border-radius: 2px;\n  padding: 0 20px;\n  transition: all 0.15s cubic-bezier(0.2, 0.3, 0.25, 0.9);\n}\n.base-account-expired-modal .account-expired--choice__grey {\n  border: solid 1px #c3c2cf;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.base-account-expired-modal .account-expired--choice__grey .choice--account-name {\n  color: #827f9b;\n}\n.base-account-expired-modal .account-expired--choice__grey .choice--button {\n  border: solid 1px #c3c2cf;\n  color: #827f9b;\n}\n.base-account-expired-modal .account-expired--choice__grey .choice--button:hover {\n  border: solid 1px #adabbd;\n  color: #6d6a87;\n}\n.base-account-expired-modal .account-expired--choice__green {\n  margin-left: -1px;\n  border: solid 1px #71c270;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.base-account-expired-modal .account-expired--choice__green .choice--account-name {\n  color: #71c270;\n}\n.base-account-expired-modal .account-expired--choice__green .choice--button {\n  background-color: #71c270;\n  color: #fff;\n}\n.base-account-expired-modal .account-expired--choice__green .choice--button:hover {\n  background-color: #55b653;\n}\n.base-account-expired-modal .account-expired--choice__green .choice__advice {\n  position: absolute;\n  bottom: 22px;\n  color: #71c270;\n}\n.base-account-expired-modal .account-expired--later {\n  text-align: center;\n  margin-top: 13px;\n}\n.base-account-expired-modal .account-expired--later span {\n  color: #827f9b;\n  display: inline-block;\n  padding: 10px;\n}\n.base-account-expired-modal .account-expired--later span:hover {\n  color: #6d6a87;\n}\n",""])},4574:function(n,e){n.exports='<div class="md-container base-account-expired-modal">\n    <div class="md-content">\n        <div class="account-expired--header" ng-show="modal.config.header">\n            <icon icon-name="\'application--red-clock\'"></icon>\n            <div class="account-expired--header--caption" ng-bind-html="modal.config.header"></div>\n        </div>\n        <div class="account-expired--title" ng-bind="modal.config.title"></div>\n        <div class="account-expired--description" ng-show="modal.config.description" ng-bind-html="modal.config.description"></div>\n        <div class="account-expired--table">\n            <div class="account-expired--choice account-expired--choice__grey">\n                <div class="choice--account-name"\n                     ng-show="modal.config.downgradeChoice.caption"\n                     ng-bind="modal.config.downgradeChoice.caption"></div>\n                <div class="choice--features">\n                    <div class="choice--features--item"\n                         ng-repeat="feature in ::modal.config.downgradeChoice.features"\n                         ng-bind="feature"></div>\n                </div>\n                <div class="choice--note"\n                     ng-show="modal.config.downgradeChoice.note"\n                     ng-bind-html="modal.config.downgradeChoice.note"></div>\n                <div class="choice--big-note"\n                     ng-show="modal.config.downgradeChoice.bigNote"\n                     ng-bind-html="modal.config.downgradeChoice.bigNote"></div>\n                <div class="btn choice--button"\n                     ng-bind="modal.config.downgradeChoice.buttonCaption"\n                     hm-tap="modal.config.downgradeChoice.clickHandler()"></div>\n            </div>\n            <div class="account-expired--choice account-expired--choice__green">\n                <div class="choice--account-name" ng-bind="modal.config.upgradeChoice.caption"></div>\n                <div class="choice--features">\n                    <div class="choice--features--item"\n                         ng-repeat="feature in ::modal.config.upgradeChoice.features"\n                         ng-bind="feature"></div>\n                </div>\n                <div class="btn choice--button"\n                     ng-bind="modal.config.upgradeChoice.buttonCaption"\n                     hm-tap="modal.config.upgradeChoice.clickHandler()"\n                     ng-show="modal.config.upgradeChoice.buttonCaption"></div>\n                <div class="choice__advice"\n                     ng-bind="modal.config.upgradeChoice.upgradeAdvice"\n                     ng-show="modal.config.upgradeChoice.upgradeAdvice"></div>\n            </div>\n        </div>\n        <div class="account-expired--later"\n             ng-show="modal.config.canChooseLater">\n            <span class="btn" hm-tap="modal.chooseLater()">Choose later</span>\n        </div>\n    </div>\n</div>\n'},4575:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".md-container.modal-subscription-success {\n  font-size: 16px;\n}\n.md-container.modal-subscription-success .md-content__content {\n  min-height: 100px;\n  position: relative;\n}\n.md-container.modal-subscription-success .md-content__content-icon,\n.md-container.modal-subscription-success .md-content__content-wrapper {\n  float: left;\n  display: inline-block;\n}\n.md-container.modal-subscription-success .md-content__content-wrapper {\n  width: 350px;\n  margin-left: 40px;\n}\n.md-container.modal-subscription-success .md-content__content-caption {\n  color: #7cc576;\n  font-weight: bold;\n  line-height: 22px;\n  margin-bottom: 10px;\n}\n.md-container.modal-subscription-success .md-content__content-description {\n  line-height: 20px;\n}\n.md-container.modal-subscription-success .md-content__content a {\n  display: inline;\n  text-decoration: underline;\n}\n.md-container.modal-subscription-success .md-content__content .submit-controls .ui-button {\n  width: 100px;\n  line-height: 40px;\n}\n",""])},4576:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".md-container.modal-subscription-upgrade {\n  font-size: 16px;\n}\n.md-container.modal-subscription-upgrade .md-content {\n  min-height: 300px;\n}\n.md-container.modal-subscription-upgrade .md-content__content-seats {\n  color: #f5a623;\n  margin: 7px 0 12px;\n  border-bottom: 1px solid #c3c2cf;\n  padding-bottom: 26px;\n}\n.md-container.modal-subscription-upgrade .md-content__content-seats-icon,\n.md-container.modal-subscription-upgrade .md-content__content-seats-text {\n  float: left;\n  display: inline-block;\n}\n.md-container.modal-subscription-upgrade .md-content__content-seats-text {\n  margin: -5px 0 0 17px;\n  line-height: 20px;\n}\n.md-container.modal-subscription-upgrade .md-content__content-seats-icon .icon {\n  width: 22px;\n  height: 19px;\n}\n.md-container.modal-subscription-upgrade .md-content__content-header {\n  position: relative;\n  border-bottom: 1px solid #c3c2cf;\n}\n.md-container.modal-subscription-upgrade .md-content__content-header-stripe {\n  right: 0;\n  bottom: 20px;\n  position: absolute;\n}\n.md-container.modal-subscription-upgrade .md-content__content-main {\n  margin-top: 32px;\n}\n.md-container.modal-subscription-upgrade .md-content__content-account,\n.md-container.modal-subscription-upgrade .md-content__content-card {\n  line-height: 22px;\n}\n.md-container.modal-subscription-upgrade .md-content__content-account span:first-child,\n.md-container.modal-subscription-upgrade .md-content__content-card span:first-child {\n  color: #827f9b;\n}\n.md-container.modal-subscription-upgrade .md-content__content-account span {\n  float: left;\n  display: inline-block;\n}\n.md-container.modal-subscription-upgrade .md-content__content-account span:last-child {\n  white-space: nowrap;\n  max-width: 320px;\n  text-overflow: ellipsis;\n  overflow-x: hidden;\n  margin-left: 6px;\n}\n.md-container.modal-subscription-upgrade .md-content__content-card {\n  margin: 7px 0 15px;\n}\n.md-container.modal-subscription-upgrade .md-content__content-card span.link {\n  text-decoration: none;\n}\n.md-container.modal-subscription-upgrade .md-content__content-current-caption,\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-caption {\n  line-height: 22px;\n  font-weight: bold;\n}\n.md-container.modal-subscription-upgrade .md-content__content-current-period,\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-period,\n.md-container.modal-subscription-upgrade .md-content__content-current-price,\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-price {\n  line-height: 20px;\n}\n.md-container.modal-subscription-upgrade .md-content__content-current {\n  float: left;\n  width: 200px;\n}\n.md-container.modal-subscription-upgrade .md-content__content-upgrade {\n  float: right;\n  width: 242px;\n}\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-coupon {\n  margin-top: 16px;\n  position: relative;\n}\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-coupon-caption,\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-coupon-apply,\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-coupon-result {\n  line-height: 17px;\n  font-size: 12px;\n}\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-coupon-caption {\n  text-decoration: none;\n  border-bottom: 1px dashed;\n}\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-coupon-main {\n  margin: 5px 0 15px;\n}\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-coupon .ui-input,\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-coupon-apply {\n  float: left;\n  display: inline-block;\n}\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-coupon-apply {\n  margin: 6px 0 0 10px;\n  text-decoration: none;\n}\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-coupon-result {\n  color: #827f9b;\n}\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-coupon .ui-loader {\n  bottom: 0;\n  left: 160px;\n  top: inherit;\n}\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-upcoming {\n  font-size: 12px;\n  margin: 20px 0 -22px 0;\n}\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-upcoming-amount {\n  font-size: 24px;\n  font-weight: bold;\n}\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-confirm {\n  position: relative;\n}\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-confirm .ui-loader {\n  top: 40px;\n  left: 140px;\n}\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-description,\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-learn {\n  font-size: 12px;\n  line-height: 16px;\n}\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-description,\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-learn,\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-description a,\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-learn a {\n  color: #827f9b;\n}\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-description {\n  margin-top: 15px;\n}\n.md-container.modal-subscription-upgrade .md-content__content-upgrade-learn a:hover {\n  color: #686582;\n}\n",""])},4577:function(n,e){n.exports='<rtb-modal class="rtb-modal rtb-modal--center rtb-modal--without-shadow">\n    <div class="rtb-modal-loader">\n        <material-spinner class="rtb-material-spinner--white"></material-spinner>\n    </div>\n</rtb-modal>'},4578:function(n,e){n.exports='<rtb-modal class="rtb-modal--center rtb-modal--medium board-cannot-be-create-modal">\n    <rtb-modal-close-button hm-tap="modal.cancel()"></rtb-modal-close-button>\n    <div class="rtb-modal-container__content rtb-modal-content">\n        <div class="rtb-modal-content__header rtb-modal-header"\n             ng-bind="modal.params[modal.params.key].head | translate">\n        </div>\n        <div class="rtb-modal-content__body rtb-modal-body">\n            <div ng-bind-html="modal.params[modal.params.key].content | translate"></div>\n        </div>\n        <div class="rtb-modal-content__actions rtb-modal-actions">\n            <button class="rtb-btn rtb-btn--primary rtb-btn--medium"\n                    ng-bind="modal.params[modal.params.key].button | translate"\n                    hm-tap="modal.submit()"></button>\n            <button class="rtb-btn rtb-btn--secondary rtb-btn--medium"\n                    hm-tap="modal.cancel()">Cancel</button>\n        </div>\n    </div>\n</rtb-modal>'},4579:function(n,e,t){var a=t(4580);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4580:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".md-container.education-users-limit-reached .md-content__content-seats {\n  color: #f5a623;\n  margin: 7px 0 12px;\n  padding-bottom: 26px;\n}\n.md-container.education-users-limit-reached .md-content__content-seats-icon,\n.md-container.education-users-limit-reached .md-content__content-seats-text {\n  float: left;\n  display: inline-block;\n}\n.md-container.education-users-limit-reached .md-content__content-seats-icon {\n  width: 22px;\n  height: 19px;\n}\n.md-container.education-users-limit-reached .md-content__content-seats-text {\n  margin: 0 0 0 17px;\n  line-height: 20px;\n}\n.md-container.education-users-limit-reached .md-content__content-text {\n  margin: 20px 0 20px 39px;\n}\n.md-container.education-users-limit-reached .md-content__content-seats-icon .icon {\n  width: 22px;\n  height: 19px;\n}\n.md-container.education-users-limit-reached a {\n  display: inline;\n}\n",""])},4581:function(n,e,t){n.exports='<rtb-modal-old class="education-users-limit-reached">\n    <div class="md-content__head-wrapper">\n        <div class="md-content__head-text">{{\'account.commons.modal.accounts.educationUsersLimitReached.caption\' | translate}}</div>\n        <div class="md-content__head-close" hm-tap="modal.cancel()">\n            <svg  class="icon block"  ><use xlink:href="'+t(4582)+'"></use></svg>\n        </div>\n    </div>\n\n    <div class="md-content__content">\n        <div class="md-content__content-seats clear-float">\n            <div class="md-content__content-seats-icon">\n                <svg  class="icon"  ><use xlink:href="'+t(2168)+'"></use></svg>\n            </div>\n            <div class="md-content__content-seats-text"\n                 ng-bind-html="\'account.commons.modal.accounts.educationUsersLimitReached.warning\' | translate:{count: modal.params.emptySeatsCount}:\'messageformat\'"></div>\n        </div>\n        <div class="md-content__content-text"\n             ng-bind-html="\'account.commons.modal.accounts.educationUsersLimitReached.text\' | translate">\n        </div>\n    </div>\n</rtb-modal-old>'},4582:function(n,e){n.exports="#img__modal-close"},4583:function(n,e,t){var a=t(4584);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4584:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".invite-editors-to-board-and-team .modal-content__emails-wrapper {\n  margin-top: 22px;\n  margin-right: -68px;\n}\n.invite-editors-to-board-and-team .modal-content__emails-wrapper .scrollable-list {\n  max-height: calc(100vh - 510px);\n}\n.invite-editors-to-board-and-team .modal-content__emails-wrapper .scrollable--scroll-not-at-start,\n.invite-editors-to-board-and-team .modal-content__emails-wrapper .scrollable--scroll-not-at-end {\n  width: calc(100% - 68px);\n}\n.invite-editors-to-board-and-team .modal-content__emails {\n  padding-right: 68px;\n}\n.invite-editors-to-board-and-team .modal-content__emails .brick-blue {\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n}\n.invite-editors-to-board-and-team .brick-blue {\n  box-sizing: border-box;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  margin-bottom: 3px;\n  height: 24px;\n  line-height: 24px;\n  background-color: rgba(102, 152, 255, 0.2);\n  border-radius: 12px;\n  font-size: 14px;\n  margin: 0 8px 10px 0;\n  padding: 0 12px;\n  height: 26px;\n  line-height: 26px;\n}\n.invite-editors-to-board-and-team .brick-blue .brick-blue__close {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  margin-left: 8px;\n  cursor: pointer;\n}\n.invite-editors-to-board-and-team .brick-blue .brick-blue__close .icon {\n  width: 14.3px;\n  height: 14.3px;\n}\n.invite-editors-to-board-and-team .brick-blue .brick-blue__close.disabled {\n  pointer-events: none;\n  opacity: 0.2;\n}\n.invite-editors-to-board-and-team p {\n  margin: 0;\n}\n.invite-editors-to-board-and-team .rtb-modal-footer p {\n  margin-top: 2px;\n}\n",""])},4585:function(n,e,t){n.exports='<div class="rtb-modal rtb-modal--center rtb-modal--medium invite-editors-to-board-and-team">\n    <div class="rtb-modal-container" ng-if="!modal.loading">\n        <rtb-modal-close-button hm-tap="modal.cancel()"></rtb-modal-close-button>\n        <div class="rtb-modal-container__content rtb-modal-content">\n            <div class="rtb-modal-content__header rtb-modal-header">\n                <div class="rtb-modal-header__title rtb-modal-title">\n                    <div class="rtb-modal-title__text" ng-bind-html="modal.config.title"></div>\n                </div>\n            </div>\n            <div class="rtb-modal-content__body rtb-modal-body">\n                <p ng-bind-html="modal.config.text"></p>\n                <div class="modal-content__emails-wrapper">\n                    <scrollable>\n                        <div class="modal-content__emails">\n                            <div class="brick-blue" ng-repeat="email in modal.params.emails track by $index" ng-class="">{{ email }}\n                                <span class="brick-blue__close"\n                                      ng-class="{\'disabled\': modal.loadingPaymentInfoData}"\n                                      hm-tap="modal.removeEmail(email)">\n                                    <svg    class="icon"><use xlink:href="'+t(118)+'"></use></svg></span>\n                            </div>\n                        </div>\n                    </scrollable>\n                </div>\n            </div>\n            <div class="rtb-modal-content__actions rtb-modal-actions">\n                <button class="rtb-btn rtb-btn--primary rtb-btn--medium"\n                        ng-class="{\'rtb-btn--loading\': modal.loadingPaymentInfoData}"\n                        hm-tap="modal.config.onMainActionClick()"\n                        ng-bind="modal.config.mainActionText"\n                        ng-disabled="modal.config.mainActionDisabled()">\n                </button>\n                <button class="rtb-btn {{modal.config.externalActionClass}} rtb-btn--medium"\n                        hm-tap="modal.config.onExternalActionClick()"\n                        ng-bind="modal.config.externalActionText">\n                </button>\n            </div>\n            <div class="rtb-modal-content__footer rtb-modal-footer" ng-show="modal.messageVisible">\n                <div class="hr"></div>\n                <div class="rtb-modal-caption rtb-modal-caption--small">\n                    <svg  class="icon rtb-icon--primary"  ><use xlink:href="'+t(157)+'"></use></svg>\n                    {{modal.config.message.caption}}\n                </div>\n                <p ng-bind-html="modal.config.message.text"></p>\n            </div>\n        </div>\n    </div>\n    <material-spinner ng-show="modal.loading"></material-spinner>\n</div>'},4586:function(n,e,t){n.exports=t.p+"c00ce9da735f99dbb6a14dd50466720c.svg"},4587:function(n,e,t){n.exports=t.p+"d545b728a360b6a0594419b93f3f3482.svg"},4588:function(n,e,t){n.exports=t.p+"15550fd8b91a7350c70a714a5d69e129.svg"},4589:function(n,e,t){n.exports=t.p+"f13f7b72fe776f9d70615547e2130416.svg"},4590:function(n,e,t){var a=t(4591);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4591:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".rtb-modal.complex-trigger-modal .rtb-modal-content {\n  width: 520px;\n  padding-right: 56px;\n  padding-left: 56px;\n  padding-bottom: 52px;\n}\n.rtb-modal.complex-trigger-modal .rtb-btn {\n  margin: 24px 0 8px;\n}\n.rtb-modal.complex-trigger-modal .rtb-modal-header {\n  max-width: 500px;\n}\n.rtb-modal.complex-trigger-modal .complex-trigger-modal__primary-features {\n  margin: 28px 0 24px;\n  padding: 0;\n  border-bottom: solid 1px #e0e0e0;\n  list-style-type: none;\n}\n.rtb-modal.complex-trigger-modal .complex-trigger-modal__primary-feature {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: start;\n      align-items: flex-start;\n  margin-bottom: 28px;\n}\n.rtb-modal.complex-trigger-modal .complex-trigger-modal__primary-feature-image {\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  width: 64px;\n  margin-right: 27px;\n}\n.rtb-modal.complex-trigger-modal .complex-trigger-modal__primary-feature-text {\n  line-height: 1.43;\n}\n.rtb-modal.complex-trigger-modal .complex-trigger-modal__heading {\n  margin: 0;\n  font-weight: bold;\n  line-height: 1.43;\n}\n.rtb-modal.complex-trigger-modal .complex-trigger-modal__primary-feature-description {\n  margin: 2px 0 0;\n}\n.rtb-modal.complex-trigger-modal .complex-trigger-modal__secondary-features {\n  margin: 12px 0 0;\n  padding: 0;\n  column-count: 2;\n  list-style-type: none;\n}\n.rtb-modal.complex-trigger-modal .complex-trigger-modal__secondary-features.complex-trigger-modal__secondary-features--landscape {\n  display: none;\n}\n.rtb-modal.complex-trigger-modal .complex-trigger-modal__secondary-features.complex-trigger-modal__secondary-features__one-column {\n  column-count: 1;\n}\n.rtb-modal.complex-trigger-modal .complex-trigger-modal__secondary-feature {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  height: 19px;\n  margin-bottom: 8px;\n}\n@media screen and (max-width: 839px), screen and (orientation: portrait) {\n  .rtb-modal.complex-trigger-modal .complex-trigger-modal__secondary-feature:nth-child(2n + 1) {\n    width: 200px;\n    margin-right: 20px;\n  }\n  .rtb-modal.complex-trigger-modal .complex-trigger-modal__secondary-feature:nth-child(2n) {\n    -ms-flex-positive: 1;\n        flex-grow: 1;\n  }\n}\n.rtb-modal.complex-trigger-modal .complex-trigger-modal__secondary-feature svg {\n  width: 16px;\n  height: 16px;\n  margin: 1px 8px 0 0;\n  color: #5b00ff;\n}\n.rtb-modal.complex-trigger-modal .complex-trigger-modal__credits-info {\n  margin: 0;\n  height: 16px;\n  text-align: center;\n}\n@media screen and (min-width: 840px) and (orientation: landscape) {\n  .rtb-modal.complex-trigger-modal.complex-trigger-modal--allow-landscape .rtb-modal-header {\n    font-size: 28px;\n    line-height: 1.29;\n  }\n  .rtb-modal.complex-trigger-modal.complex-trigger-modal--allow-landscape .rtb-modal-content {\n    width: 820px;\n    padding: 52px 80px 60px 60px;\n  }\n  .rtb-modal.complex-trigger-modal.complex-trigger-modal--allow-landscape .rtb-btn--primary {\n    margin: 0 0 12px;\n  }\n  .rtb-modal.complex-trigger-modal.complex-trigger-modal--allow-landscape .complex-trigger-modal__primary-features {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-wrap: wrap;\n        flex-wrap: wrap;\n    margin-top: 40px;\n    padding-bottom: 8px;\n  }\n  .rtb-modal.complex-trigger-modal.complex-trigger-modal--allow-landscape .complex-trigger-modal__primary-feature {\n    display: -ms-inline-flexbox;\n    display: inline-flex;\n    margin-bottom: 32px;\n  }\n  .rtb-modal.complex-trigger-modal.complex-trigger-modal--allow-landscape .complex-trigger-modal__primary-feature:nth-child(2n + 1) {\n    width: 328px;\n    margin-right: 36px;\n  }\n  .rtb-modal.complex-trigger-modal.complex-trigger-modal--allow-landscape .complex-trigger-modal__primary-feature:nth-child(2n) {\n    -ms-flex: 1 0;\n        flex: 1 0;\n  }\n  .rtb-modal.complex-trigger-modal.complex-trigger-modal--allow-landscape .complex-trigger-modal__bottom {\n    display: -ms-flexbox;\n    display: flex;\n    margin-top: 32px;\n  }\n  .rtb-modal.complex-trigger-modal.complex-trigger-modal--allow-landscape .complex-trigger-modal__bottom-left-column {\n    width: 328px;\n    margin-right: 36px;\n  }\n  .rtb-modal.complex-trigger-modal.complex-trigger-modal--allow-landscape .complex-trigger-modal__bottom-right-column {\n    -ms-flex-positive: 1;\n        flex-grow: 1;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-direction: column;\n        flex-direction: column;\n    -ms-flex-pack: end;\n        justify-content: flex-end;\n  }\n  .rtb-modal.complex-trigger-modal.complex-trigger-modal--allow-landscape .complex-trigger-modal__secondary-features {\n    column-count: 1;\n  }\n  .rtb-modal.complex-trigger-modal.complex-trigger-modal--allow-landscape .complex-trigger-modal__secondary-features.complex-trigger-modal__secondary-features--landscape {\n    display: block;\n  }\n  .rtb-modal.complex-trigger-modal.complex-trigger-modal--allow-landscape .complex-trigger-modal__secondary-features.complex-trigger-modal__secondary-features--portrait {\n    display: none;\n  }\n  .rtb-modal.complex-trigger-modal.complex-trigger-modal--allow-landscape .complex-trigger-modal__secondary-feature {\n    height: 20px;\n  }\n  .rtb-modal.complex-trigger-modal.complex-trigger-modal--allow-landscape .complex-trigger-modal__secondary-feature:last-child {\n    margin-bottom: 0;\n  }\n  .rtb-modal.complex-trigger-modal.complex-trigger-modal--allow-landscape .complex-trigger-modal__credits-info {\n    margin-top: auto;\n    line-height: 12px;\n  }\n}\n",""])},4592:function(n,e,t){n.exports='<rtb-modal class="rtb-modal--center complex-trigger-modal" ng-class="{\'complex-trigger-modal--allow-landscape\': !!modal.params.allowLandscape}">\n    <rtb-modal-close-button hm-tap="modal.close()" ng-show="!modal.params.loading" ng-disabled="modal.submitted"></rtb-modal-close-button>\n    <div class="rtb-modal-container__content rtb-modal-content ng-hide" ng-show="!modal.loading">\n        <div class="rtb-modal-content__header rtb-modal-header rtb-modal-header--bold" ng-bind-html="modal.title"></div>\n        <ul class="complex-trigger-modal__primary-features">\n            <li class="complex-trigger-modal__primary-feature" ng-repeat="feature in modal.config.primaryFeatures">\n                <img class="complex-trigger-modal__primary-feature-image" ng-src="{{feature.image}}">\n                <div class="complex-trigger-modal__primary-feature-text">\n                    <p class="complex-trigger-modal__heading">{{feature.title}}</p>\n                    <p class="complex-trigger-modal__primary-feature-description">{{feature.description}}</p>\n                </div>\n            </li>\n        </ul>\n\n        <div class="complex-trigger-modal__bottom">\n            <div class="complex-trigger-modal__bottom-left-column">\n                <p class="complex-trigger-modal__heading">{{modal.config.secondaryFeatures.heading}}:</p>\n                <ul class="complex-trigger-modal__secondary-features complex-trigger-modal__secondary-features--portrait"\n                    ng-class="{\'complex-trigger-modal__secondary-features__one-column\': modal.isCompanyPlan}">\n                    <li class="complex-trigger-modal__secondary-feature" ng-repeat="featureText in modal.config.secondaryFeatures.portrait">\n                        <svg   ><use xlink:href="'+t(537)+'"></use></svg>\n                        <span ng-bind-html="featureText"></span>\n                    </li>\n                </ul>\n                <ul class="complex-trigger-modal__secondary-features complex-trigger-modal__secondary-features--landscape">\n                    <li class="complex-trigger-modal__secondary-feature" ng-repeat="featureText in modal.config.secondaryFeatures.landscape">\n                        <svg   ><use xlink:href="'+t(537)+'"></use></svg>\n                        <span ng-bind-html="featureText"></span>\n                    </li>\n                </ul>\n            </div>\n            <div class="complex-trigger-modal__bottom-right-column">\n                <button class="rtb-btn rtb-btn--large rtb-btn--primary"\n                        ng-class="{\'rtb-btn--fluid\': !modal.isCancelButtonVisible, \'rtb-btn--loading\': modal.submitted}"\n                        hm-tap="modal.submit()">\n                    {{modal.config.submitButtonText}}\n                </button>\n                <button class="rtb-btn rtb-btn--large rtb-btn--secondary"\n                        ng-if="modal.isCancelButtonVisible"\n                        hm-tap="modal.close()"\n                        ng-disabled="modal.submitted">\n                    {{modal.config.cancelButtonText}}\n                </button>\n\n                <p class="complex-trigger-modal__credits-info" ng-if="modal.isCreditsInfoVisible" ng-bind-html="modal.creditsInfoText"></p>\n            </div>\n        </div>\n    </div>\n</rtb-modal>'},4593:function(n,e,t){var a=t(4594);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4594:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".board-is-private-actions--new-order {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row;\n      flex-direction: row;\n  -ms-flex-pack: end;\n      justify-content: flex-end;\n}\n",""])},4595:function(n,e){n.exports='<common-upgrade-window-modal config="modal.config"\n                             class="shop-window-modal"\n                             on-close="modal.close()"\n                             loading="modal.loading">\n    <div ng-if="!modal.isNewButtonsOrder">\n        <button class="rtb-btn rtb-btn--primary rtb-btn--medium"\n                ng-if="!!modal.config.mainActionText"\n                hm-tap="modal.config.onMainActionClick()"\n                ng-bind="modal.config.mainActionText">\n        </button>\n        <button class="rtb-btn rtb-btn--primary-bordered rtb-btn--medium"\n                ng-if="modal.hasExternalAction"\n                hm-tap="modal.config.onExternalActionClick()"\n                ng-bind="modal.config.externalActionText">\n        </button>\n    </div>\n    <div ng-if="modal.isNewButtonsOrder" class="board-is-private-actions--new-order">\n        <button class="rtb-btn rtb-btn--primary-bordered rtb-btn--medium"\n                ng-if="modal.hasExternalAction"\n                hm-tap="modal.config.onExternalActionClick()"\n                ng-bind="modal.config.externalActionText">\n        </button>\n        <button class="rtb-btn rtb-btn--primary rtb-btn--medium"\n                ng-if="!!modal.config.mainActionText"\n                hm-tap="modal.config.onMainActionClick()"\n                ng-bind="modal.config.mainActionText">\n        </button>\n    </div>\n</common-upgrade-window-modal>'},4596:function(n,e,t){var a=t(4597);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4597:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".plan-info {\n  margin-top: 28px;\n}\n.plan-info td {\n  padding-bottom: 8px;\n}\n.plan-info td:first-child {\n  opacity: 0.4;\n}\n.plan-info tr:last-child td {\n  padding-bottom: 0;\n}\n.plan-info .plan-info__label {\n  font-style: normal;\n  font-stretch: normal;\n  letter-spacing: normal;\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: 600;\n  font-weight: bold;\n  padding-bottom: 12px;\n}\n.plan-info .plan-info__separator {\n  padding: 32px 28px;\n}\n.plan-info .plan-info__separator svg {\n  width: 12px;\n  height: 28px;\n  min-width: 12px;\n  max-width: 12px;\n  min-height: 28px;\n  max-height: 28px;\n  overflow: hidden;\n}\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  .plan-info .plan-info__separator svg {\n    width: auto;\n    height: auto;\n  }\n}\n",""])},4598:function(n,e,t){n.exports='<rtb-modal class="rtb-modal--center rtb-modal--medium">\n    <rtb-modal-close-button hm-tap="modal.cancel()" ng-show="!modal.params.loading" ></rtb-modal-close-button>\n    <div class="rtb-modal-container__content rtb-modal-content">\n        <div class="rtb-modal-content__header rtb-modal-header" ng-if="!modal.isTrialTeam">\n            <div class="rtb-modal-header__title">\n                Are you sure you want to cancel your subscription?\n            </div>\n        </div>\n        <div class="rtb-modal-content__header rtb-modal-header" ng-if="modal.isTrialTeam">\n            <div class="rtb-modal-header__title">\n                Goodbyes are never easy\n            </div>\n        </div>\n        <div class="rtb-modal-content__body rtb-modal-body" ng-if="!modal.isTrialTeam">\n            <p>Don\'t cancel the subscription if you need to\n                <a class="rtb-link rtb-link--primary" hm-tap="modal.onChangePaymentMethod()" ng-if="modal.params.isPersonal">change payment method</a>\n                <a class="rtb-link rtb-link--primary" hm-tap="modal.onChangeTeamSize()" ng-if="!modal.params.isPersonal">decrease your team size</a>.\n                If you cancel your subscription, your account will remain active until the end of the billing cycle.\n                You can renew your subscription at any time.\n            </p>\n            <p ng-if="modal.prorationText">\n                <strong>{{modal.prorationText}}</strong>\n            </p>\n        </div>\n        <div class="rtb-modal-content__body rtb-modal-body" ng-if="modal.isTrialTeam">\n            <p>If you cancel your subscription, your account will remain on Team Plan until the end of the trial.\n                Once the trial is over, your account will be downgraded to Free Plan.\n            </p>\n            <table class="plan-info">\n                <tr>\n                    <td class="plan-info__label">Current plan</td>\n                    <td class="plan-info__separator" rowspan="100%">\n                        <svg   ><use xlink:href="'+t(1487)+'"></use></svg>\n                    </td>\n                    <td class="plan-info__label">Free plan</td>\n                </tr>\n                <tr>\n                    <td>{{modal.boardsNumber > modal.boardsLimitInFreePlan ? modal.boardsNumber : \'Unlimited\'}} editable boards\n                    </td>\n                    <td>\n                        {{modal.boardsLimitInFreePlan}} editable boards{{modal.boardsNumber > modal.boardsLimitInFreePlan ? \',\' : \'\'}}<br>\n                        {{modal.boardsNumber > modal.boardsLimitInFreePlan ? (modal.boardsNumber - modal.boardsLimitInFreePlan) + \' will be locked\' : \'\'}}\n                    </td>\n                </tr>\n                <tr>\n                    <td>High resolution export</td>\n                    <td>Low resolution export</td>\n                </tr>\n                <tr ng-if="modal.projectsNumber">\n                    <td>{{modal.projectsNumber}} {{modal.projectsNumber === 1 ? \'project\' : \'projects\'}}</td>\n                    <td>\n                        All projects will<br>\n                        be view-only\n                    </td>\n                </tr>\n                <tr>\n                    <td>Premium plugins</td>\n                    <td>\n                        <span tooltip="{{modal.premiumApps}}"\n                              tooltip-placement="top"\n                              tooltip-append-to-body="true"\n                              class="rtb-link rtb-link--dashed rtb-link--text">Premium plugins</span> will<br>\n                        be unavailable\n                    </td>\n                </tr>\n            </table>\n        </div>\n        <div class="rtb-modal-content__actions rtb-modal-actions">\n            <button class="rtb-btn rtb-btn--danger rtb-btn--medium" hm-tap="modal.submit()">Cancel subscription</button>\n            <button class="rtb-btn rtb-btn--secondary-bordered rtb-btn--medium" hm-tap="modal.cancel()">Back to settings</button>\n        </div>\n    </div>\n</rtb-modal>'},4599:function(n,e,t){var a=t(4600);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4600:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".subscription-remove-reasons ul.reasons-list {\n  margin: 21px 0 17px;\n  padding: 0;\n  list-style-type: none;\n}\n.subscription-remove-reasons .reason {\n  line-height: 22px;\n}\n",""])},4601:function(n,e){n.exports='<rtb-modal class="rtb-modal--center rtb-modal--large subscription-remove-reasons">\n    <rtb-modal-close-button hm-tap="modal.cancel()"></rtb-modal-close-button>\n    <div class="rtb-modal-container__content rtb-modal-content">\n        <div class="rtb-modal-content__header rtb-modal-header">\n            <div class="rtb-modal-header__title">\n                {{\'account.commons.modal.subscription.remove_reason.title\' | translate}}\n            </div>\n        </div>\n        <div class="rtb-modal-content__body rtb-modal-body">\n\n            <p class="description">{{\'account.commons.modal.subscription.remove_reason.description\' | translate}}</p>\n            <ul class="reasons-list">\n                <li class="reason" ng-repeat="reason in modal.reasons">\n                    <rtb-checkbox\n                            name="notifications"\n                            checked="reason.checked"\n                            label="reason.label">\n                    </rtb-checkbox>\n                </li>\n            </ul>\n            <input type="text"\n                   maxlength="100"\n                   class="rtb-input rtb-input--light rtb-input--small rtb-input--fluid"\n                   placeholder="{{\'account.commons.modal.subscription.remove_reason.other_placeholder\' | translate}}"\n                   ng-model="modal.additionalNotes">\n        </div>\n        <div class="rtb-modal-content__actions rtb-modal-actions">\n            <button class="rtb-btn rtb-btn--primary"\n                    hm-tap="modal.submit()">\n                {{\'account.commons.modal.subscription.remove_reason.submit\' | translate}}\n            </button>\n        </div>\n    </div>\n</rtb-modal>'},4602:function(n,e,t){var a=t(4603);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4603:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".md-container.modal-slack .md-content {\n  border-radius: 4px;\n  box-shadow: 0 4px 10px 0 rgba(0, 0, 0, 0.2);\n}\n.md-container.modal-slack .md-content .ui-button {\n  height: 64px;\n}\n.md-container.modal-slack .md-content .ui-button__caption {\n  font-size: 14px;\n  font-weight: 600;\n  line-height: 64px;\n}\n.md-container.modal-slack .md-content__caption {\n  color: #353d4b;\n  font-size: 20px;\n  font-weight: bold;\n}\n.md-container.modal-slack .md-content__cancel span {\n  cursor: pointer;\n}\n.md-container.modal-slack-team-expired .md-content__cancel {\n  color: #827f9b;\n  margin-left: 20px;\n}\n.md-container.modal-slack-team-expired .md-content__cancel:hover {\n  color: #666d7b;\n}\n.md-container.modal-slack-team-expired .md-content {\n  width: 520px;\n  position: relative;\n  padding: 52px 70px 55px 100px;\n}\n.md-container.modal-slack-team-expired .md-content .icon {\n  top: 54px;\n  left: 48px;\n  position: absolute;\n}\n.md-container.modal-slack-team-expired .md-content__slack {\n  color: #47bc99;\n  font-size: 14px;\n}\n.md-container.modal-slack-team-expired .md-content__caption {\n  margin: 45px 0 10px;\n}\n.md-container.modal-slack-team-expired .md-content .ui-button {\n  margin-top: 40px;\n}\n.md-container.modal-slack-team-expired .md-content {\n  font-size: 14px;\n}\n.md-container.modal-slack-team-expired .md-content__caption {\n  word-break: break-word;\n}\n.md-container.modal-slack-team-expired .md-content--user .ui-button {\n  border-color: #c3c2cf;\n  background-color: transparent;\n}\n.md-container.modal-slack-team-expired .md-content--user .ui-button:hover {\n  border-color: #827f9b;\n}\n.md-container.modal-slack-team-expired .md-content--user .ui-button:hover .ui-button__caption {\n  color: #4a4a4a;\n}\n.md-container.modal-slack-team-expired .md-content--user .ui-button__caption {\n  color: #827f9b;\n}\n",""])},4604:function(n,e){n.exports='<rtb-modal-old class="modal-slack modal-slack-team-expired" ng-class="{\'md-content--user\': modal.params.admin}">\n    <icon icon-name="\'general--slack-32\'"></icon>\n    <div class="md-content__slack" ng-bind-html="\'commons.modal.slack.hint\' | translate"></div>\n\n    <div class="md-content__caption" ng-bind="\'commons.modal.slack.team.expired.caption\' | translate:{name: modal.params.name}"></div>\n    <div class="md-content__description">\n        <span ng-bind="\'commons.modal.slack.team.expired.description.1\' | translate"></span>\n        <span ng-bind-html="\'commons.modal.slack.team.expired.description.2\' | translate:{admin: modal.params.admin}" ng-show="modal.params.admin"></span>\n        <span ng-bind="\'commons.modal.slack.team.expired.description.3\' | translate" ng-show="modal.params.admin"></span>\n        <span ng-bind="\'commons.modal.slack.team.expired.description.4\' | translate" ng-hide="modal.params.admin"></span>\n        <a class="link" target="_blank" ng-href="\'commons.modal.slack.link.space.href\' | translate"\n           ng-bind="\'commons.modal.slack.link.space.text\' | translate"></a>\n    </div>\n\n    <ui-button-old class="ui-button--blue-fill" width="160" caption="\'commons.modal.slack.team.expired.submit\' | translate"\n               hm-tap="modal.submit()" ng-hide="modal.params.admin"></ui-button-old>\n    <ui-button-old class="md-content__cancel" caption="\'commons.modal.slack.team.expired.cancel\' | translate"\n               hm-tap="modal.cancel()" ng-hide="modal.params.admin"></ui-button-old>\n\n    <ui-button-old class="ui-button--gray" width="160" caption="\'commons.modal.slack.team.expired.close\' | translate"\n               hm-tap="modal.cancel()" ng-show="modal.params.admin"></ui-button-old>\n</rtb-modal-old>'},4605:function(n,e,t){var a=t(4606);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},4606:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".change-account-card {\n  margin-top: 32px;\n}\n.change-account-card .change-account-card__actions {\n  margin-top: 26px;\n}\n.change-account-card .change-account-card__card-input {\n  max-width: 460px;\n}\n",""])},461:function(n,e,t){"use strict";var a;function o(n){if(a)throw new Error("IStripeService is already registered");a=n}t.d(e,"b",function(){return o}),e.a=function(){return a}},482:function(n,e,t){"use strict";var a=t(21),o=t(43);t(560);var i=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.labelRef=o.React.createRef(),e}return Object(a.d)(e,n),e.prototype.componentDidMount=function(){this.labelRef.current&&this.labelRef.current.classList.add("rtb-toggle--animated")},e.prototype.onChange=function(n){this.props.onChange&&this.props.onChange(n.target.checked)},e.prototype.render=function(){var n=Object(o.classNames)("rtb-toggle",{"rtb-toggle--disabled":this.props.isDisabled},this.props.className);return o.React.createElement("label",{className:n,ref:this.labelRef,"no-prevent-default":"true"},o.React.createElement("input",{type:"checkbox",name:this.props.name,checked:this.props.checked,onChange:this.onChange,disabled:this.props.isDisabled}),o.React.createElement("span",{className:"rtb-toggle__indicator"}),this.props.label?o.React.createElement("span",{className:"rtb-toggle__text"},this.props.label):null)},Object(a.c)([o.decorators.autobind],e.prototype,"onChange",null),e}(o.React.PureComponent);e.a=i},485:function(n,e,t){var a=t(667);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},537:function(n,e){n.exports="#img__tick"},5558:function(n,e,t){"use strict";t.r(e);var a={};t.r(a),t.d(a,"runInvitationPayments",function(){return Fe}),t.d(a,"handleNotInvitedEmails",function(){return $e}),t.d(a,"renewSubscription",function(){return We});var o,i,r=t(21),s=t(46),l=t(44),c=t(48),d=t(236),p=t(30),u=function(){function n(n){this.$scope=n}return Object.defineProperty(n.prototype,"title",{get:function(){return this.$scope.config?this.$scope.config&&this.$scope.config.title:""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this.$scope.config?this.$scope.config.text:""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"imgSrc",{get:function(){return this.$scope.config?(n=this.$scope.config.imgIdent,h[n]):"";var n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inlineIcon",{get:function(){if(this.$scope.config)return this.$scope.config.inlineIcon},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"featuresList",{get:function(){return this.$scope.config?this.$scope.config.featuresList:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isCreditsInfoVisible",{get:function(){return Boolean(this.$scope.config&&this.$scope.config.creditsInfoIsVisible)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"creditsInfoText",{get:function(){return this.isCreditsInfoVisible?this.$scope.config.creditsInfoText:""},enumerable:!0,configurable:!0}),n.$inject=["$scope"],n}(),m=t(25),b=t(67);!function(n){n[n.ROCKET=0]="ROCKET",n[n.PADLOCK=1]="PADLOCK",n[n.FOLDERS=2]="FOLDERS",n[n.WARNING=3]="WARNING",n[n.ENVELOPES=4]="ENVELOPES",n[n.BACKUP=5]="BACKUP",n[n.JIRA=6]="JIRA",n[n.TEMPLATE=7]="TEMPLATE",n[n.PRIVATE_BOARDS=8]="PRIVATE_BOARDS",n[n.BOARD_LOCK_RED=9]="BOARD_LOCK_RED",n[n.BOARD_LOCK_YELLOW=10]="BOARD_LOCK_YELLOW"}(i||(i={}));var h=((o={})[i.ROCKET]=t(4462),o[i.PADLOCK]=t(4463),o[i.FOLDERS]=t(4464),o[i.TEMPLATE]=t(4465),o[i.ENVELOPES]=t(4466),o[i.BACKUP]=t(4467),o[i.JIRA]=t(4468),o[i.PRIVATE_BOARDS]=t(4469),o[i.WARNING]=t(4470),o[i.BOARD_LOCK_RED]=t(4471),o[i.BOARD_LOCK_YELLOW]=t(4472),o);var g=function(){Object(b.a)(),t(4473),Object(m.b)().directive("commonUpgradeWindowModal",f)};function f(){return Object(p.a)({restrict:"E",template:t(4475),controller:u,controllerAs:"ctr",transclude:!0,scope:{config:"=",onClose:"&",loading:"="}})}var y=t(26),v=t(32),x=t(493),_=t(672),w=t(492),I=t(293),C=t(64),P=t(218),T=t(168),O=t(77),M=t(33);var E,A=t(279),S=t(598),N=t(267),j="Guest access to boards",k="Unlimited and private boards",D="Custom templates",R="Premium integrations (Atlassian)",L="Hi-res export",U="Projects";!function(n){n.CREATE="create",n.DUPLICATE="duplicate"}(E||(E={}));var B=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.isNewButtonsOrder=!1,e}return Object(r.d)(e,n),e.getConfiguration=function(n,e,t){!function(n,e,t){if(t&&Object(M.fb)(n)){var a=Object(T.b)(n,e||y.f.StatFeatureList.common);y.f.clickLockedFeature(a),Object(O.a)().sendApiEvent("click_locked_feature",a)}}(t,e.statReason||y.f.StatFeatureList.common,e.fromLockedPlace);var a=Object(P.d)(t)?"Start "+Object(P.b)(t)+" trial":"Upgrade now";switch(n){case d.a.DOWNLOAD_BACKUP:return{title:"Upgrade to back up boards",text:"With the backup feature, you can create archived copies of your boards. Upgrade to Team plan and get more features like:",imgIdent:i.BACKUP,featuresList:[j,R,D,k],mainActionText:a};case d.a.CREATE_PROJECT:return{title:"Upgrade to use Projects",text:"Projects are folders which help you to organize boards and make them easier to find and share. Upgrade to Team plan and get more features:",imgIdent:i.FOLDERS,featuresList:[j,R,D,k],mainActionText:a};case d.a.CREATE_CUSTOM_TEMPLATE:return{title:"Upgrade to create your own templates",text:"Have a preferred way of working? Create custom templates and share them with your team. Upgrade to Team plan and get more features like:",imgIdent:i.TEMPLATE,featuresList:[j,R,L,k],mainActionText:a};case d.a.BOARD_WILL_BE_INACTIVE_CREATE:return this.getBoardsLimitWindowConfig(E.CREATE,a,e,t);case d.a.BOARD_WILL_BE_INACTIVE_DUPLICATE:return this.getBoardsLimitWindowConfig(E.DUPLICATE,a,e,t);case d.a.JIRA:return{title:"Upgrade to integrate with Jira",text:"Work with Jira issues for story mapping or backlog prioritization, easily convert sticky notes to Jira issues, or give a context to Jira issues by attaching your boards. Upgrade to Team plan and get more features like:",imgIdent:i.JIRA,featuresList:[j,k,L,D],mainActionText:a};case d.a.CREATE_PRIVATE_BOARD:return{title:"Upgrade to create private boards",text:"Privacy settings allow you to share boards with specific teammates and assign different access rights (edit, comment, view) for them. Upgrade to Team plan and get more features like:",imgIdent:i.PRIVATE_BOARDS,featuresList:[D,R,L,j],mainActionText:a};case d.a.COMMON:default:return{title:"Upgrade for feature",text:"This feature is not available on your current Free plan. To use this feature upgrade your plan to Team or Company.",imgIdent:i.ROCKET,mainActionText:a}}},e.getBoardsLimitWindowConfig=function(n,e,t,a){var o=a.limits.activeBoardsPerAccount-a.boardsNumber,s="Free plan users can have up to "+t.account.limits.activeBoardsPerAccount+" recently created active boards. If you "+(n===E.CREATE?"create a new":"duplicate the")+" board, <b>"+(t.board&&t.board.title)+"</b> will become view-only. Upgrade your plan to get unlimited active boards.",l=Math.floor(3*Math.random()),c="You are over boards limit";return o>0&&(s="Free plan users can have up to "+t.account.limits.activeBoardsPerAccount+" recently created active boards. The board you create right now will be the last editable board. Upgrade your plan to get unlimited active boards.",l=Math.floor(2*Math.random()),c="You have only 1 board left"),function(n,e,t,a){var o=Object(T.a)(n),i={popup_from:e,team_boards:n.boardsNumber,type:t,showtime:a};y.f.showOverBoardsLimitPopup(Object(r.a)(Object(r.a)({},o),i)),Object(O.a)().sendApiEvent("show_over_boards_limit_popup",Object(r.a)(Object(r.a)({},o),i))}(a,n,0===l?"red":1===l?"yellow":"white",0===o?"limit_reached":"last_board"),[{title:c,text:s,imgIdent:i.BOARD_LOCK_RED,mainActionText:e,featuresList:[U,L,D,R]},{title:c,text:s,imgIdent:i.BOARD_LOCK_YELLOW,mainActionText:e,featuresList:[U,L,D,R]},{title:c,text:s,imgIdent:i.WARNING,inlineIcon:!0,mainActionText:e}][l]},Object.defineProperty(e.prototype,"hasExtendAction",{get:function(){return!!this.extendActionText},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extendActionText",{get:function(){return this.params.extendActionText},enumerable:!0,configurable:!0}),e.prototype.onExtendActionClick=function(){var n=this.params.onExtendActionClick;n&&n()},e.prototype.init=function(){return Object(r.b)(this,void 0,void 0,function(){var n=this;return Object(r.e)(this,function(t){switch(t.label){case 0:return this.loading=!0,[4,this.getActualTeamInfo(this.params.account.id).then(function(t){n.account=t,n.config=e.getConfiguration(n.params.upgradeReason,n.params,t),n.config=Object.assign(n.config,function(n){var e={creditsInfoIsVisible:!1},t=new x.a(n),a=new _.a(t,{paymentInterval:C.d.MONTHLY});if(a.discountType===w.a.CREDITS&&a.centsCredits>0){e.creditsInfoIsVisible=!0;var o=a.creditsMonthsCount,i=a.centsCredits/100;e.creditsInfoText=o<1?"Your credit balance is <b>$"+i+"</b>. Use them towards your Team plan purchase.":"Your credit balance $"+i+" is worth for <b>"+o+"&nbsp;free&nbsp;month"+(o>1?"s":"")+"</b> on Team plan!"}return e}(t))})];case 1:return t.sent(),[4,v.a.accounts.selectById(this.params.account.id).experiments.get(S.a.TRIGGERS_BUTTONS_ORDER).then(function(e){n.isNewButtonsOrder=e&&e.running&&e.variation===N.a.B})];case 2:return t.sent(),this.loading=!1,this.$scope.safeApply(),[2]}})})},e.prototype.getActualTeamInfo=function(n){return v.a.accounts.selectById(n).get({fields:"id,usersNumber,boardsNumber,limits,currentUserPermission,role,title,expirationDate,credits,expired,features,trialData,type"})},e.prototype.submit=function(){var e=this;Object(P.d)(this.account)?(y.o.trialChose("upgrade_window"),Object(C.f)().then(function(n){return n.showStartTrialModal(e.account)})):(!function(n,e){var t=Object(T.c)(n,e);y.f.clickUpgrade(t),Object(O.a)().sendApiEvent("click_upgrade",t)}(this.account,this.params.statReason||y.f.StatFeatureList.common),Object(I.a)().openPricingByAccountId(this.account.id,A.a.LOCKED_FEATURE_TRIGGER,!0).then(function(){return n.prototype.submit.call(e)}).catch(function(){return e.cancel()}))},e}(c.a);var z=t(45),F=t(114),$=t(34),Y=t(169),H=t(234);var V=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.hideCloseButton=!1,e}return Object(r.d)(e,n),e.prototype.init=function(){var e=this;Object($.a)().getAccountAsync(this.params.accountId).then(function(t){var a;t&&(Y.h(t.id).then(function(n){var e=M.f(n.boardsNumber,n.usersNumber);y.cj(e,!1,M.P(t))}),v.a.accounts.selectById(t.id).teamAdmins().findFirst().then(function(o){a=function(n,e){var t='<p>To edit these boards again, please ask the account administrator at&nbsp;<b class="break-word">'+e+'</b> to log in and choose a plan.\n\t\t\t\t<br><br><a class="rtb-link rtb-link--primary" href="https://help.miro.com/hc/en-us/articles/360017730253-What-Happens-When-Subscription-Expires" target="_blank">Learn more</a></p>';if(n.type===F.a.TEAM)return{caption:"Team subscription has expired",redText:'The <b class="break-word">'+n.title+"</b> team subscription has expired. Your account has been paused, and all boards in this team are available in view-only mode.",text:t};if(n.type===F.a.PAID_TEAM)return n.trial?{caption:"Your free upgrade has expired",redText:"The <b>"+H.d+" day Team account upgrade</b> has expired. Your account has been paused, and all boards in this team are available in view-only mode.",text:t}:{caption:"Team subscription has expired",redText:'The <b class="break-word">'+n.title+"</b> team subscription has expired. Your account has been paused, and all boards in this team are available in view-only mode.",text:t};if(n.type===F.a.EDUCATION_TEAM)return{caption:"Educational account subscription has expired",redText:'The <b class="break-word">'+n.title+"</b> educational subscription has expired. Your account has been paused, and all boards in this team are available in view-only mode.",text:t};if(n.type===F.a.EDUCATION)return{caption:"Educational subscription has expired",redText:"Your Educational subscription has expired and your personal account has been downgraded to the Free plan.",text:'<p>We have updated our Educational account, and now it\'s based on the Team plan.&nbsp;\n\t\t\t\t<a class="rtb-link rtb-link--primary" href="https://help.miro.com/hc/en-us/articles/360017730473-Education-Plan" target="_blank">Learn more.</a></p>>\n\t\t\t\t<p>If you are a teacher or a faculty member, please \n\t\t\t\t<a class="rtb-link rtb-link--primary" href="https://miro.com/education/" target="_blank">fill in the application form here</a> to reapply.</p>',buttonCaption:"Got it",buttonClickHandler:function(){J(n.id)},note:"Please note: if you have exceeded the 3 boards limit of the Free plan, all boards will be available in view-only mode.",hideCloseButton:!0};throw new Error("TEAM_ACCOUNT_HAS_EXPIRED_FOR_USER called in wrong case")}(t,o&&o.email||""),e.redText=a.redText,e.caption=a.caption,e.text=a.text,e.hideCloseButton=a.hideCloseButton,e.note=a.note,a.buttonCaption&&(e.buttonCaption=a.buttonCaption,e.buttonClickHandler=a.buttonClickHandler),n.prototype.init.call(e)}))})},e}(c.b),W=t(62),G=function(n){return Object(W.a)(),Object(b.a)(),t(4479),s.a(l.a.TEAM_HAS_EXPIRED_FOR_USER,V,t(4481),Object(r.a)({enableCloseByBackground:!1},n))},Q=t(50),q=t(35);function J(n){Object(q.a)().processPromise({promise:v.a.accounts.selectById(n).downgrade(),waitingMessage:"Waiting\u2026",successCallback:function(){document.location.reload(!0)}})}function Z(n){return Promise.resolve().then(function(){return Promise.all(n.map(function(n){return Object(Y.h)(n.id).then(function(e){return Object(r.a)(Object(r.a)({},n),{usersNumber:e.usersNumber,boardsNumber:e.boardsNumber})})}))}).then(function(n){return new Promise(function(e){n.some(function(n){return function(n,e){switch(n.type){case F.a.EDUCATION:return function(n,e){return function(n,e){K(n)||(Object(I.a)().showNewUpgradePayment(n)?Object(I.a)().openPricing(n):Object(z.a)().show(G({accountId:n.id})).closed.addOnce(function(){return e()}))}(n,e),!0}(n,e);default:return function(n,e){if(M.o(n))return function(n,e){if(K(n))return;Object(I.a)().getPaymentModal(n).then(function(){return e()})}(n,e),!0;return!1}(n,e)}}(n,e)})||e()})})}function K(n){var e=Object(Q.i)("spaceId");return!!e&&n.id!==e}var X=t(530),nn=t(623),en=t(106),tn=function(n){return Object(W.a)(),Object(b.a)(),s.a(l.a.SHARE_LOCKED_IN_TEAM_BOARD_FOR_NOT_TEAM_MEMBER,c.b,t(4482),n)},an=t(452),on=t(52),rn=t(2367),sn=t(220),ln=$.b(),cn=z.b();function dn(n,e){var t=[],a=!M.sb(e);if(n.lockedByBoardsPerAccountLimitExceeded&&t.push({text:e.boardsNumber+(a?" team":"")+" boards out of "+e.limits.boardsPerAccount+" used"}),n.lockedByUsersPerBoardLimitExceeded){var o=e.type===F.a.NEW_FREE||e.type===F.a.NEW_PREMIUM?1:0,i=n.permissions.size+n.invites.size-o;t.push({text:i+" collaborators out of "+(e.limits.usersPerBoard-o)+" used"})}if(n.lockedByUsersPerAccountLimitExceeded){var r=e.usersNumber+" team members out of  "+e.limits.usersPerAccount+" used";e.role===en.a.ADMIN&&a?t.push({text:r,action:function(){return on.A(n.account.id).openInNewTab()}}):t.push({text:r})}return t}function pn(n){var e="";return n.lockedByBoardsPerAccountLimitExceeded&&(e+="boards&"),n.lockedByUsersPerBoardLimitExceeded&&(e+="collaborators&"),n.lockedByUsersPerAccountLimitExceeded&&(e+="team_member&"),e}function un(){return ln().accounts.filter(function(n){return n.type===F.a.TEAM&&!n.expired}).length>0}function mn(n){return un()?n.lockedByUsersPerBoardLimitExceeded?'This board belongs to your personal space.<br>To edit this board, please <u class="btn" clickable-element="move">move it to your Team space</u> or <u class="btn" clickable-element="delete">delete the extra collaborators</u>.':'This board belongs to your personal space.<br>To edit this board, please <u class="btn" clickable-element="move">move it to your Team space</u> or upgrade the personal space.':n.lockedByUsersPerBoardLimitExceeded&&!n.lockedByBoardsPerAccountLimitExceeded?'This board belongs to your personal space.<br>To edit this board again, please upgrade or <u class="btn" clickable-element="delete">delete the extra collaborators</u>.':"To edit this board again, please upgrade."}var bn=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.redItems=[],e.learnMoreText="Learn more about recent changes",e}return Object(r.d)(e,n),e.prototype.init=function(){var e=this;this.params.customClass="base-headed-modal__red",this.params.iconURL=t(4483),Y.i(this.params.boardInfo.id).then(function(t){e.getConfig(e.params.boardInfo,t.usersNumber,t.boardsNumber).then(function(t){if(!t)throw new Error("Config is undefined in BaseBoardLockedMC");e.redText=t.reasonText,e.redItems=t.exceededLimits,e.params.text=t.text,e.learnMoreLink=t.learnMoreLink,t.buttonCaption&&(e.params.submitButtonCaption=t.buttonCaption,e.params.submitCallback=t.buttonClickHandler),n.prototype.init.call(e)})})},e.prototype.onTextClicked=function(n){var e=this.params.boardInfo.id;"delete"===n&&cn().show(Object(rn.a)({boardId:e})).submitted.addOnce(function(){return location.reload(!0)}),"move"===n&&Object(sn.a)().then(function(n){n.showMoveToAccountModal(e).submitted.addOnce(function(){return location.reload(!0)})})},e.prototype.getConfig=function(n,e,t){var a=this;return new Promise(function(o){ln().getAccountAsync(n.account.id).then(function(i){if(i){var s=Object(r.a)(Object(r.a)({},i),{usersNumber:e,boardsNumber:t});switch(s.type){case F.a.PAID_TEAM:o(a.getPaidTeamConfig(s,n));break;case F.a.TEAM:o(a.getTeamConfig(s));break;case F.a.FREE_TEAM:o(a.getFreeTeamConfig(s,n));break;case F.a.NEW_PREMIUM:o(a.getPremiumConfig(s,n));break;case F.a.FREE:case F.a.NEW_FREE:o(a.getFreeConfig(s,n));break;default:o(void 0)}}else o(void 0)})})},e.prototype.getPaidTeamConfig=function(n,e){var t={reasonText:"This board is available in view-only mode, because you have exceeded the number of members available for your team.",exceededLimits:dn(e,n)};return this.getAdminEmailIfNeed(n).then(function(e){return n.role===en.a.ADMIN?(t.text="To edit this board again, please delete the extra members or increase your team size.",t.buttonCaption="Go to Account settings",t.buttonClickHandler=function(){y.ad(),y.Vb(),on.B(n.id).openInNewTab()},y.mi("collaborators")):(t.text="To edit this board again, please contact the account administrator at "+e+".",y.ni("collaborators")),Promise.resolve(t)}).catch(function(){return Promise.resolve(t)})},e.prototype.getTeamConfig=function(n){var e={reasonText:'This board is available in view-only mode, because <b class="break-word">'+n.title+"</b> subscription has expired."};return this.getAdminEmailIfNeed(n).then(function(t){return n.role===en.a.ADMIN?(e.text="To edit this board again, please upgrade.",e.buttonCaption="Upgrade",e.buttonClickHandler=function(){y.ad(),y.sd(),Object(I.a)().buyExistingTeam(n)},y.mi("expired")):(e.text="To edit these boards again, please ask the account administrator at "+t+" to log in and choose a plan.",y.ni("expired")),Promise.resolve(e)}).catch(function(){return Promise.resolve(e)})},e.prototype.getFreeTeamConfig=function(n,e){var t={reasonText:'This board is available in view-only mode, because your team <b class="break-word">'+n.title+"</b> has exceeded the Free plan limits:",exceededLimits:dn(e,n)};return n.role===en.a.ADMIN?y.mi("collaborators"):y.ni("collaborators"),t.text="To edit this board again, please upgrade.",t.buttonCaption="Upgrade",t.buttonClickHandler=function(){y.ad(),y.sd(),Object(I.a)().buyExistingTeam(n)},t},e.prototype.getPremiumConfig=function(n,e){return y.mi(pn(e)),{reasonText:"This board is available in view-only mode, because you have exceeded the Premium account limits:",exceededLimits:dn(e,n),text:mn(e),buttonCaption:"Upgrade",buttonClickHandler:function(){y.sd(),Object(I.a)().openPricing(n)}}},e.prototype.getFreeConfig=function(n,e){return y.mi(pn(e)),{reasonText:"This board is available in view-only mode, because you have exceeded the Free account limits:",exceededLimits:dn(e,n),text:mn(e),buttonCaption:"Upgrade",buttonClickHandler:function(){y.sd(),un()?Object(I.a)().openPricing(n):on.l().openInNewTab()}}},e.prototype.getAdminEmailIfNeed=function(n){return n.currentUserPermission&&n.currentUserPermission.role!==en.a.ADMIN?v.a.accounts.selectById(n.id).teamAdmins().findFirst().then(function(n){return n&&n.email}):Promise.resolve(void 0)},e}(an.a),hn=t(524),gn=function(n){return s.a(l.a.BOARD_LOCKED_FOR_ADMIN_OR_USER,bn,hn.a(),Object(r.a)({caption:"This board is locked",headerColorClass:"green",submitButtonClass:"btn-green",iconURL:t(2154),customClass:"base-headed-modal__red"},n))},fn=t(409);function yn(n){return function(n,e){if(null===n)return Promise.reject('"reason" can be null here');switch(n){case nn.a.ACCOUNT_LIMITS_EXCEEDED:return function(n){var e=n.account;return(e&&e.role)===en.a.ADMIN?vn(Object(z.a)().show(gn({boardInfo:n}))):(y.vi(),vn(Object(z.a)().show(Object(fn.a)({title:"Access denied",info:!0,text:"<p>Sorry, you can't share this board, because its owner has exceeded the account limits. <p>In order to share this board, please ask the board owner <b>"+n.owner.name+"</b> to&nbsp;upgrade.</p>"}))))}(e);case nn.a.ACCOUNT_EXPIRED:return function(n){var e=n.account,t=e&&e.role,a=n.account.type;return a===F.a.TEAM?t===en.a.ADMIN||t===en.a.USER?vn(Object(z.a)().show(gn({boardInfo:n}))):(y.Ai(),vn(Object(z.a)().show(tn({teamName:n.account.title})))):!e||a!==F.a.PAID_TEAM&&a!==F.a.EDUCATION_TEAM?a===F.a.EDUCATION||a===F.a.PREMIUM||a===F.a.NEW_PREMIUM?t===en.a.ADMIN?a===F.a.EDUCATION?vn(Object(z.a)().show(G({accountId:n.account.id}))):Object(I.a)().getPaymentModal(n.account).then(function(){return C.b.SUBMIT}).catch(function(){return C.b.CANCEL}):(y.vi(),vn(Object(z.a)().show(Object(fn.a)({title:"Access denied",info:!0,text:"Sorry, you can't share this board, because its owner's account is paused. In order to share this board, please ask the board owner <b class=\"break-word\">"+n.owner.name+"</b> to&nbsp;log&nbsp;in and choose a plan."})))):Promise.resolve(C.b.NOT_LOCKED):Y.i(n.id).then(function(a){if(M.o(e))return Object(I.a)().getPaymentModal(e).then(function(){return C.b.SUBMIT});if(t===en.a.USER)return vn(Object(z.a)().show(G({accountId:n.account.id})));throw new Error("Wrong case")}).catch(function(){return C.b.CANCEL})}(e);default:return Promise.reject('Reason "'+nn.a[n]+'" is not handled')}}(X.a(n),n).catch(function(n){throw new Error(n)})}function vn(n){return new Promise(function(e){n.canceled.addOnce(function(){return e(C.b.CANCEL)}),n.submitted.addOnce(function(){return e(C.b.SUBMIT)})})}var xn=function(n){function e(){return n.call(this)||this}return Object(r.d)(e,n),e.prototype.init=function(){var e=this,t=this.params.notValidEmails.map(function(n){return(0===e.params.notValidEmails.indexOf(n)?"":", ")+'<span class="blue-text">'+n+"</span>"}).join("");this.params.text="Sorry, you cannot share this board with people whose email domains are not whitelisted: "+t+".<br><br>To share boards with these people, please ask your Company administrator to add email domains to the whitelist.",n.prototype.init.call(this)},e}(an.a),_n=function(n){return t(4484),s.a(l.a.COLLABORATOR_CANT_SHARE_BECAUSE_UNABLE_TO_SHARE,xn,hn.a(),Object(r.a)({headerColorClass:"grey",iconURL:t(2154),customClass:"blue-lock-icon unable-to-share",caption:"Unable to share",hideCloseButton:!0,submitButtonCaption:"Back",submitButtonClass:"btn-grey"},n))};var wn=t(63),In=t(4486),Cn=t(341);function Pn(n,e){return function(n){switch(n){case F.a.FREE_TEAM:case F.a.FREE_TEAM_2018:case F.a.PAID_TEAM:case F.a.TRIAL_TEAM:case F.a.TEAM:case F.a.PREMIUM:case F.a.NEW_PREMIUM:case Cn.a.BUSINESS:case Cn.a.CONSULTANT_SLF:return!0;default:return!1}}(n.type)}var Tn=t(1567),On=t(117),Mn=t(942),En=t(1483),An=t(167),Sn=t.n(An),Nn=t(86),jn=t.n(Nn),kn=t(763),Dn=t(1587),Rn=t(1560),Ln=$.b(),Un={title:"To edit your boards, please renew your subscription",downgradeChoice:{bigNote:"All boards in this team will be available in view-only mode.",buttonCaption:"Stay in a view-only mode"},upgradeChoice:{caption:"Team",features:["Unlimited boards","Adjustable team size","Guest viewers & commenters","JIRA integration","Screen sharing","Video chat","Custom templates","and other extra features"],buttonCaption:"Renew subscription"}},Bn={header:"Your Premium subscription has expired<br> and your account has been paused.",title:"To edit your boards, please renew your subscription",downgradeChoice:{bigNote:"All boards in this team will be available in view-only mode.",buttonCaption:"Stay in view-only mode"},upgradeChoice:{caption:"Premium",features:["Unlimited boards","Screen sharing","Hi-res export and more","Custom templates"],buttonCaption:"Renew subscription"}},zn={title:"Choose a plan",downgradeChoice:{caption:"Free",features:["3 boards per team","Up to 3 team members","Guest viewers"],note:'Please note: if you have exceeded the limits of the Free plan, all boards in this team will be available in view-only mode. <a href="https://help.miro.com/hc/en-us/articles/360017730253-What-Happens-When-Subscription-Expires" target="_blank">Learn more</a>.',buttonCaption:"Use the Free plan"},upgradeChoice:{caption:"Team",features:["Unlimited boards","Adjustable team size","Guest viewers & commenters","JIRA integration","Screen sharing","Video chat","Custom templates","and other extra features"]},canChooseLater:!0},Fn=Sn()({},zn,{title:"",description:"To keep using this account, please choose your plan:",downgradeChoice:{note:""}}),$n={title:"Choose a plan",description:"To keep using your account, please reapply for the subscription, <br>or downgrade to the Free plan.",downgradeChoice:{caption:"Free",features:["3 boards per team","Up to 3 team members","Guest viewers"],note:'Please note: if you have exceeded the limits of the Free plan, all boards in this team will be available in view-only mode. <a href="https://help.miro.com/hc/en-us/articles/360017730253-What-Happens-When-Subscription-Expires" target="_blank">Learn more</a>.',buttonCaption:"Use the Free plan"},upgradeChoice:{caption:"Education",features:["Unlimited boards","Adjustable team size","Guest viewers & commenters","Screen sharing","Custom templates","and other extra features"],buttonCaption:"Reapply for subscription"},canChooseLater:!0},Yn={header:"Your Educational subscription has expired<br> and your account has been paused.",title:"Choose a plan",description:"To keep using this account, please reapply for the subscription,<br> or downgrade to the Free plan.",downgradeChoice:{caption:"Free",features:["3 boards only"],note:"Please note: if you have exceeded the limits of the Free account, all boards will be available in view-only mode.",buttonCaption:"Use the Free plan"},upgradeChoice:{features:["Unlimited boards","Screen sharing","Hi-res export and more","Custom templates"],buttonCaption:"Reapply for subscription"},canChooseLater:!0};var Hn=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(r.d)(e,n),e.prototype.init=function(){var n=this;this.getCurrentAccountInfo(this.params.accountId).then(function(e){n.config=function(n,e,t){var a=M.f(e.boardsNumber,e.usersNumber),o=M.P(e);if(e.type===F.a.TEAM)return y.bj(a,o),Sn()({},Un,{header:"The <b>"+e.title+"</b> team subscription has expired<br> and your account has been paused.",downgradeChoice:{clickHandler:function(){y.Tb(),n.cancel()}},upgradeChoice:{clickHandler:function(){y.Rb(),Object(I.a)().buyExistingTeam(e),n.submit()}}});if(e.type===F.a.PAID_TEAM){var i=void 0;if(e.trial){if(i="The "+H.d+" day Team account upgrade has expired and<br> your team <b>"+e.title+"</b> has been paused.",e.role===en.a.ADMIN){var r=t.some(function(n){return M.ub(n)&&M.c(n)&&!n.expired})?'<br><br>If you no longer need this Team account, you may <a href="https://help.miro.com/hc/en-us/articles/360017730093-Moving-Boards-between-Accounts" target="_blank">move team boards</a> to your active <b>Premium account</b> and delete this team.':"";return y.bj(a,o),Sn()({},zn,{header:i,description:"To stay on the Team plan with unlimited boards and extra features, <br>please upgrade."+r,downgradeChoice:{clickHandler:function(){J(e.id),y.k.choseDowngrade(e.type,e.role,e.expired,Object(M.pb)(e)&&e.id||void 0),n.cancel()}},upgradeChoice:{buttonCaption:"Upgrade",clickHandler:function(){y.Sb(),Object(I.a)().buyExistingTeam(e),n.submit()}}})}return y.cj(a,!0,M.P(e)),Sn()({},Fn,{header:i,downgradeChoice:{clickHandler:function(){J(e.id),y.k.choseDowngrade(e.type,e.role,e.expired,Object(M.pb)(e)&&e.id||void 0),n.cancel()}},upgradeChoice:{buttonCaption:"Upgrade",clickHandler:function(){y.Sb(),Object(I.a)().buyExistingTeam(e),n.submit()}},chooseLaterStatHandler:y.Pb})}return i="The <b>"+e.title+"</b> team subscription has expired and your account has been paused.",e.role===en.a.ADMIN?(y.bj(a,o),Sn()({},zn,{header:i,description:"To stay on the Team plan with unlimited boards and extra features, <br>please renew your subscription.",downgradeChoice:{clickHandler:function(){J(e.id),y.k.choseDowngrade(e.type,e.role,e.expired,Object(M.pb)(e)&&e.id||void 0),n.cancel()}},upgradeChoice:{buttonCaption:"Renew subscription",clickHandler:function(){y.Sb(),Object(I.a)().buyExistingTeam(e),n.submit()}}})):(y.cj(a,!0,M.P(e)),Sn()({},Fn,{header:i,downgradeChoice:{clickHandler:function(){J(e.id),y.k.choseDowngrade(e.type,e.role,e.expired,Object(M.pb)(e)&&e.id||void 0),n.cancel()}},upgradeChoice:{upgradeAdvice:"Please contact the team administrator to resubscribe"},chooseLaterStatHandler:y.Pb}))}return e.type===F.a.EDUCATION_TEAM?(y.Bi(),Sn()({},$n,{header:"The <b>"+e.title+"</b> educational subscription has expired and your account has been paused.",downgradeChoice:{clickHandler:function(){J(e.id),y.k.choseDowngrade(e.type,e.role,e.expired,Object(M.pb)(e)&&e.id||void 0),n.cancel()}},upgradeChoice:{clickHandler:function(){y.Sb(),Object(I.a)().resubscribeEducation(e),n.submit()}}})):e.type===F.a.NEW_PREMIUM||e.type===F.a.PREMIUM?(y.Ti(),Sn()({},Bn,{downgradeChoice:{clickHandler:function(){y.Tb(),n.cancel()}},upgradeChoice:{clickHandler:function(){y.Rb(),Object(I.a)().openPricing(e),n.submit()}}})):e.type===F.a.EDUCATION?(y.Bi(),Sn()({},Yn,{downgradeChoice:{clickHandler:function(){y.k.choseDowngrade(e.type,e.role,e.expired,Object(M.pb)(e)&&e.id||void 0),J(e.id),n.submit()}},upgradeChoice:{clickHandler:function(){y.Qb(),Object(I.a)().resubscribeEducation(e),n.submit()}},canChooseLater:!0})):void 0}(n,e,Ln().accounts)})},e.prototype.chooseLater=function(){this.config.chooseLaterStatHandler?this.config.chooseLaterStatHandler():y.Ob(),this.cancel()},e.prototype.getCurrentAccountInfo=function(n){return v.a.accounts.selectById(n).get({fields:"id,title,type,role,limits,usersNumber,invitesNumber,trial,boardsNumber,expired,expirationDate,createdAt,currentUserPermission,features,invitationLink,picture"})},e}(c.b);var Vn,Wn=function(n){return s.a(l.a.CHOOSE_EXPIRED_ACCOUNT_PLAN,Hn,(t(4572),t(4574)),Object(r.a)({enableCloseByBackground:!1},n))},Gn={PREMIUM:"professional",TEAM:"team",CONSULTANT:"consultant"},Qn={PREMIUM_MONTH:"professional_monthly",PREMIUM_YEAR:"professional_yearly",TEAM_MONTH:"team_monthly",TEAM_YEAR:"team_yearly"},qn=t(2165),Jn=t(461),Zn="Professional_yearly",Kn="Team_yearly",Xn=function(n){function e(e,t){var a=n.call(this,t)||this;return a.AuthorizationService=e,a.NotificationService=t,a}return Object(r.d)(e,n),e.prototype.init=function(){var n,e,t=this,a=this.params.planType,o=this.params.receiverId;a==Gn.PREMIUM?(e=1,n=Zn):(e=this.params.size,n=Kn,this.params.teamName=this.params.title);var i=this.AuthorizationService.getReceiver(o),r=Object(Jn.a)().getUpcoming(o,{quantity:e}),s=Object(Jn.a)().getUpcoming(o,{quantity:e,plan:n});Promise.all([i,r,s]).then(function(a){var o=a[0],i=a[1],r=a[2];t.modalReady(),t.subscriptionPlanId=n;var s=(r.total-r.prorationAmount)/100;t.params.last4=o&&o.customer&&o.customer.card&&o.customer.card.last4||"",t.params.interval={current:"month",upgrade:"year"},t.params.quantity={current:e,upgrade:e};var l=Math.round(100*s/12)/100;t.params.price={current:{amount:(i.total-i.prorationAmount)/100},upgrade:{amount:l}},t.params.planId=n,t.params.total={amount:s},t.$scope.$digest()})},e.prototype.submit=function(){var n=this;this.subscriptionLoading=!0;var e=this.params.planId,a=this.params.receiverId,o={plan:e};this.couponValue&&this.couponResult&&(o.coupon=this.couponValue),v.a.billing.selectById(a).updateSubscription(o).then(function(){n.AuthorizationService.setAccountsDeprecated(),n.AuthorizationService.setReceiverDeprecated(),n.subscriptionLoading=!1;var e,a=n.windowInstance;n.lockSignals=!0,Object(z.a)().show((e={planType:n.params.planType,receiverId:n.params.receiverId},t(1490),s.a(l.a.SUBSCRIPTION_SUCCESS_SWITCH,c.b,t(1491),Object(r.a)({modalType:"switch",invoiceAmount:-1},e)))).closed.addOnce(function(){a.submitted.dispatch(),a.closed.dispatch()})}).catch(function(e){n.NotificationService.showFailApiMessage(e),n.subscriptionLoading=!1})},e.$inject=["AuthorizationService","NotificationService"],e}(qn.a),ne=t(536),ee=t(754),te=t(79),ae=t(268),oe=t(663),ie=t(807),re=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(r.d)(e,n),e}(c.b),se=t(173),le=t(1561),ce=t(1594),de=t(1486),pe={id:{},currentUserPermission:{},title:{},expirationDate:{},expired:{},type:{},fullUsersLimit:{},remainingFullLicenseNumber:{}},ue=function(){function n(){}return n.prototype.init=function(n){this.options=n},n.prototype.buyExistingTeam=function(n,e){return this.showNewUpgradePayment(n)?this.openPaymentModal(n):(this.buyExistingTeamOnSite(n.id,e),Promise.resolve())},n.prototype.openPricing=function(n,e,t){return Object(r.b)(this,void 0,In.PaymentOperationsPromise,function(){var a;return Object(r.e)(this,function(o){switch(o.label){case 0:return this.showNewUpgradePayment(n)?(a=void 0,t?[4,Object(Y.e)(n.id,S.a.TWO_CLICK_UPGRADE).catch(function(){})]:[3,2]):[3,3];case 1:a=o.sent(),o.label=2;case 2:return a&&a.variation===N.a.B?[2,this.changePlan(n,se.a.TEAM,e)]:[2,this.openPaymentModal(n)];case 3:return this.openPricingOnSite(),[2,Promise.resolve()];case 4:return[2]}})})},n.prototype.openPricingByAccountId=function(n,e,t){var a=this;return this.updateAccount({id:n}).then(function(n){return a.openPricing(n,e,t)})},n.prototype.buyNewTeam=function(n,e,t,a){return this.showNewUpgradePayment(n)?this.openPaymentModal(n):(this.buyNewTeamOnSite(e,t,a),Promise.resolve())},n.prototype.resubscribeTeam=function(n,e){return this.showNewUpgradePayment(n)?this.openPaymentModal(n):(this.resubscribeTeamOnSite(n.id,e),Promise.resolve())},n.prototype.resubscribeEducation=function(n){return this.showNewUpgradePayment(n)?this.openPaymentModal(n):(this.resubscribeEducationOnSite(),Promise.resolve())},n.prototype.getPaymentModal=function(n){if(this.showNewUpgradePayment(n))return this.openPaymentModal(n);var e=Object(z.a)().show(Wn({accountId:n.id}));return this.windowToPromiseResult(e)},n.prototype.showNewUpgradePayment=function(n){return Pn(n,this.options)},n.prototype.updateAccount=function(n){return v.a.accounts.selectById(n.id).get({fields:"features,usersNumber,boardsNumber,limits,currentUserPermission,role,title,expirationDate,credits,expired,type,trialData,abTests"}).then(function(e){return Sn()(jn()(n),e)})},n.prototype.updateOrganization=function(n){var e=this;return v.a.organizations.selectById(n).get({fields:te.c.createFieldStr(pe)}).then(function(n){return e.adaptOrganizationToPaymentEntity(n)})},n.prototype.adaptOrganizationToPaymentEntity=function(n){var e=Object(H.g)();return{id:n.id,features:[],usersNumber:n.fullUsersLimit-n.remainingFullLicenseNumber,boardsNumber:0,limits:{editorsPerBoard:e,usersPerBoard:e,boardsPerAccount:e,activeBoardsPerAccount:e,usersPerAccount:n.fullUsersLimit},currentUserPermission:n.currentUserPermission,title:n.title,expirationDate:n.expirationDate,credits:void 0,expired:n.expired,trial:!1,type:n.type}},n.prototype.updatePlanContext=function(n){var e=this.updatePaymentEntity(n),t=v.a.billing.getPlans();return Promise.all([e,t])},n.prototype.updatePaymentEntity=function(n){return Object(M.a)(n)?this.updateOrganization(n.organization.id):Object(M.pb)(n)?this.updateOrganization(n.id):this.updateAccount(n)},n.prototype.openPaymentModal=function(n){var e=this,t=this.updatePlanContext(n),a=this.showLoader();return t.then(function(n){var t=n[0],o=n[1];return new Promise(function(n,i){e.sendStat(t);var s=Object(r.a)(Object(r.a)({},e.options),{onPaymentFinish:n,onPaymentCancel:i}),l=new Tn.a(t,s).getPlans(o);a.cancel(),Object(z.a)().show(Object(kn.a)({plans:l}));var c=[ie.a.OPENED_PRICING];Object(M.fb)(t)&&t.usersNumber>=20&&c.push(ie.a.OPENED_PRICING_FREE_TEAM_MORE_20),Object(oe.a)().showByEvent(c)})})},n.prototype.windowToPromiseResult=function(n){return new Promise(function(e,t){n.canceled.addOnce(t),n.submitted.addOnce(e)})},n.prototype.sendStat=function(n){var e=M.f(n.boardsNumber,n.usersNumber),t=M.P(n);M.W(n)?y.bj(e,t):y.cj(e,!0,t);var a=Object(r.a)(Object(r.a)({},Object(T.a)(n)),{credits_abtest:Object(M.Q)(n,On.a.CREDITS),credits_active:n.credits&&n.credits.totalSumCents||0,account_users_number:n.usersNumber});y.k.showInappPricing(a)},n.prototype.showLoader=function(){return Object(z.a)().show((n={},Object(W.a)(),s.a(l.a.LOADER,re,t(4577),Object(r.a)({enableSubmitByEnter:!1,enableCloseByBackground:!1,enableCloseByEscape:!1,enableSubmitByCtrlEnter:!1,enableAutoClose:!0},n))));var n},n.prototype.changeMemberCount=function(n,e,t,a,o,i){var s=this;void 0===t&&(t=!0),void 0===a&&(a=!1),void 0===o&&(o=!1);var l=this.showLoader();return this.updatePlanContext(n).then(function(n){var c=n[0],d=n[1];return new Promise(function(n,p){var u=Object(r.a)(Object(r.a)({},s.options),{onPaymentFinish:n,onPaymentCancel:p,requiredMemberCount:i}),m=new Mn.a(c,u,d);m.canChangeMemberCount=t,m.canChangePaymentPeriod=a;var b=new(new Tn.a(c,u).getSubscribedPlanConstructor())(m);e&&(b.selectedValue=e),b.signals.loaded.addOnce(function(){l.cancel(),Object(z.a)().show(Object(Rn.a)({plan:b,context:m,doNotOpenSuccessModal:o,openedFrom:A.a.SETTINGS}))})})}).catch(function(n){throw l.cancel(),n})},n.prototype.changeBillingPeriod=function(n,e,t,a){var o=this;if(void 0===t&&(t=!1),void 0===a&&(a=!0),!Object(M.pb)(n)&&Object(M.sb)(n))return this.showSubscriptionSwitchForPersonalAccount(n).then(function(){return window.location.reload()});var i=this.showLoader();return this.updatePlanContext(n).then(function(n){var s=n[0],l=n[1];return new Promise(function(n,c){var d=Object(r.a)(Object(r.a)({},o.options),{onPaymentFinish:n,onPaymentCancel:c}),p=new Mn.a(s,d,l);p.canChangeMemberCount=t,p.canChangePaymentPeriod=a;var u=new(new Tn.a(s,d).getSubscribedPlanConstructor())(p);u.paymentInterval=e,u.signals.loaded.addOnce(function(){i.cancel(),Object(z.a)().show(Object(Rn.a)({plan:u,context:p,openedFrom:A.a.SETTINGS}))})})}).catch(function(n){throw i.cancel(),n})},n.prototype.openPastDueInvoicesPurchaseModal=function(n){var e=this,t=this.showLoader();return this.updatePaymentEntity(n).then(function(n){return Object(Y.f)(n.id).then(function(a){return a.length?new Promise(function(o,i){var s=Object(r.a)(Object(r.a)({},e.options),{onPaymentFinish:o,onPaymentCancel:i,pastDueInvoices:a}),l=new Mn.a(n,s);l.canChangePaymentPeriod=!1,l.canChangeMemberCount=!1;var c=new(new Tn.a(n,s).getSubscribedPlanConstructor())(l);c.signals.loaded.addOnce(function(){t.cancel(),Object(z.a)().show(Object(Rn.a)({plan:c,context:l,openedFrom:A.a.PAST_DUE_INVOICE_NOTIFICATION}))})}):void t.cancel()})}).catch(function(n){throw t.cancel(),n})},n.prototype.payPastDueInvoices=function(n,e){return Object(r.b)(this,void 0,In.PaymentOperationsPromise,function(){var t,a;return Object(r.e)(this,function(o){switch(o.label){case 0:return t=function(n){throw{street:!1,city:!1,country:!1,card:!0,msg:n.message||te.b.getJsonError(n).message,zipError:!1}},e.isNewCard&&e.subscription.card?(a={},Object.keys(e.info).forEach(function(n){e.info[n]&&(a[n]=e.info[n])}),[4,Promise.all([v.a.billing.selectById(n).updateCard(e.subscription.card),v.a.billing.selectById(n).updateInfo(a)])]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2,v.a.billing.selectById(n).payPastDueInvoices().catch(function(n){return t(n)})]}})})},n.prototype.requestCompanyPlan=function(n){var e=this.showLoader();this.updatePlanContext(n).then(function(n){var t=n[0],a=n[1],o=new Mn.a(t,void 0,a),i=new En.a(o),r=ae.a.COMPANY_INQUIRY_APP;i.signals.loaded.addOnce(function(){e.cancel(),Object(z.a)().show(Object(Dn.a)({plan:i,context:o,leadSource:r}))})}).catch(function(n){throw e.cancel(),n})},n.prototype.changePlan=function(n,e,t){var a=this,o=function(n,e,a){n.signals.loaded.addOnce(function(){switch(i.cancel(),a&&a.abTests&&a.abTests.paymentWindowVariation){case N.a.A:Object(z.a)().show(Object(Rn.a)({plan:n,context:e,showTestimonial:!0,openedFrom:t}));break;case N.a.B:Object(z.a)().show(Object(le.a)({plan:n,context:e,openedFrom:t}));break;case N.a.C:default:Object(z.a)().show(Object(Rn.a)({plan:n,context:e,openedFrom:t}))}})},i=this.showLoader();return this.updatePlanContext(n).then(function(n){var t=n[0],i=n[1];return new Promise(function(n,s){var l,c=Object(r.a)(Object(r.a)({},a.options),{onPaymentFinish:n,onPaymentCancel:s}),d=new Mn.a(t,c,i);switch(e){case se.a.TEAM:l=new(new Tn.a(t,c).getTeamPlanConstructor())(d),o(l,d,t);break;case se.a.CONSULTANT:l=new(new Tn.a(t,c).getConsultantPlanConstructor())(d),o(l,d,t);break;case se.a.BUSINESS:l=new(new Tn.a(t,c).getBusinessPlanConstructor())(d),o(l,d,t)}})}).catch(function(n){throw i.cancel(),n})},n.prototype.showSubscriptionSwitchForPersonalAccount=function(n){var e,a=Object(z.a)().show((e={size:1,receiverId:n.id},Object(ee.a)(),Object(ne.a)(),t(2166),s.a(l.a.SUBSCRIPTION_SWITCH_PREMIUM,Xn,t(2167),Object(r.a)({modalType:"switch",planType:Gn.PREMIUM.toLowerCase(),enableCloseByBackground:!1},e))));return this.windowToPromiseResult(a)},n.prototype.openPricingOnSite=function(){on.u().navigateTo()},n.prototype.buyExistingTeamOnSite=function(n,e){this.openPaymentOnSite(Qn.TEAM_YEAR,Gn.TEAM,e,n)},n.prototype.buyNewTeamOnSite=function(n,e,t){this.openPaymentOnSite(Qn.TEAM_YEAR,Gn.TEAM,n,null,e,t)},n.prototype.resubscribeTeamOnSite=function(n,e){this.openResubscribeOnSite(Qn.TEAM_YEAR,Gn.TEAM,e,n)},n.prototype.resubscribeEducationOnSite=function(){on.j().navigateTo()},n.prototype.openPaymentOnSite=function(n,e,t,a,o,i){var r="/pricing/payment/?planId="+n+"&planType="+e;t&&Number.isInteger(t)&&(r+="&quantity="+this.fixQuantity(e,t)),a&&(r+="&teamId="+a),o&&(r+="&name="+o),i&&(r+="&phone="+i),on.k(r).navigateTo()},n.prototype.openResubscribeOnSite=function(n,e,t,a){var o="/pricing/resubscribe/?planId="+n+"&planType="+e+"&quantity="+(t=this.fixQuantity(e,t));a&&(o+="&teamId="+a),on.k(o).navigateTo()},n.prototype.fixQuantity=function(n,e){return n==Gn.PREMIUM?e:Math.max(e,rtb.config.minTeamSize)},n.prototype.openPricingByOrganizationId=function(n){var e=this;return this.updateOrganization(n).then(function(n){return e.openPricing(n)})},n.prototype.buyConsultantPlan=function(n){return new Promise(function(e){v.a.billing.getPlans().then(function(t){var a,o=new Mn.a(n,void 0,t);a=new ce.c(o);var i=Object(z.a)().show(Object(Rn.a)({plan:a,context:o}));i.submitted.add(function(){return e(!0)}),i.canceled.add(function(){return e(!1)})})})},n.prototype.buyBusinessPlan=function(n){return new Promise(function(e){v.a.billing.getPlans().then(function(t){var a,o=new Mn.a(n,void 0,t);a=new de.b(o);var i=Object(z.a)().show(Object(Rn.a)({plan:a,context:o}));i.submitted.add(function(){return e(!0)}),i.canceled.add(function(){return e(!1)})})})},n}(),me=function(){function n(){}return n.prototype.init=function(n){this.options=n},n.prototype.buyExistingTeam=function(n,e){return this.showNotificationModal()},n.prototype.openPricing=function(n){return this.showNotificationModal()},n.prototype.openPricingByAccountId=function(n){return this.showNotificationModal()},n.prototype.buyNewTeam=function(n,e,t,a){return this.showNotificationModal()},n.prototype.resubscribeTeam=function(n,e){return this.showNotificationModal()},n.prototype.resubscribeEducation=function(n){return this.showNotificationModal()},n.prototype.showNotificationModal=function(n){return Object(z.a)().show(Object(fn.a)(Object(r.a)({info:!0,title:"Change your plan",text:"Changing your plan is not supported on tablet yet."},n))),Promise.resolve()},n.prototype.getPaymentModal=function(n){if(Pn(n,this.options))return this.showNotificationModal();var e=Object(z.a)().show(Wn({accountId:n.id}));return this.windowToPromiseResult(e)},n.prototype.showNewUpgradePayment=function(n){return!1},n.prototype.windowToPromiseResult=function(n){return new Promise(function(e,t){n.canceled.addOnce(t),n.submitted.addOnce(e)})},n.prototype.changeMemberCount=function(n,e,t,a,o,i){return void 0===t&&(t=!0),void 0===a&&(a=!1),this.showNotificationModal()},n.prototype.changeBillingPeriod=function(n,e,t,a){return void 0===t&&(t=!1),void 0===a&&(a=!0),this.showNotificationModal()},n.prototype.openPastDueInvoicesPurchaseModal=function(n){return this.showNotificationModal()},n.prototype.payPastDueInvoices=function(n,e){return this.showNotificationModal()},n.prototype.requestCompanyPlan=function(n){this.showNotificationModal()},n.prototype.changePlan=function(){return this.showNotificationModal()},n.prototype.showSubscriptionSwitchForPersonalAccount=function(n){return this.showNotificationModal()},n.prototype.openPricingOnSite=function(){this.showNotificationModal()},n.prototype.buyExistingTeamOnSite=function(n,e){this.showNotificationModal()},n.prototype.buyNewTeamOnSite=function(n,e,t){this.showNotificationModal()},n.prototype.resubscribeTeamOnSite=function(n,e){this.showNotificationModal()},n.prototype.resubscribeEducationOnSite=function(){this.showNotificationModal()},n.prototype.openPricingByOrganizationId=function(){return this.showNotificationModal()},n.prototype.buyConsultantPlan=function(){return this.showNotificationModal().then(function(){return!1})},n.prototype.buyBusinessPlan=function(){return this.showNotificationModal().then(function(){return!1})},n}(),be=t(805),he=t(996),ge=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.loading=!1,e.displayLoader=!1,e.showSubmitControls=!0,e}return Object(r.d)(e,n),e.prototype.init=function(){this.loading=this.params.showLoader,this.displayLoader=this.loading},e.prototype.hideLoader=function(){this.loading=!1,this.displayLoader=!1,this.$scope.$digest()},e.prototype.submit=function(){this.displayLoader=!0,this.params.submitListener()},e.prototype.submitOutside=function(){n.prototype.submit.call(this)},e}(c.b),fe=t(477),ye=function(){function n(){}return n.prototype.configure=function(n){this._showFailApiMessage=n},n.prototype.cancelSubscription=function(n){return v.a.billing.selectById(n).updateSubscription({cancelAtPeriodEnd:!0}).then(function(){Object(fe.a)().setReceiverDeprecated()})},n.prototype.getUpcoming=function(n,e){return v.a.billing.selectById(n).getUpcoming(e)},n.prototype.resubscribeAccount=function(n,e,a){return this.checkSubscription(e.id).then(function(a){return new Promise(function(o,i){if(a){var c=Object(z.a)().show((d={receiverId:e.id,showLoader:!0,submitListener:function(){n||c.controller.submitOutside(),o(c.controller)}},t(1490),s.a(l.a.SUBSCRIPTION_SUCCESS_RESUBSCRIBE,ge,t(1491),Object(r.a)({modalType:"resubscribe",invoiceAmount:-1,enableCloseByBackground:!1,enableCloseByEscape:!1},d))));v.a.billing.selectById(e.id).updateSubscription({plan:a.plan.id}).then(function(){Object(fe.a)().setReceiverDeprecated(),c.controller.hideLoader()}).catch(function(n){c.controller.submit(),i(n)})}else Object(M.bb)(e)?Object(I.a)().resubscribeEducation(e):Object(I.a)().openPricing(e);var d})})},n.prototype.checkSubscription=function(n){return new Promise(function(e,t){Object(fe.a)().getReceiver(n).then(function(n){var t=n&&n.customer&&n.customer.subscription&&n.customer.subscription.id;e(t?n.customer.subscription:null)}).catch(t)})},n.prototype.loadStripeV3=function(){return this.loadedStripeV3||(this.loadedStripeV3=Object(he.a)(Object(be.a)("https://js.stripe.com/v3/"))),this.loadedStripeV3},n.prototype.getStripe=function(){return this.loadStripeV3().then(function(){return Stripe(rtb.config.billingStripePublicKey)})},n}(),ve=function(n){return t(1490),s.a(l.a.SUBSCRIPTION_SUCCESS_INCREASE,c.b,t(1491),Object(r.a)({modalType:"increase",invoiceAmount:-1},n))},xe=function(n){function e(e,t){var a=n.call(this,t)||this;return a.AuthorizationService=e,a.NotificationService=t,a.lastInvoiceAmount=-1,a}return Object(r.d)(e,n),e.prototype.init=function(){var e=this;this.params.planType=this.params.planType.toLowerCase();var t=this.params.receiverId,a=this.AuthorizationService.getReceiver(t),o=Object(Jn.a)().getUpcoming(t,{quantity:this.params.size}),i=Object(Jn.a)().getUpcoming(t,{quantity:this.params.subscriptionAmount});Promise.all([a,i,o]).then(function(n){var t=n[0],a=n[1],o=n[2],i=o.total-o.prorationAmount,r=t.customer.subscription.plan.interval;if(e.modalReady(),e.subscriptionPlanId=t.customer.subscription.plan.id,e.params.subscriptionAmount<e.params.size){var s=o.amountDue-i;s<0&&(s=0),e.direction="up",e.params.upcoming=s}else e.direction="down";e.params.teamName=e.params.accountTitle,e.params.last4=t.customer.card.last4,e.params.interval={current:r,upgrade:r},e.params.quantity={current:e.params.subscriptionAmount,upgrade:e.params.size},e.params.price={current:{amount:(a.total-a.prorationAmount)/100},upgrade:{amount:i/100}},e.params.total=e.params.price.upgrade,e.$scope.$digest()}).catch(function(){n.prototype.cancel.call(e),e.NotificationService.show("Something went wrong")})},e.prototype.submit=function(){var e=this;y.fe({paylater_abtest:!1,account_id:this.params.receiverId}),this.subscriptionLoading=!0;var t={quantity:this.params.size};this.couponValue&&this.couponResult&&(t.coupon=this.couponValue),v.a.billing.selectById(this.params.receiverId).updateSubscription(t).then(function(){e.AuthorizationService.setReceiverDeprecated(),e.params.ignoreSuccessModal?(e.stopAnimation(),n.prototype.submit.call(e)):"up"==e.direction?e.loadInvoice():e.showSuccessModal()}).catch(function(n){e.stopAnimation(),e.NotificationService.showFailApiMessage(n)})},e.prototype.cancel=function(){y.Ed({paylater_abtest:!1,account_id:this.params.receiverId}),n.prototype.cancel.call(this)},e.prototype.stopAnimation=function(){this.subscriptionLoading=!1,this.$scope.$digest()},e.prototype.loadInvoice=function(){var n=this;this.AuthorizationService.getReceiver(this.params.receiverId).then(function(e){var t=(e&&e.customer&&e.customer.invoices||[])[0];t&&t.hasOwnProperty("amountDue")&&(n.lastInvoiceAmount=t.amountDue/100),n.showSuccessModal()}).catch(function(){return n.showSuccessModal()})},e.prototype.showSuccessModal=function(){var e=this;this.subscriptionLoading=!1,this.$scope.$digest(),n.prototype.submit.call(this),this.params.ignoreSuccessModal||setTimeout(function(){Object(z.a)().show(ve({planType:"team",direction:e.direction,receiverId:e.params.receiverId,invoiceAmount:e.lastInvoiceAmount,planName:e.params.planName}))})},e.$inject=["AuthorizationService","NotificationService"],e}(qn.a),_e=function(n){return Object(ne.a)(),Object(ee.a)(),t(2166),s.a(l.a.SUBSCRIPTION_INCREASE,xe,t(2167),Object(r.a)({modalType:"increase",planType:Gn.TEAM.toLowerCase(),enableCloseByBackground:!1},n))};!function(n){n[n.DASHBOARD_CAN_ADD_USERS_BUT_NEEDS_RESUBSCRIBE=0]="DASHBOARD_CAN_ADD_USERS_BUT_NEEDS_RESUBSCRIBE",n[n.DASHBOARD_CAN_ADD_USERS=1]="DASHBOARD_CAN_ADD_USERS",n[n.SHARE_CAN_ADD_USERS=2]="SHARE_CAN_ADD_USERS",n[n.SHARE_CAN_ADD_USERS_BUT_NEEDS_RESUBSCRIBE=3]="SHARE_CAN_ADD_USERS_BUT_NEEDS_RESUBSCRIBE",n[n.SHARE_CAN_NOT_ADD_USERS=4]="SHARE_CAN_NOT_ADD_USERS",n[n.SHARE_CAN_ADD_USERS_BUT_NEEDS_INCREASE_SIZE=5]="SHARE_CAN_ADD_USERS_BUT_NEEDS_INCREASE_SIZE",n[n.SETTINGS_CAN_ADD_USERS=6]="SETTINGS_CAN_ADD_USERS",n[n.SETTINGS_CAN_ADD_USERS_BUT_NEEDS_RESUBSCRIBE=7]="SETTINGS_CAN_ADD_USERS_BUT_NEEDS_RESUBSCRIBE",n[n.SETTINGS_CAN_NOT_ADD_USERS=8]="SETTINGS_CAN_NOT_ADD_USERS"}(Vn||(Vn={}));var we=Vn,Ie=function(n){return Object(W.a)(),Object(b.a)(),s.a(l.a.SUBSCRIPTION_RESUBSCRIBE,c.b,t(4578),Object(r.a)({old:{head:"account.commons.modal.subscription.resubscribe.head",content:"account.commons.modal.subscription.resubscribe.description",button:"account.commons.modal.subscription.resubscribe.button"},upgrade:{head:"account.commons.modal.subscription.resubscribe.head_upgrade",content:"account.commons.modal.subscription.resubscribe.description_upgrade",button:"account.commons.modal.subscription.resubscribe.button_upgrade"}},n))},Ce=t(534),Pe=function(n){return t(4579),s.a(l.a.EDUCATION_USERS_LIMIT_REACHED,c.b,t(4581),n)},Te=t(673),Oe=t(247),Me=function(n){function e(e,t,a){var o=n.call(this)||this;return o.$translate=e,o.$filter=t,o.authorizationService=a,o.currentPaymentInfo=void 0,o.needToResubscribe=!1,o.isSetModalHeight=!1,o.messageWasHidden=!1,o.loading=!0,o.loadingPaymentInfoData=!0,o}return Object(r.d)(e,n),e.prototype.init=function(){var n=this;this.currentAccount=this.params.account,Object(M.a)(this.currentAccount)?(this.seatsRemaining=this.currentAccount.organization.remainingFullLicenseNumber,this.seatsMore=this.seatsRemaining-this.params.emails.length):this.currentAccount.usersNumber&&(this.seatsRemaining=this.currentAccount.limits.usersPerAccount-this.currentAccount.usersNumber,this.seatsMore=this.seatsRemaining-this.params.emails.length),this.getConfiguration().then(function(e){return n.setConfiguration(e)})},e.prototype.isNeedToAddTeamWord=function(){return!this.currentAccount.title.toLowerCase().split(" ").includes("team")},e.prototype.getConfiguration=function(){var n=this;switch(this.params.displayConfig){case we.SHARE_CAN_ADD_USERS:return this.sendStatWhoCanAddUsers(),this.seatsMore<0?this.preparePaymentInfoData().then(function(){return n.getConfigurationCanAddUsersFromBoard()}):this.getConfigurationCanAddUsersFromBoard();case we.SHARE_CAN_NOT_ADD_USERS:return this.getConfigurationCanNotAddUsersFromBoard();case we.SHARE_CAN_ADD_USERS_BUT_NEEDS_RESUBSCRIBE:return this.needToResubscribe=!0,this.getConfigurationCanAddUsersFromBoard();case we.SHARE_CAN_ADD_USERS_BUT_NEEDS_INCREASE_SIZE:return this.getConfigurationCanAddUsersFromBoard(!0);case we.DASHBOARD_CAN_ADD_USERS:case we.SETTINGS_CAN_ADD_USERS:return this.seatsMore<0?this.preparePaymentInfoData().then(function(){return n.getConfigurationCanAddUsersFromSettings([])}):this.getConfigurationCanAddUsersFromSettings([]);case we.DASHBOARD_CAN_ADD_USERS_BUT_NEEDS_RESUBSCRIBE:case we.SETTINGS_CAN_ADD_USERS_BUT_NEEDS_RESUBSCRIBE:return this.needToResubscribe=!0,M.z(this.currentAccount,Oe.a.MANAGE_BILLING_SUBSCRIPTION)?this.getConfigurationCanAddUsersFromSettings([]):this.loadAdmins().then(function(e){return n.getConfigurationCanAddUsersFromSettings(e)});default:return Promise.resolve(void 0)}},e.prototype.setConfiguration=function(n){var e=this;this.config=n,this.loading=!1,this.loadingPaymentInfoData=!1,this.$scope.$apply(),this.needToResubscribe&&(y.Ji(this.params.account.id,this.params.emails,this.params.account.type,this.params.account.participantPostInvitationPaymentTest),setTimeout(function(){var n=document.querySelector(".renew-subscription");n&&n.addEventListener("click",e.renewSubscription.bind(e))},0))},e.prototype.loadAdmins=function(){var n=this;return new Promise(function(e){v.a.accounts.selectById(n.currentAccount.id).teamAdmins({fields:"email"}).get({limit:2}).then(function(n){return e(n.data.map(function(n){return n.email}))})})},e.prototype.preparePaymentInfoData=function(){var n=this;return this.loadingPaymentInfoData=!0,new Promise(function(e,t){var a=n.authorizationService.getReceiver(n.currentAccount.id),o=Object(Y.d)(n.currentAccount.id);Promise.all([a,o]).then(function(t){var a=t[0],o=t[1];n.currentAccount.boardsNumber=o;var i=new x.a(n.currentAccount);n.currentPaymentInfo=new Te.a(i,a,{baseOn:new Te.a(i,a),paymentMemberCount:n.currentAccount.usersNumber+n.params.emails.length}),n.currentPaymentInfo.updated.addOnce(function(){return e()})})})},e.prototype.getConfigurationCanAddUsersFromBoard=function(n){var e=this;return this.messageVisible=this.limitOfSeatsIsExceeded(this.seatsMore)&&!Object(M.a)(this.currentAccount),Promise.resolve({title:"Only "+(Object(M.a)(this.currentAccount)?"full":"")+" members can edit this board",text:"These users are not "+(Object(M.a)(this.currentAccount)?"full":"")+" members of <strong>"+this.currentAccount.title+"</strong>"+(this.isNeedToAddTeamWord()?" team.":".")+" "+(Object(M.a)(this.currentAccount)?"Add new seats to make them full members.":"Add them to the team to give them editing rights for this board."),mainActionText:n?"Purchase seats":"Add to team",mainActionDisabled:function(){return Object(M.a)(e.currentAccount)?!(Object(M.ob)(e.currentAccount.organization)||Object(M.q)(e.currentAccount.organization)):e.limitOfSeatsIsExceeded(e.seatsMore)&&e.needToResubscribe},onMainActionClick:function(){n?e.increaseSizeAndAddToTeam(Math.abs(e.seatsMore)):e.addToTeam(e.seatsMore)},externalActionText:"Invite as commenters",externalActionClass:"rtb-btn--primary-bordered",onExternalActionClick:function(){e.inviteAsCommenters()},message:this.getMessage(this.seatsMore,this.seatsRemaining,[])})},e.prototype.getConfigurationCanNotAddUsersFromBoard=function(){var n=this;return Y.c(this.params.account).then(function(e){return{title:"Only members can edit this board",text:"These users are not members of <strong>"+n.currentAccount.title+"</strong>"+(n.isNeedToAddTeamWord()?" team.":".")+" You can ask your team administrator at <strong>"+e+"</strong> to add them or invite them as commenters yourself.",mainActionText:"Invite as commenters",onMainActionClick:function(){n.inviteAsCommenters()},externalActionText:"Cancel",externalActionClass:"rtb-btn--secondary",onExternalActionClick:function(){n.cancel()}}})},e.prototype.getConfigurationCanAddUsersFromSettings=function(n){var e=this;return this.messageVisible=this.limitOfSeatsIsExceeded(this.seatsMore),Promise.resolve({title:"Increase team size to invite",text:"These users are not members of <strong>"+this.currentAccount.title+"</strong>"+(this.isNeedToAddTeamWord()?" team.":".")+" Add them to the team to give them rights to create and edit boards.",mainActionText:"Add to team",mainActionDisabled:function(){return e.limitOfSeatsIsExceeded(e.seatsMore)&&e.needToResubscribe},onMainActionClick:function(){e.addToTeam(e.seatsMore)},externalActionText:"Cancel",externalActionClass:"rtb-btn--secondary",onExternalActionClick:function(){e.cancel()},message:this.getMessage(this.seatsMore,this.seatsRemaining,n)})},e.prototype.addToTeam=function(e){this.sendStatAddToTeam(Math.abs(e));var t={selectedEmails:this.params.emails,inviteAsCommenters:!1,upgradeClicked:!1,inviteAsExternal:!1};n.prototype.submit.call(this,t)},e.prototype.increaseSizeAndAddToTeam=function(e){var t={selectedEmails:this.params.emails,inviteAsCommenters:!1,upgradeClicked:!1,inviteAsExternal:!1,seatsNumberToIncrease:e};n.prototype.submit.call(this,t)},e.prototype.inviteAsCommenters=function(){y.Xb(this.params.account.id,this.params.account.participantPostInvitationPaymentTest);var e={selectedEmails:this.params.emails,inviteAsCommenters:!0,upgradeClicked:!1,inviteAsExternal:!1};n.prototype.submit.call(this,e)},e.prototype.removeEmail=function(n){var e=this;this.isSetModalHeight||this.setModalHeight(),y.Ah(this.params.account.id,this.params.account.participantPostInvitationPaymentTest),this.params.emails=this.params.emails.filter(function(e){return e!==n}),0===this.params.emails.length&&this.cancel(),setTimeout(function(){return e.recalculateModalHeight()},0),this.config&&(this.seatsMore+=1),this.getConfiguration().then(function(n){return e.setConfiguration(n)})},e.prototype.cancel=function(){n.prototype.cancel.call(this)},e.prototype.renewSubscription=function(e){e.preventDefault(),y.Zc(this.params.account.id,this.params.account.participantPostInvitationPaymentTest),this.needToResubscribe=!1,n.prototype.submit.call(this,{selectedEmails:this.params.emails,inviteAsCommenters:!1,upgradeClicked:!0,inviteAsExternal:!1})},e.prototype.getMessage=function(n,e,t){var a=Math.abs(n);return{caption:this.getMessageCaption(a),text:this.getMessageText(a,e,t),visible:this.limitOfSeatsIsExceeded(n)}},e.prototype.getMessageCaption=function(n){return n+" more paid "+(1===n?"seat":"seats")+" required"},e.prototype.getMessageText=function(n,e,t){return this.needToResubscribe?this.getMessageTextNeedsResubscribe(t):this.getMessageTextForAdmin(n)},e.prototype.getMessageTextForAdmin=function(n){if(this.currentPaymentInfo){if(this.currentPaymentInfo.paymentInterval===C.d.MONTHLY)return"You need to purchase "+n+" more "+(1===n?"seat":"seats")+" at $"+this.currentPaymentInfo.costPerMonthInMonthPlanOneLicence+"/month/seat. A prorated charge will be added to your next monthly payment scheduled for <b>"+this.currentPaymentInfo.prorationPaymentDate+'.</b> See our <a href="https://help.miro.com/hc/en-us/articles/360017571714-How-Am-I-Going-to-Be-Charged-/"\n\t\t\t\t\t\t\t\t\t\t\t\t  target="_blank"\n\t\t\t\t\t\t\t\t\t\t\t\t  class="rtb-link rtb-link--primary">Guide to billing</a> for more info.';if(this.currentPaymentInfo.paymentInterval===C.d.YEARLY)return"You need to purchase "+n+" more "+(1===n?"seat":"seats")+" at $"+this.currentPaymentInfo.costPerMonthInYearPlanOneLicence+"/month/seat. We will bill you <b>$"+this.currentPaymentInfo.totalSum.toLocaleString("en-US")+"</b> on <b>"+this.currentPaymentInfo.prorationPaymentDate+'</b>. See our <a href="https://help.miro.com/hc/en-us/articles/360017571714-How-Am-I-Going-to-Be-Charged-/"\n\t\t\t\t\t\t\t\t\t\t\t\t  target="_blank"\n\t\t\t\t\t\t\t\t\t\t\t\t  class="rtb-link rtb-link--primary">Guide to billing</a> for more info.'}return""},e.prototype.getMessageTextNeedsResubscribe=function(n){var e=n.length;return e>0?"The <strong>"+this.currentAccount.title+"</strong> has been paused, and you can't invite members to this account. To invite members, please ask the account "+(1===e?"administrator":"administrators")+" at <strong>"+n[0]+" "+(e>1?"or "+n[1]:"")+"</strong> to log in and choose a plan.":'<a class="rtb-link rtb-link--primary renew-subscription">Renew your subscription</a> to invite new team members with full collaboration rights. You can add new users as commenters without renewing the subscription.'},e.prototype.getMessageTextForUser=function(n,e,t){return"You need to purchase "+n+" more "+(1===n?"seat":"seats")+" at $10/month/seat.  Please ask administrator at <strong>"+t+"</strong> to increase team size or invite people as commenters."},e.prototype.limitOfSeatsIsExceeded=function(n){return n<0},e.prototype.sendStatWhoCanAddUsers=function(){M.W(this.params.account)?this.limitOfSeatsIsExceeded(this.seatsMore)?y.Li(this.params.account.id,this.params.emails,this.params.account.type,this.params.account.participantPostInvitationPaymentTest):y.Ki(this.params.account.id,this.params.emails,this.params.account.type,this.params.account.participantPostInvitationPaymentTest):this.limitOfSeatsIsExceeded(this.seatsMore)?y.Ni(this.params.account.id,this.params.emails,this.params.account.type,this.params.account.participantPostInvitationPaymentTest):y.Mi(this.params.account.id,this.params.emails,this.params.account.type,this.params.account.participantPostInvitationPaymentTest,this.params.allowAddUser)},e.prototype.sendStatAddToTeam=function(n){var e;switch(this.params.displayConfig){case we.SHARE_CAN_ADD_USERS:e="board_sharing";break;case we.DASHBOARD_CAN_ADD_USERS:e="dashboard_invite_members";break;case we.SETTINGS_CAN_ADD_USERS:default:e="settings_invite_members"}y.ac(this.params.account.id,this.params.account.participantPostInvitationPaymentTest,e,n)},e.prototype.sendStatCloseModal=function(){this.needToResubscribe?y.Kd(this.params.account.id,this.params.account.participantPostInvitationPaymentTest):this.limitOfSeatsIsExceeded(this.seatsMore)?M.W(this.params.account)?y.Md(this.params.account.id,this.params.account.participantPostInvitationPaymentTest):y.Od(this.params.account.id,this.params.account.participantPostInvitationPaymentTest):M.W(this.params.account)?y.Ld():y.Nd()},e.prototype.setModalHeight=function(){this.modalContentElement=document.querySelectorAll(".invite-editors-to-board-and-team .rtb-modal-container")[0];var n=this.modalContentElement.clientHeight;this.emailsElementHeight=this.modalContentElement.querySelectorAll(".scrollable-list")[0].clientHeight,this.messageElementHeight=this.modalContentElement.querySelectorAll(".rtb-modal-footer")[0].clientHeight,this.modalContentElement.style.height=n+"px",this.isSetModalHeight=!0},e.prototype.recalculateModalHeight=function(){var n=this,e=this.modalContentElement.querySelectorAll(".scrollable-list")[0].clientHeight,t=this.emailsElementHeight-e,a=this.config&&this.config.message&&!this.config.message.visible;if(t||a){if(a&&!this.messageWasHidden)t+=this.messageElementHeight,this.messageWasHidden=!0,this.modalContentElement.querySelectorAll(".rtb-modal-footer")[0].style.opacity="0",setTimeout(function(){n.messageVisible=!1,n.$scope.$apply()},1e3);this.modalContentElement.style.height=this.modalContentElement.clientHeight-t+"px",this.emailsElementHeight=e}},e.$inject=["$translate","$filter","AuthorizationService"],e}(c.b),Ee=function(n){return Object(b.a)(),t(4583),s.a(l.a.INCREASE_TEAM_SIZE_OR_ADD_TO_BOARD,Me,t(4585),n)},Ae=t(648),Se=t(292),Ne=function(n){function e(){return n.call(this,"LIMIT_REACHED_FOR_EDUCATION_TEAM","LimitReachedForEducationTeamInvitationError")||this}return Object(r.d)(e,n),e}(Se.a),je=function(n){function e(){return n.call(this,"NOT_IMPLEMENTED","NotImplementedInvitationError")||this}return Object(r.d)(e,n),e}(Se.a),ke=t(2146),De=t(2145),Re=t(937),Le=t(2144),Ue=function(n){function e(){return n.call(this,"CHANGE_TRIAL_LIMIT_FAIL","ChangeTrialLimitInvitationError")||this}return Object(r.d)(e,n),e}(Se.a),Be=t(1473),ze=t(104);function Fe(n,e,t,a,o,i){return function(n,e,t,a){if(!e)return Promise.resolve(we.SHARE_CAN_NOT_ADD_USERS);var o;o=Object(M.a)(n)?n.organization.remainingFullLicenseNumber-t.length<=0:n.limits.usersPerAccount-n.usersNumber-t.length<0;return o?Ye(a,n.id).then(function(e){return e.isCanceled||e.isOfflineInvoicing?Object(M.q)(n)?we.SHARE_CAN_ADD_USERS_BUT_NEEDS_RESUBSCRIBE:we.SHARE_CAN_NOT_ADD_USERS:Object(M.m)(n)?we.SHARE_CAN_ADD_USERS:we.SHARE_CAN_ADD_USERS_BUT_NEEDS_INCREASE_SIZE}).catch(function(){return we.SHARE_CAN_NOT_ADD_USERS}):Promise.resolve(we.SHARE_CAN_ADD_USERS)}(n,t,e,a).then(function(t){return He(n,e,t,i).then(function(e){return Ve(n,e,!1,a,o)}).then(function(e){return function(n,e){if(Object(M.a)(n)&&e.seatsNumberToIncrease&&e.seatsNumberToIncrease>0){var t=n.organization&&n.organization.fullUsersLimit+e.seatsNumberToIncrease;return Object(ze.a)(function(){return Object(C.f)()}).then(function(a){return a.changeMemberCount(n,t,!0,!1,!0,t).then(function(){return Promise.resolve(e)}).catch(function(){return Promise.resolve(e)})})}return Promise.resolve(e)}(n,e)}).then(function(n){return{emails:n.selectedEmails,inviteAsCommenters:n.inviteAsCommenters,inviteAsExternal:!1}})})}function $e(n,e,t,a,o){if(M.db(n))return Ge(n,t,a);if(n.type===F.a.EDUCATION_TEAM)throw y.ti(),Object(z.a)().show(Pe({emptySeatsCount:n.limits.usersPerAccount-n.usersNumber})),new Ne;return Ye(o,n.id).then(function(i){return Object(M.m)(n)?function(n,e,t,a,o){var i=a?we.SETTINGS_CAN_ADD_USERS_BUT_NEEDS_RESUBSCRIBE:we.SETTINGS_CAN_ADD_USERS;void 0!=e&&(e===Ce.a.DASHBOARD&&(i=a?we.DASHBOARD_CAN_ADD_USERS_BUT_NEEDS_RESUBSCRIBE:we.DASHBOARD_CAN_ADD_USERS),e===Ce.a.SHARE&&(i=a?we.SHARE_CAN_ADD_USERS_BUT_NEEDS_RESUBSCRIBE:we.SHARE_CAN_ADD_USERS));return new Promise(function(e,a){He(n,t,i).then(function(e){return Ve(n,e,!0,o)}).then(function(n){n.inviteAsCommenters?a(new je):e(n.selectedEmails)}).catch(function(){return a(new ke.a)})})}(n,e,t,i.isCanceled,o).then(function(n){return a(n)}):i.isCanceled||i.isOfflineInvoicing?Ge(n,t,a):Qe(n,t,a)})}function Ye(n,e){return n.getReceiver(e).then(function(n){return{isCanceled:Object(M.Jb)(n),isOfflineInvoicing:n.state===Ae.a.CUSTOM}})}function He(n,e,t,a){return new Promise(function(o,i){var r=Object(z.a)().show(Ee({emails:e,account:n,displayConfig:t}));r.submitted.addOnce(function(n){return o(n)}),r.canceled.addOnce(function(){a&&a({emails:e}),i()})})}function Ve(n,e,t,a,o){return e.upgradeClicked?We(n,a,o,function(a,o){return function(n,e,t,a,o){var i=e?we.SETTINGS_CAN_ADD_USERS:we.SHARE_CAN_ADD_USERS;return He(n,t.selectedEmails,i).then(function(n){return a(n)}).catch(o)}(n,t,e,a,o)}):Promise.resolve(e)}function We(n,e,t,a){return new Promise(function(o,i){var r,s=Object(z.a)().show(Object(fn.a)({loading:!0,loaderText:"Please wait, subscription is renewing\u2026"}));(r=n.id,v.a.billing.selectById(r).updateSubscription({cancelAtPeriodEnd:!1})).then(function(){e.setReceiverDeprecated(),s.cancel();var n=Object(z.a)().show(Object(fn.a)({title:"Subscription was renewed",text:"Please note, that there is still unused time on your current subscription, and you haven\u2019t been charged. When this subscription expires, your card will be charged for renewal.",success:!0}));a?n.closed.addOnce(function(){a(o,i)}):o()}).catch(function(n){t&&t.showFailApiMessage(n),s.cancel(),i()})})}function Ge(n,e,t){return new Promise(function(a,o){if(wn.a.upgradeIsSupported){var i=M.db(n)||M.cb(n),r=i?"upgrade":"old";Object(z.a)().show(Ie({key:r})).submitted.addOnce(function(){i?Object(I.a)().buyExistingTeam(n,n.limits.usersPerAccount).then(a).catch(function(){return o(new Re.a)}):Object(Jn.a)().resubscribeAccount(!1,n,n.limits.usersPerAccount).then(function(){return Qe(n,e,t)}).then(a).catch(o)})}else o(new De.a)})}function Qe(n,e,t){return function(n,e){if(e>rtb.config.maxTeamSize)return Promise.reject(new Le.a(n.limits));if(n.trial)return function(n,e){return new Promise(function(t,a){v.a.accounts.selectById(n.id).set({usersLimit:e}).then(function(n){return n.success?t():a(new Ue)}).catch(function(){return a(new Ue)})})}(n,e);return function(n,e){return new Promise(function(t,a){var o=Object(z.a)().show(_e({size:e,seats:n.limits.usersPerAccount-n.usersNumber,receiverId:n.id,enableCloseByBackground:!1,accountTitle:n.title,planType:n.type,subscriptionAmount:n.limits.usersPerAccount,planName:Object(M.M)(n)}));o.submitted.addOnce(t),o.canceled.addOnce(function(){return a(new Be.a)})})}(n,e)}(n,n.usersNumber+e.length).then(function(){return t(e)})}var qe,Je=t(72),Ze=t(60),Ke=((qe={})[se.a.TEAM]={primaryFeatures:[{image:t(4586),title:"Unlimited and private boards",description:"Create and edit board without limits and manage access rights for them."},{image:t(4587),title:"Custom templates",description:"Set up your own templates gallery and re-use them with your team."},{image:t(4588),title:"Guest access to boards",description:"Work easily with people from outside your team by inviting them to one or more boards."},{image:t(4589),title:"Integrations",description:"Integrate Miro with Jira, Confluence, Slack, etc. to bring your work into one place."}],secondaryFeatures:{heading:"With Team plan you can also",portrait:["Group boards by projects","Export in high resolution","Backup boards","Get customer support"],landscape:["Group boards by projects to organize them","Export in high resolution and backup boards","Get help from customer support"]},getTitle:function(n,e){return"You have "+n+" boards and "+e+" users \u2013 the&nbsp;next&nbsp;step is Team plan!"},submitButtonText:"Upgrade to Team plan"},qe[se.a.CONSULTANT]={primaryFeatures:[{image:t(1492),title:"Private, secure team for each client",description:"Organize client projects in private workspaces for smoother, more streamlined project management."},{image:t(2169),title:"Day Passes for occasional users",description:"Provide 24-hour access to short-term collaborators like key stakeholders, workshop attendees, and more."},{image:t(2170),title:"Advanced user management",description:"Rest easy knowing you have complete control\nover access levels to maintain privacy and\nsecurity of client information."}],secondaryFeatures:{heading:"With Consultant plan, you also get",portrait:["Group boards by projects","Integrations","Custom templates","High-resolution export"]},getTitle:function(){return"Improve collaboration on client projects with the Consultant plan"},submitButtonText:"Upgrade",cancelButtonText:"Stay on Free Plan"},qe[se.a.COMPANY]={primaryFeatures:[{image:t(1492),title:"Workspace for each team",description:"Organize project in private workspaces for smoother, more streamlined project management."},{image:t(2171),title:"Guest access to boards",description:"Collaborate with people outside your organization with the ability to invite them as external editors."},{image:t(2170),title:"Advanced user management",description:"Rest easy knowing you have complete control over access levels to maintain privacy and security of client information."}],secondaryFeatures:{heading:"With Enterprise Plan you also get",portrait:["Advanced security: domain filtering and audit logs","Advanced permissions and administration","Dedicated customer success manager","Personalized onboarding program"]},getTitle:function(n,e){return"You reached "+e+" team members \u2013 the next step is Enterprise Plan!"},submitButtonText:"Contact us",cancelButtonText:"No thanks"},qe[se.a.BUSINESS]={primaryFeatures:[{image:t(1492),title:"Advanced security",description:"SSO/SAML gives your team members access to Miro through ADFS, Azure, Okta, Onelogin, or your custom Identity Provider."},{image:t(2169),title:"Day passes for occasional users",description:"Provide 24-hour access to short-term collaborators like key stakeholders, workshop attendees, and more."},{image:t(2171),title:"Guest access to boards",description:"Work easily with people from outside your team by inviting them to one or more boards."}],secondaryFeatures:{heading:"With Business plan you can also",portrait:["Group boards by projects","Edit unlimited boards","Customize templates","Export in high resolution"]},getTitle:function(){return"Get advanced security with Business plan"},submitButtonText:"Upgrade",cancelButtonText:"Stay on Free Plan"},qe),Xe=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.loading=!0,e.submitted=!1,e}return Object(r.d)(e,n),e.prototype.init=function(){if(this.config=Ke[this.params.targetPlanIdent],this.title=this.config.getTitle(this.params.boardsNumber,this.params.usersNumber),this.isCancelButtonVisible=!!this.config.cancelButtonText,this.params.centsCredits){this.isCreditsInfoVisible=!0;var n=this.params.creditsMonthsCount||0;this.creditsInfoText=n>0?"...and get <b>"+n+" free month"+(n>1?"s":"")+"</b> with $"+this.params.centsCredits/100+" credits!":"...and apply your <b>$"+this.params.centsCredits/100+" of credits</b> to payment."}this.loading=!1},e.prototype.submit=function(){this.params.submitHandler&&(this.params.submitHandler(),this.submitted=!0),n.prototype.submit.call(this)},e.prototype.close=function(){this.params.cancelHandler&&this.params.cancelHandler(),n.prototype.cancel.call(this)},Object.defineProperty(e.prototype,"isCompanyPlan",{get:function(){return this.params.targetPlanIdent===se.a.COMPANY},enumerable:!0,configurable:!0}),e}(c.a),nt=function(n){return Object(W.a)(),Object(b.a)(),t(4590),s.a(l.a.COMPLEX_TRIGGER,Xe,t(4592),Object(r.a)(Object(r.a)({},n),{enableCloseByBackground:!1,enableCloseByEscape:!1,enableSubmitByEnter:!0}))},et=t(943),tt=t(126),at=t(112),ot=y.f.StatFeatureList;var it=t(265),rt=t(92),st=t(142),lt=t(909),ct=t(110),dt=t(213),pt=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.hasExternalAction=!1,e.loading=!1,e.config={imgIdent:i.PADLOCK,title:"",text:""},e.isNewButtonsOrder=!1,e}return Object(r.d)(e,n),e.prototype.init=function(){var n=this;this.params.boardInfo?(this.boardInfo=this.params.boardInfo,this.prepare()):(this.loading=!0,v.a.boards.selectById(this.params.boardId).get({fields:"id,currentUserPermission,account{id,currentUserPermission}"}).then(function(e){n.boardInfo=e,n.prepare()}).catch(function(){return n.close()}).then(function(){return n.loading=!1}))},e.prototype.prepare=function(){return Object(r.b)(this,void 0,void 0,function(){var n=this;return Object(r.e)(this,function(e){switch(e.label){case 0:return this.boardInfo?[4,v.a.accounts.selectById(this.boardInfo.account.id).experiments.get(S.a.TRIGGERS_BUTTONS_ORDER).then(function(e){return n.isNewButtonsOrder=e&&e.running&&e.variation===N.a.B})]:[3,2];case 1:e.sent(),this.sendStatForFreeTeam(this.boardInfo),e.label=2;case 2:return this.config=this.getConfiguration(this.boardInfo,this.params.config),this.hasExternalAction=!!this.config.externalActionText&&!!this.config.onExternalActionClick,[2]}})})},e.prototype.sendStatForFreeTeam=function(n){Object(M.fb)(n.account)&&y.f.openLockedPrivateBoard(Object(r.a)(Object(r.a)({},Object(T.a)(n.account)),{board_id:n.id,board_role:n.currentUserPermission&&n.currentUserPermission.role}))},e.prototype.getConfiguration=function(n,e){switch(e){case lt.a.USER_IS_NOT_LOGGED_IN:return this.getConfigForUserIsNotLoggedIn(n.id);case lt.a.REQUEST_TO_JOIN_TO_ACCOUNT:return this.getConfigForRequestToJoin();case lt.a.COMMON_PRIVATE_BOARD:return this.getConfigForPrivateBoard(n)}},e.prototype.getConfigForPrivateBoard=function(n){return Object($.a)().userType!==rt.a.REGULAR?this.getConfigForUserIsNotLoggedIn(n.id):Object(it.d)(n,st.a.EDIT_WIDGETS)&&Object(it.d)(n,st.a.SHARE_BOARD_ON_ACCOUNT)?this.getConfigForEditor():this.getConfigForMemberOfOrNot(n)},e.prototype.getConfigForUserIsNotLoggedIn=function(n){return on.x(n),{title:"Request permission",imgIdent:i.PADLOCK,text:'Sorry, you can\'t access this board because it is locked for external collaborators. Please <a target="_self" class="rtb-link rtb-link--primary" href="/login">log in</a> or <a target="_self" href="/signup" class="rtb-link rtb-link--primary">sign up</a>.'}},e.prototype.getConfigForEditor=function(){var n=this;return{title:"This private board is locked",text:"Your team is on Free plan, which doesn't support private boards. To continue working with this board, make it available to all team members or upgrade your plan to manage privacy settings.",imgIdent:i.PADLOCK,mainActionText:"Upgrade now",onMainActionClick:function(){n.upgrade()},externalActionText:"Share with your team",onExternalActionClick:function(){n.shareWithTeam(dt.a.EDIT)}}},e.prototype.getConfigForMemberOfOrNot=function(n){var e=this;return n.account.currentUserPermission?{title:"This private board is locked",text:"Your team is on Free plan, which doesn't support private boards. To access the board, upgrade your plan or request board editors to share the board with the whole team.",imgIdent:i.PADLOCK,mainActionText:"Upgrade now",onMainActionClick:function(){e.upgrade()}}:this.getConfigForRequestToJoin()},e.prototype.getConfigForRequestToJoin=function(){var n=this;return{title:"Request permission",text:"Sorry, you can't access this board because you are not a member of the team it belongs to. You are logged in as <strong>"+Object($.a)().userInfo.email+"</strong>.",imgIdent:i.PADLOCK,mainActionText:"Request to join",onMainActionClick:function(){n.request()}}},e.prototype.shareWithTeam=function(n){var e=this;this.boardInfo?Object($.a)().getAccountAsync(this.boardInfo.account.id).then(function(t){e.boardInfo&&(y.f.shareLockedPrivateBoardWithTheTeam(Object(r.a)(Object(r.a)({},Object(T.a)(t)),{board_id:e.boardInfo.id,board_role:e.boardInfo.currentUserPermission.role})),v.a.boards.selectById(e.boardInfo.id).changeTeamSharingPolicy(n).then(function(){return e.submit()}).catch(function(){return e.close()}))}):this.close()},e.prototype.upgrade=function(){var n=this;this.boardInfo&&Object($.a)().getAccountAsync(this.boardInfo.account.id).then(function(n){var e=Object(T.c)(n,y.f.StatFeatureList.private_board_locked);y.f.clickUpgrade(e),Object(O.a)().sendApiEvent("click_upgrade",e)}),this.boardInfo?(ct.c(),Object(C.f)().then(function(e){return e.openPricingByAccountId(n.boardInfo.account.id)}).then(function(){return n.submit()}).catch(function(){return n.reopen()})):this.close()},e.prototype.request=function(){var n=this;if(this.boardInfo){var e={fromBoardId:this.boardInfo.id};v.a.accounts.selectById(this.boardInfo.account.id).join(e).then(function(e){!1===e.success?(n.config={title:"Request has been sent",text:"The request for access has been sent. If the owner approves the request, you will receive an email notification. You are logged in as <strong>"+Object($.a)().userInfo.email+"</strong>.",imgIdent:i.ENVELOPES,mainActionText:"Go to dashboard",onMainActionClick:function(){n.close()}},n.$scope.$digest()):n.submit()}).catch(function(n){return Object(q.a)().showErrorByData(n)})}else this.close()},e.prototype.submit=function(){n.prototype.submit.call(this),window.location.reload()},e.prototype.close=function(){n.prototype.cancel.call(this),Object(Je.a)().openDashboard()},e.prototype.reopen=function(){n.prototype.cancel.call(this),Object(z.a)().show(ut({config:lt.a.COMMON_PRIVATE_BOARD,boardInfo:this.boardInfo}))},e}(c.a),ut=function(n){return t(4593),g(),s.a(l.a.BOARD_IS_PRIVATE_FOR_ACCOUNT,pt,t(4595),Object(r.a)({enableCloseByBackground:!1,enableCloseByEscape:!1},n),function(n){var e={alert:!0,caption:"The board is locked",text:mt(n.config)};return Sn()(n,e)}(n))};function mt(n){return n===lt.a.REQUEST_TO_JOIN_TO_ACCOUNT?"Only team members can work with this board, please request membership":n===lt.a.COMMON_PRIVATE_BOARD?"To continue working with this board, please share it within your team":n===lt.a.USER_IS_NOT_LOGGED_IN?"Board is locked for external collaborators, please log in or sign up":""}var bt=function(n){function e(e,t){var a=n.call(this)||this;return a.$translate=e,a.PageService=t,a.prorationText="",a.boardsLimitInFreePlan=H.a,a}return Object(r.d)(e,n),e.prototype.init=function(){var n=this.params.upcomingInvoice?this.params.upcomingInvoice.prorationAmount:0,e=this.params.postPaymentDayPassesAmount||0;(n>0||e>0)&&(this.prorationText="You will be charged "),n>0&&(this.prorationText+="$"+n/100+" for the additional seats you added "),n>0&&e>0&&(this.prorationText+="and "),e>0&&(this.prorationText+="$"+e/100+" for unpaid Day Passes you used "),this.prorationText&&(this.prorationText+="in the current billing cycle."),this.isTrialTeam=Object(P.e)(this.params.account),this.isTrialTeam&&this.handleTrialData()},e.prototype.onChangePaymentMethod=function(){n.prototype.cancel.call(this),this.PageService.changeBillingMethod(this.params.account.id)},e.prototype.onChangeTeamSize=function(){var n=this;y.Bb(this.params.account.id,this.params.account.participantPostInvitationPaymentTest),Object(I.a)().changeMemberCount(this.params.account).then(function(){return n.params.onSubscriptionChange&&n.params.onSubscriptionChange()})},e.prototype.handleTrialData=function(){var n=this,e=this.params.account;v.a.accounts.selectById(e.id).get({fields:"limits,projects"}).then(function(e){n.projectsNumber=e.projects&&e.projects.length||void 0}),v.a.applications.getPublishedApps().then(function(e){n.premiumApps=e.filter(function(n){return!n.availableAccountTypes.includes(F.a.FREE_TEAM_2018)}).map(function(n){return n.name}).join(", ")}),this.boardsNumber=e.boardsNumber},e.$inject=["$translate","PageService"],e}(c.b),ht=function(n){return Object(W.a)(),Object(b.a)(),t(4596),s.a(l.a.SUBSCRIPTION_REMOVE,bt,t(4598),n)},gt={FUNCTIONALITY:"functionality",DIDNT_USE:"didn't_use",SWITCHING:"switching",TEAM:"team",NO_LONGER_NEED:"no_longer_need",TEMPORARY:"temporary",DIFFICULT_TO_USE:"difficult_to_use",BUGS:"bugs",PRICE:"price",OTHER:"other"},ft=function(n){function e(e){var t=n.call(this)||this;for(var a in t.$translate=e,t.reasons=[],t.additionalNotes="",gt)t.reasons.push({id:gt[a],label:e.instant("account.commons.modal.subscription.remove_reason.reasons."+gt[a])});return t}return Object(r.d)(e,n),e.prototype.submit=function(){var e=this.reasons.filter(function(n){return n.checked}),t={};e.forEach(function(n){t["Cancel_reason_"+n.id]=1}),this.additionalNotes&&(t.Cancel_additional_notes=this.additionalNotes),y.zf(t,this.params.account.id,this.params.account.participantPostInvitationPaymentTest);var a=e.map(function(n){return n.label});this.additionalNotes&&a.push(this.additionalNotes),v.a.feedback.sendCancelSubscriptionFeedback(a,this.params.account.id),n.prototype.submit.call(this)},e.prototype.cancel=function(){y.Vd(this.params.account.id,this.params.account.participantPostInvitationPaymentTest),v.a.feedback.sendCancelSubscriptionFeedback([],this.params.account.id),n.prototype.cancel.call(this)},e.$inject=["$translate"],e}(c.b),yt=t(486),vt=function(n){return Object(W.a)(),Object(b.a)(),Object(yt.a)(),t(4599),s.a(l.a.SUBSCRIPTION_REMOVE_REASON,ft,t(4601),Object(r.a)({enableCloseByBackground:!1},n))};function xt(n,e,t,a){return new Promise(function(o,i){n.target.classList.add("rtb-link--disabled");var r=Object(M.sb)(e);t?y.ub(e.id,e.participantPostInvitationPaymentTest,t.prorationQuantityIncrement,t.prorationAmount):y.ub(e.id,e.participantPostInvitationPaymentTest);var s={account:e,isPersonal:r,upcomingInvoice:t,postPaymentDayPassesAmount:a,onSubscriptionChange:o},l=Object(z.a)().show(ht(s));l.submitted.addOnce(function(){!function(n,e){y.qi(e?"Premium":"Team",n.id,n.participantPostInvitationPaymentTest),Object(z.a)().show(vt({account:n}))}(e,r),v.a.billing.selectById(e.id).payInvoices().catch(function(){}).then(function(){Object(Jn.a)().cancelSubscription(e.id).then(function(){return o()}).catch(function(n){Object(q.a)().showErrorByData(n),i(n)}),n.target.classList.remove("rtb-link--disabled")})}),l.canceled.addOnce(function(){n.target.classList.remove("rtb-link--disabled")})})}var _t=t(1447);var wt=t(2164),It=t(43),Ct=t(2407),Pt=(t(4605),function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={token:null,processing:!1},e}return Object(r.d)(e,n),e.prototype.onCardTokenLoaded=function(n){this.setState({token:n})},e.prototype.onCardTokenError=function(){this.setState({token:null})},e.prototype.onChangeCard=function(){var n=this;this.setState({processing:!0});var e=this.props,t=e.receiverId,a=e.participantPostInvitationPaymentTest,o=e.onChangeCard,i=this.state.token;i&&i.id&&t&&(y.kb(y.If(t,a)),v.a.billing.selectById(t).updateCard(i.id).then(function(){y.mb(),Object(q.a)().show("Your card information was successfully update"),o()}).catch(function(n){n&&(y.lb(),Object(q.a)().showErrorByData(n))}).then(function(){n.setState({processing:!1})}))},e.prototype.render=function(){var n=this.state,e=n.processing,t=!!n.token;return It.React.createElement("div",{className:"change-account-card"},It.React.createElement(Ct.a,{onTokenLoaded:this.onCardTokenLoaded,cardInputClassName:"change-account-card__card-input",onTokenError:this.onCardTokenError,postalCode:void 0}),It.React.createElement("div",{className:"change-account-card__actions"},It.React.createElement(It.Tappable.Button,{className:Object(It.classNames)("rtb-btn rtb-btn--primary rtb-btn--medium",{"rtb-btn--loading":e,"rtb-btn--disabled":!t}),hmTap:this.onChangeCard},"Save changes"),It.React.createElement(It.Tappable.Button,{className:Object(It.classNames)("rtb-btn rtb-btn--secondary rtb-btn--medium",{"rtb-btn--disabled":e}),hmTap:this.props.onCancel},"Cancel")))},Object(r.c)([It.decorators.autobind],e.prototype,"onCardTokenLoaded",null),Object(r.c)([It.decorators.autobind],e.prototype,"onCardTokenError",null),Object(r.c)([It.decorators.autobind],e.prototype,"onChangeCard",null),e}(It.React.PureComponent));Object(I.b)(wn.a.upgradeIsSupported?new ue:new me),Object(Jn.b)(new ye);var Tt=function(){function n(){this.invitationPaymentLogic=a,this.billingComponent={ChangeAccountCard:Pt}}return n.prototype.showShopWindowModal=function(n){return Object(z.a)().show(function(n){return t(4476),g(),s.a(l.a.SHOP_WINDOW,B,t(4478),Object(r.a)(Object(r.a)({},n),{enableCloseByBackground:!0,enableSubmitByEnter:!0,enableAutoClose:!0}))}(n))},n.prototype.expandCompanyFullUsersLimit=function(n){return function(n){var e=n.organization,t=n.membersNoTakenSeatsNumber,a=Object(_t.b)(e,t);return Object(_t.e)(e.id,e.fullUsersLimit+a)}(n)},n.prototype.openPricing=function(n,e,t){return Object(I.a)().openPricing(n,e,t)},n.prototype.openPricingByAccountId=function(n){return Object(I.a)().openPricingByAccountId(n)},n.prototype.buyExistingTeam=function(n,e){return Object(I.a)().buyExistingTeam(n,e)},n.prototype.buyNewTeam=function(n,e,t,a){return Object(I.a)().buyNewTeam(n,e,t,a)},n.prototype.getPaymentModal=function(n){return Object(I.a)().getPaymentModal(n)},n.prototype.resubscribeTeam=function(n,e){return Object(I.a)().resubscribeTeam(n,e)},n.prototype.resubscribeEducation=function(n){return Object(I.a)().resubscribeEducation(n)},n.prototype.changeMemberCount=function(n,e,t,a,o,i){return function(n,e,t,a,o,i){return y.Bb(n.id,n.participantPostInvitationPaymentTest),Object(I.a)().changeMemberCount(n,e,t,a,o,i)}(n,e,t,a,o,i)},n.prototype.changeBillingPeriod=function(n){return function(n){return y.Kj(n.id,n.participantPostInvitationPaymentTest),Object(I.a)().changeBillingPeriod(n,C.d.YEARLY)}(n)},n.prototype.requestCompanyPlan=function(n){return Object(I.a)().requestCompanyPlan(n)},n.prototype.tryShowAccountExpiredModal=function(n){return Z(n)},n.prototype.showBoardLockedModal=function(n){return yn(n)},n.prototype.showShareLockedInTeamBoardForNotTeamMemberModal=function(n){!function(n){Object(z.a)().show(tn({teamName:n.account.title}))}(n)},n.prototype.showCollaboratorCantShareBecauseUnableToShare=function(n){return e=n,new Promise(function(n){var t=Object(z.a)().show(_n({notValidEmails:e}));t.submitted.addOnce(function(){return n(C.c.SUBMIT)}),t.canceled.add(function(){return n(C.c.CANCEL)})});var e},n.prototype.showSubscriptionIncreaseModal=function(n){return Object(z.a)().show(_e(n))},n.prototype.showSubscriptionSuccessIncreaseModal=function(n){return Object(z.a)().show(ve(n))},n.prototype.showCompanyInquiryModal=function(n){return Object(z.a)().show(Object(Dn.a)(n))},n.prototype.showSubscriptionSwitchForPersonalAccount=function(n){return Object(I.a)().showSubscriptionSwitchForPersonalAccount(n)},n.prototype.showBoardIsPrivateForAccount=function(n){Object(z.a)().show(ut(n))},n.prototype.showComplexTriggerModal=function(n,e){return function(n,e){return new Promise(function(t,a){var o=new x.a(n),i=new _.a(o,{paymentInterval:C.d.MONTHLY}),r=Object(z.a)().show(nt({boardsNumber:n.boardsNumber,usersNumber:n.usersNumber,creditsMonthsCount:i.creditsMonthsCount,centsCredits:i.centsCredits,targetPlanIdent:se.a.TEAM,allowLandscape:!0}));y.f.showFeaturesPopup({on:Object(Je.a)().isBoardOpened()?"board":"dashboard",withCredits:i.centsCredits>0,userRole:n.role,accountId:n.id,accountSize:n.usersNumber,accountBoards:n.boardsNumber}),e.open(Ze.a.SHOW_COMPLEX_TRIGGER_MODAL),r.submitted.add(function(){var e=Object(T.c)(n,ot.features_popup);y.f.clickUpgrade(e),Object(O.a)().sendApiEvent("click_upgrade",e),setTimeout(function(){var e=new Mn.a(n),a=new et.a(e);Object(z.a)().show(Object(Rn.a)({plan:a,context:e,openedFrom:A.a.UPGRADE_POPUP_TRIGGER})).closed.add(t)})}),r.canceled.add(a)})}(n,e)},n.prototype.showConsultantTriggerModal=function(n){return function(n){return new Promise(function(e,t){var a=Object(z.a)().show(nt({targetPlanIdent:se.a.CONSULTANT,submitHandler:function(){var t=Object(T.c)(n,ot.consultant_features_popup);y.f.clickUpgrade(t),Object(O.a)().sendApiEvent("click_upgrade",t),setTimeout(function(){Object(I.a)().changePlan(n,se.a.CONSULTANT,A.a.UPGRADE_POPUP_TRIGGER).then(e)})},cancelHandler:function(){t(),Object(tt.a)().$location.url("/app/dashboard"),a.cancel()}}))})}(n)},n.prototype.showCompanyTriggerModal=function(n,e){return function(n,e){return new Promise(function(t,a){Object(z.a)().show(nt({targetPlanIdent:se.a.COMPANY,usersNumber:n,submitHandler:function(){e(),t()},cancelHandler:a}))})}(n,e)},n.prototype.showSlackTeamExpiredModal=function(n){return Object(z.a)().show(function(n){return Object(ne.a)(),t(4602),s.a(l.a.SLACK_TEAM_EXPIRED,c.b,t(4604),n)}(n))},n.prototype.stripeCancelSubscription=function(n,e,t,a){return xt(n,e,t,a)},n.prototype.stripeGetUpcoming=function(n,e){return Object(Jn.a)().getUpcoming(n)},n.prototype.stripeResubscribeAccount=function(n,e,t){return Object(Jn.a)().resubscribeAccount(n,e,t)},n.prototype.showBusinessTriggerModal=function(n){return function(n){return new Promise(function(e,t){Object(z.a)().show(nt({targetPlanIdent:se.a.BUSINESS,submitHandler:function(){var t=Object(T.c)(n,ot.business_plan_popup_from_site);y.f.clickUpgrade(t),Object(O.a)().sendApiEvent("click_upgrade",t),Object(I.a)().changePlan(n,se.a.BUSINESS,A.a.UPGRADE_POPUP_TRIGGER).then(e)},cancelHandler:function(){Object(O.a)().sendApiEvent("button_clicked",Object(at.a)({button_name:"Stay on free plan",button_place:ot.business_plan_popup_from_site,component:"app",feature:"pricing",button_id:1})),t()}}))})}(n)},n.prototype.countTrialTeamUpcomingInvoice=function(n){var e=new Mn.a(n),t=new C.e(e.activePlan),a=n.usersNumber<5?5:n.usersNumber;switch(n.trialData.stripePlanIdAfterTrial){case wt.a.Team_monthly:return t.costPerMonthInMonthPlanOneLicence*a;case wt.a.Team_yearly:return t.costPerMonthInYearPlanOneLicence*a*12;default:return 0}},n.prototype.showStartTrialModal=function(n){var e=new Mn.a(n),t=new et.a(e);Object(z.a)().show(Object(le.a)({plan:t,context:e,isForTrialTeam:!0,openedFrom:void 0}))},n.prototype.cancelTrial=function(n){return new Promise(function(e,t){var a={account:n,isPersonal:!1,upcomingInvoice:void 0,postPaymentDayPassesAmount:void 0,onSubscriptionChange:e},o=Object(z.a)().show(ht(a));o.submitted.addOnce(function(){v.a.accounts.selectById(n.id).trial.cancelTrial().then(function(){y.o.cancelTrialSubscriptionClicked(),Object(z.a)().show(vt({account:n})),e()}).catch(function(n){Object(q.a)().showErrorByData(n),t(n)})}),o.canceled.addOnce(function(){return y.o.backToSettingsClicked()})})},n.prototype.renewTrial=function(n){return new Promise(function(e,t){v.a.accounts.selectById(n.id).trial.renewTrial().then(e).catch(function(n){Object(q.a)().showErrorByData(n),t(n)})})},n.prototype.getPlanAccountInfo=function(n){return v.a.accounts.selectById(n).get({fields:"id,features,usersNumber,boardsNumber,limits,currentUserPermission,role,title,expirationDate,credits,expired,type,abTests,trialData"})},n.prototype.openPricingByOrganizationId=function(n){return Object(I.a)().openPricingByOrganizationId(n)},n.prototype.openPastDueInvoicesPurchaseModal=function(n){return Object(I.a)().openPastDueInvoicesPurchaseModal(n)},n.prototype.changePlan=function(n,e,t){return Object(I.a)().changePlan(n,e,t)},n.prototype.buyConsultantPlan=function(n){return Object(I.a)().buyConsultantPlan(n)},n.prototype.buyBusinessPlan=function(n){return Object(I.a)().buyBusinessPlan(n)},n}();e.default=new Tt},560:function(n,e,t){var a=t(666);"string"===typeof a&&(a=[[n.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(a,o);a.locals&&(n.exports=a.locals)},5606:function(n,e,t){"use strict";var a,o=t(21),i=t(48),r=t(32),s=t(71),l=t(234),c=t(26),d=t(218),p=t(77),u=t(112);!function(n){n[n["Button #1"]=1]="Button #1",n[n["Button #2"]=2]="Button #2",n[n["Button #3"]=3]="Button #3",n[n["Button #4"]=4]="Button #4"}(a||(a={}));var m=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.dataLoaded=!1,e}return Object(o.d)(e,n),e.prototype.init=function(){var n=this;this.changeIframeSize(),window.bpOpenPurchaseWindow=function(e){return n.openPurchaseWindow(e&&a[e])},Object(c.kj)(!!this.params.paymentInfo.centsCredits,this.params.account.role,this.params.account.id,this.params.account.usersNumber,this.params.account.boardsNumber,this.params.planIdent)},e.prototype.changeIframeSize=function(){var n=this,e=document.getElementById("bp-why-upgrade-iframe");e&&(e.onload=function(){n.dataLoaded=!0,n.$scope.$apply(),e.style.height=e.contentDocument.body.scrollHeight+"px"})},e.prototype.openPurchaseWindow=function(n){return this.submit(),this.params.onSubmit&&this.params.onSubmit(n)},e.prototype.cancel=function(e){return n.prototype.cancel.call(this,e),this.params.onCancel&&this.params.onCancel()},e}(i.b),b=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.arrowRightIcon=t(4519),e.isInactiveBoardsInfoVisible=!1,e}return Object(o.d)(e,n),Object.defineProperty(e.prototype,"trialDuration",{get:function(){return Object(d.b)(this.params.account)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var n=this,e=this.params.account;e.limits.activeBoardsPerAccount<Object(l.g)()&&r.a.boards.array({filter:s.b.ACTIVE,attachment:e.id}).getSize().then(function(t){n.inactiveBoardsNumber=e.boardsNumber-t,t>=e.limits.activeBoardsPerAccount&&n.inactiveBoardsNumber>0&&(n.isInactiveBoardsInfoVisible=!0),n.$scope.$apply()}),Object(c.kj)(!!this.params.paymentInfo.centsCredits,e.role,e.id,e.usersNumber,e.boardsNumber,this.params.planIdent),this.isTrialAvailable=!!Object(d.d)(e)},e.prototype.onClickUpgrade=function(n){Object(d.d)(this.params.account)&&(n?c.o.trialChose("upgrade_landing"):c.o.trialChose("upgrade_landing_bottom")),this.submit(n?a["Button #1"]:a["Button #2"])},e.prototype.onClickLearnMoreConsultantPlan=function(){Object(p.a)().sendApiEvent("button_clicked",Object(u.a)({button_name:"Learn more",button_place:"whyUpgrade",component:"app",feature:"teamWhyUpgrade",button_id:1}))},e.prototype.onClickLearnMoreEnterprisePlan=function(){Object(p.a)().sendApiEvent("button_clicked",Object(u.a)({button_name:"Learn more",button_place:"whyUpgrade",component:"app",feature:"teamWhyUpgrade",button_id:2}))},e}(i.b),h=t(46),g=t(44),f=t(173);e.a=function(n){t(4520);var e=Object(o.a)({enableCloseByBackground:!1,enableCloseByEscape:!1},n);switch(n.planIdent){case f.a.TEAM:return h.a(g.a.WHY_UPGRADE,b,t(4523),e);case f.a.BUSINESS:return h.a(g.a.WHY_UPGRADE,m,t(4538),e)}}},5618:function(n,e,t){"use strict";var a=t(45),o=t(21),i=t(46),r=t(44),s=t(48),l=t(32),c=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.isLoading=!0,e}return Object(o.d)(e,n),e.prototype.init=function(){var n=this;if(!this.params.isForPremiumAccount){var e=l.a.organizations.selectById(this.params.targetPlan.activePlan.id).accounts({fields:"id"}).getSize(),t=l.a.organizations.selectById(this.params.targetPlan.activePlan.id).get({fields:"fullUsersNumber,occasionalUsersNumber"});Promise.all([e,t]).then(function(e){n.accountsSize=e[0];var t=e[1];n.usersNumber=t.fullUsersNumber+t.occasionalUsersNumber,n.isLoading=!1})}},e}(s.a),d=t(62),p=t(67),u=function(n){return Object(d.a)(),Object(p.a)(),t(2157),t(4490),i.a(r.a.DOWNGRADE_CONFIRMAION,c,t(4492),Object(o.a)({enableCloseByBackground:!1,enableCloseByEscape:!1},n))},m=t(2158),b=t(267);function h(n,e){return new Promise(function(t){var o=Object(a.a)().show(u({targetPlan:n,isForPremiumAccount:e}));o.submitted.addOnce(function(n){return t(n)}),o.canceled.addOnce(function(){return t(m.a.CANCEL)})})}function g(n){return n.abTests&&n.abTests.paymentWindowVariation||b.a.C}t.d(e,"b",function(){return h}),t.d(e,"a",function(){return g})},5653:function(n,e,t){"use strict";var a=t(21),o=t(46),i=t(44),r=t(48),s=t(771),l=t(45),c=function(n){function e(e){var t=n.call(this)||this;return t.$translate=e,t.textAboutExtraLimits="",t}return Object(a.d)(e,n),e.prototype.init=function(){var n=this.params.plan;this.extraMembersCount=n.paymentInfo.extraMembersCount,this.extraBoardsCount=n.paymentInfo.extraBoardsCount,this.accountId=this.params.context.activePlan.id,this.extraBoardsCount>0&&(this.textAboutExtraLimits=this.extraBoardsCount+" "+(1===this.extraBoardsCount?"board":"boards")),this.extraBoardsCount>0&&this.extraMembersCount>0&&(this.textAboutExtraLimits+=" and "),this.extraMembersCount>0&&(this.textAboutExtraLimits+=this.extraMembersCount+" "+(1===this.extraMembersCount?"user":"users"))},e.prototype.submit=function(){var e=this;this.accountId&&this.params.plan.purchase().then(function(){n.prototype.submit.call(e);var t=e.$translate.instant("account.commons.billing.link.boardIsLocked");Object(l.a)().show(Object(s.a)({captionText:"Downgraded with locked boards",contentText:"You have exceeded the limits of the Free plan by "+e.textAboutExtraLimits+". \n\t\t\t\t\t\t\tAll boards are available in view-only mode until you delete extra boards and users. \n\t\t\t\t\t\t\t<br><a href="+t+' target="_blank" class="link">Learn how to unlock.</a>',plan:e.params.plan}))})},e.$inject=["$translate"],e}(r.a),d=t(62),p=t(67);e.a=function(n){return Object(d.a)(),Object(p.a)(),o.a(i.a.DOWNGRADE_TEAM,c,t(4502),Object(a.a)(Object(a.a)({},n),{enableCloseByBackground:!1,enableCloseByEscape:!1}))}},598:function(n,e,t){"use strict";var a;t.d(e,"a",function(){return a}),function(n){n.TWO_CLICK_UPGRADE="two-click-upgrade",n.TEMPLATE_PICKER_TOP_CATEGORIES="template-picker-top-categories",n.TEMPLATE_PICKER_MAIN_CATEGORIES="template-picker-main-categories",n.TEMPLATE_PICKER_RATING="template-picker-rating",n.TEMPLATE_PICKER_LABELS="template-picker-labels",n.TEMPLATE_PICKER_SIMILAR_TEMPLATES="template-picker-similar-templates",n.TRIGGERS_BUTTONS_ORDER="triggers-buttons-order"}(a||(a={}))},640:function(n,e){n.exports="#img__ic-member"},666:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".rtb-toggle {\n  position: relative;\n  display: inline-block;\n  cursor: pointer;\n  min-width: 30px;\n  height: 20px;\n}\n.rtb-toggle input[type='checkbox'] + .rtb-toggle__indicator {\n  width: 36px;\n  height: 20px;\n}\n.rtb-toggle input[type='checkbox'] + .rtb-toggle__indicator::after {\n  width: 16px;\n  height: 16px;\n}\n.rtb-toggle .rtb-toggle__text {\n  font-size: 16px;\n}\n.rtb-toggle input[type='checkbox']:checked + .rtb-toggle__indicator::after {\n  transform: translateX(16px);\n}\n.rtb-toggle .rtb-toggle__text {\n  margin-left: 14px;\n  line-height: 20px;\n}\n.rtb-toggle input[type='checkbox'] {\n  position: absolute;\n  top: 2px;\n  left: 1px;\n  z-index: -1;\n  opacity: 0;\n}\n.rtb-toggle input[type='checkbox'] + .rtb-toggle__indicator {\n  position: relative;\n  display: inline-block;\n  vertical-align: top;\n  border-radius: 10px;\n  background-color: #c3c2cf;\n}\n.rtb-toggle input[type='checkbox'] + .rtb-toggle__indicator::after {\n  content: '';\n  position: absolute;\n  display: block;\n  margin: 2px;\n  border-radius: 50%;\n  background: #fff;\n}\n.rtb-toggle input[type='checkbox']:checked + .rtb-toggle__indicator {\n  background-color: #4262ff;\n}\n.rtb-toggle .rtb-toggle__text {\n  vertical-align: top;\n}\n.rtb-toggle.rtb-toggle--large {\n  height: 20px;\n}\n.rtb-toggle.rtb-toggle--large input[type='checkbox'] + .rtb-toggle__indicator {\n  width: 36px;\n  height: 20px;\n}\n.rtb-toggle.rtb-toggle--large input[type='checkbox'] + .rtb-toggle__indicator::after {\n  width: 16px;\n  height: 16px;\n}\n.rtb-toggle.rtb-toggle--large .rtb-toggle__text {\n  font-size: 16px;\n}\n.rtb-toggle.rtb-toggle--large input[type='checkbox']:checked + .rtb-toggle__indicator::after {\n  transform: translateX(16px);\n}\n.rtb-toggle.rtb-toggle--large .rtb-toggle__text {\n  margin-left: 14px;\n  line-height: 20px;\n}\n.rtb-toggle.rtb-toggle--medium {\n  height: 16px;\n}\n.rtb-toggle.rtb-toggle--medium input[type='checkbox'] + .rtb-toggle__indicator {\n  width: 28px;\n  height: 16px;\n}\n.rtb-toggle.rtb-toggle--medium input[type='checkbox'] + .rtb-toggle__indicator::after {\n  width: 12px;\n  height: 12px;\n}\n.rtb-toggle.rtb-toggle--medium .rtb-toggle__text {\n  font-size: 14px;\n}\n.rtb-toggle.rtb-toggle--medium input[type='checkbox']:checked + .rtb-toggle__indicator::after {\n  transform: translateX(12px);\n}\n.rtb-toggle.rtb-toggle--medium .rtb-toggle__text {\n  margin-left: 10px;\n  line-height: 16px;\n}\n.rtb-toggle.rtb-toggle--animated input[type='checkbox'] + .rtb-toggle__indicator {\n  transition-delay: 0.05s;\n  transition: background-color 0.3s cubic-bezier(0.35, 0, 0.25, 1);\n}\n.rtb-toggle.rtb-toggle--animated input[type='checkbox'] + .rtb-toggle__indicator::after {\n  transition-delay: 0.05s;\n  transition: transform 0.3s cubic-bezier(0.35, 0, 0.25, 1);\n}\n.rtb-toggle:not(.rtb-toggle--disabled):hover input[type='checkbox'] + .rtb-toggle__indicator {\n  background-color: #bdbdbd;\n}\n.rtb-toggle:not(.rtb-toggle--disabled):hover input[type='checkbox']:checked + .rtb-toggle__indicator {\n  background-color: #455bed;\n}\n.rtb-toggle.rtb-toggle--disabled {\n  opacity: 0.2;\n}\n",""])},667:function(n,e,t){(n.exports=t(23)(!1)).push([n.i,".rtb-radiobutton {\n  position: relative;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: start;\n      align-items: flex-start;\n  width: 100%;\n  margin-bottom: 20px;\n  font-size: 16px;\n  line-height: 24px;\n}\n.rtb-radiobutton.rtb-radiobutton--disabled {\n  pointer-events: none;\n}\n.rtb-radiobutton label {\n  padding-left: 34px;\n}\n.rtb-radiobutton label:before {\n  width: 20px;\n  height: 20px;\n}\n.rtb-radiobutton label:after {\n  top: 8px;\n  left: 6px;\n  width: 8px;\n  height: 8px;\n}\n.rtb-radiobutton input {\n  display: none;\n}\n.rtb-radiobutton input:checked + label:before {\n  background-color: #4262ff;\n  border-color: #4262ff;\n}\n.rtb-radiobutton input:checked + label:after {\n  transform: scale(1);\n}\n.rtb-radiobutton input:checked + label:active:before {\n  background-color: #3d51d4;\n  border-color: #3d51d4;\n}\n.rtb-radiobutton input:checked:disabled + label:before {\n  opacity: 0.2;\n  border-color: #4262ff;\n}\n.rtb-radiobutton input:disabled + label {\n  color: #827f9b;\n}\n.rtb-radiobutton input:disabled + label:before {\n  opacity: 0.4;\n  border-color: #c3c2cf;\n}\n.rtb-radiobutton label {\n  cursor: pointer;\n}\n.rtb-radiobutton label:before,\n.rtb-radiobutton label:after {\n  position: absolute;\n  content: '';\n  border-radius: 100%;\n  box-sizing: border-box;\n}\n.rtb-radiobutton label:before {\n  top: 2px;\n  left: 0;\n  background: #fff;\n  border: 1px solid #c3c2cf;\n  transition: border-color 250ms, background-color 250ms, opacity 250ms;\n}\n.rtb-radiobutton label:after {\n  background: #fff;\n  transform: scale(0);\n  transform-origin: center;\n  transition: transform 250ms 200ms;\n}\n.rtb-radiobutton label:hover:before {\n  border-color: #6881ff;\n}\n.rtb-radiobutton label:active:before {\n  border-color: #4262ff;\n}\n.rtb-radiobutton .rtb-radiobutton__icon-wrapper {\n  margin: 0 0 0 10px;\n}\n.rtb-radiobutton.rtb-radiobutton--medium {\n  margin-bottom: 16px;\n  font-size: 14px;\n  line-height: 20px;\n}\n.rtb-radiobutton.rtb-radiobutton--medium label {\n  padding-left: 28px;\n}\n.rtb-radiobutton.rtb-radiobutton--medium label:before {\n  width: 16px;\n  height: 16px;\n}\n.rtb-radiobutton.rtb-radiobutton--medium label:after {\n  top: 7px;\n  left: 5px;\n  width: 6px;\n  height: 6px;\n}\n",""])},758:function(n,e){n.exports="#img__close-thin"},763:function(n,e,t){"use strict";var a=t(21),o=t(4487),i=t(46),r=t(44),s=t(30),l=function(){function n(n){this.$scope=n}return Object.defineProperty(n.prototype,"planIdent",{get:function(){return this.plan&&this.plan.getIdent()||""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"plan",{get:function(){return this.$scope.plan},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"vertical",{get:function(){return"vertical"===this.$scope.type},enumerable:!0,configurable:!0}),n.$inject=["$scope"],n}(),c=t(78),d=t(25);function p(n,e,t,a){Object(d.b)().directive(function(n,e){return Object(c.c)(function(n,e){return(n+"-"+e+"-plan").toLowerCase()}(n,e))}(t,a),function(){return function(n,e){return Object(s.a)({restrict:"E",template:n,controller:e,controllerAs:"plan",scope:{planModel:"="}})}(n,e)})}var u,m=t(173);!function(n){n.VERTICAL="vertical",n.HORIZONTAL="horizontal"}(u||(u={}));var b=t(234),h=function(){function n(n){this.$scope=n,this.ACTIVE_BOARDS_LIMIT=this.$scope.planModel.activeBoardsLimit}return n.prototype.getMemberCount=function(){return this.$scope.planModel.membersCount},n.prototype.getBoardsCount=function(){return this.$scope.planModel.boardsCount},n.prototype.getNotification=function(){var n,e=this.getMemberCount(),t=this.getBoardsCount(),a=t-b.a;if(this.isCurrentPlan()){var o=1===e?"member":"members",i=this.ACTIVE_BOARDS_LIMIT-t;n="Currently, your team has <b>"+e+" "+o+"</b>. ",n+=a<=0?"You have <b>"+i+" editable board left</b>. ":"You have <b>0 editable boards left</b> and <b>"+a+" locked boards</b>. ",n+="Upgrade to unlock advanced features and unlimited editing."}else n=a>0?"Your "+a+" boards will become view only":"Up to "+b.a+" boards are editable.";return n},n.prototype.purchase=function(){this.$scope.planModel.select()},n.prototype.isExpired=function(){return this.$scope.planModel.isExpired()},n.prototype.isCurrentPlan=function(){return this.$scope.planModel.activePlan.isFree},n.prototype.actionTitle=function(){return this.$scope.planModel.isCurrentPlan()?"Current plan":"Downgrade to Free"},n.$inject=["$scope"],n}(),g=t(4545);var f=t(94),y=t.n(f),v=function(){function n(n){var e=this;this.$scope=n,this.planUpdatedListener=this.$scope.planModel.signals.updated.add(function(){e.$scope.safeDigest()}),this.$scope.$on("$destroy",function(){e.planUpdatedListener.detach()})}return n.prototype.purchase=function(){this.$scope.planModel.select()},n.prototype.getMembersOptions=function(){return this.$scope.planModel.options},n.prototype.onChange=function(n){this.$scope.planModel.selectedValue=n},n.prototype.actionTitle=function(){if(this.$scope.planModel.canAccountBeUpgradedToTargetPlan())return"Upgrade";if(this.$scope.planModel.isCurrentPlan()){if(this.$scope.planModel.activePlan.expired)return"Reactivate";if(this.$scope.planModel.activePlan.isTrialTeam){var n=y()(this.$scope.planModel.activePlan.account.trialData.trialEnd).diff(y()(),"days");return"Trial expires in "+n+" "+(1===n?"day":"days")}return"Current plan"}return"Purchase"},n.prototype.isActionVisible=function(){return this.$scope.planModel.isCurrentPlan()||this.$scope.planModel.canAccountBeUpgradedToTargetPlan()},n.prototype.isActionEnabled=function(){return!this.$scope.planModel.isCurrentPlan()||this.$scope.planModel.activePlan.expired},n.prototype.startTrial=function(){this.$scope.planModel.select(!0)},n.$inject=["$scope"],n}(),x=t(1606),_=t(26),w=t(218),I=function(n){function e(e){return n.call(this,e)||this}return Object(a.d)(e,n),e.prototype.upgrade=function(){n.prototype.purchase.call(this)},e.prototype.showWhyUpgrade=function(){this.$scope.planModel.showWhyUpgrade()},Object.defineProperty(e.prototype,"isTrialAvailable",{get:function(){var n=this.$scope.planModel.activePlan;return!!n.account.trialData&&n.account.trialData.availableTrialType!==x.a.NONE},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trialButtonText",{get:function(){return"Start "+Object(w.b)(this.$scope.planModel.activePlan.account)+" trial"},enumerable:!0,configurable:!0}),e.prototype.startTrial=function(){_.o.trialChose("pricing"),n.prototype.startTrial.call(this)},e.$inject=["$scope"],e}(v),C=t(4548),P=function(){t(4549),p(C,I,u.VERTICAL,m.a.TEAM)},T=t(52),O=function(){function n(n){this.$scope=n}return n.prototype.hasPersonalAccount=function(){return this.$scope.planModel.hasPersonalAccount},n.prototype.getPremium=function(){_.Hc("trial"),T.l().openInNewTab()},n.prototype.openPersonalAccount=function(){T.i(this.$scope.planModel.personalAccountId).openInNewTab()},n.$inject=["$scope"],n}(),M=t(4551);var E=function(){function n(n){this.$scope=n}return n.prototype.requestCompanyPlan=function(){this.$scope.planModel.select()},n.$inject=["$scope"],n}(),A=t(4554),S=function(){t(4556),p(A,E,u.VERTICAL,m.a.COMPANY)},N=t(1485),j=function(){function n(n){this.$scope=n,this.freeTeamPaymentInfo=new N.a(this.activePlan)}return Object.defineProperty(n.prototype,"activePlan",{get:function(){return this.$scope.planModel.activePlan},enumerable:!0,configurable:!0}),n.prototype.getMemberCount=function(){return this.activePlan.membersCount},Object.defineProperty(n.prototype,"paymentInfo",{get:function(){return this.$scope.planModel.currentPaymentInfo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"price",{get:function(){var n=this.paymentInfo;return n?n.totalCostInMonth:0},enumerable:!0,configurable:!0}),n.prototype.getBoardsCount=function(){return this.activePlan.boardsCount},n.prototype.getExpirationDate=function(){return this.activePlan.expirationDate},n.prototype.shortExpirationDateString=function(){var n=this.activePlan;if(!n.isChargeable)return"Forever";var e=n.daysToExpiration();return"For "+(e>1?e+" days":"one day")},n.prototype.expirationDateString=function(){return this.getExpirationDate()},n.prototype.canShowFreePlanInfoMsg=function(){return!this.activePlan.isChargeable},n.prototype.canShowTrialPlanInfoMsg=function(){return this.activePlan.trial},n.prototype.canShowPlanLimits=function(){return this.activePlan.hasMemberLimit},n.prototype.getCurrentPlanName=function(){return this.activePlan.planName},n.prototype.getMaxMemberCount=function(){return this.activePlan.membersLimit},n.$inject=["$scope"],n}(),k=t(4558),D=function(){t(4559),p(k,j,u.VERTICAL,m.a.INFO)},R=t(4561),L=function(){t(4562),p(R,v,u.HORIZONTAL,m.a.CONSULTANT)},U=function(n){function e(e){return n.call(this,e)||this}return Object(a.d)(e,n),e.prototype.showWhyUpgrade=function(){this.$scope.planModel.showWhyUpgrade()},e.$inject=["$scope"],e}(v),B=t(4564),z=function(){p(B,U,u.VERTICAL,m.a.BUSINESS)},F=t(4565);function $(){t(4566),t(4546),p(g,h,u.HORIZONTAL,m.a.FREE_2018),P(),t(4552),p(M,O,u.HORIZONTAL,m.a.PERSONAL),S(),D(),z(),L(),Object(d.b)().directive("planChooser",Y)}function Y(){return Object(s.a)({restrict:"E",template:F,controller:l,controllerAs:"controller",scope:{plan:"=",type:"="}})}var H=t(327),V=t(1591);e.a=function(n){return t(4568),t(1488),Object(H.a)(),$(),Object(V.a)(),i.a(r.a.CHOOSE_PLAN,o.a,t(4570),Object(a.a)(Object(a.a)({},n),{enableCloseByEscape:!1}))}},771:function(n,e,t){"use strict";var a=t(21),o=t(46),i=t(44),r=t(94),s=t.n(r),l=t(26),c=t(48),d=t(940),p=t(460),u=t(1483),m=t(50),b=t(969),h=t(1482),g=function(n){function e(e){var t=n.call(this)||this;return t.$location=e,t.lastReceiverInvoiceInfo=void 0,t}return Object(a.d)(e,n),Object.defineProperty(e.prototype,"showPayOperation",{get:function(){return!!this.lastReceiverInvoiceInfo&&!this.isPostProrate()&&!!this.params.receiverId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastReceiverInvoiceInfoHref",{get:function(){return this.lastReceiverInvoiceInfo?"/pricing/invoice/?invoiceId="+this.lastReceiverInvoiceInfo.id+"&receiverId="+this.params.receiverId:"#"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastReceiverInvoiceInfoTitle",{get:function(){if(this.lastReceiverInvoiceInfo){var n=this.lastReceiverInvoiceInfo;return"Invoice receipt "+s()(1e3*n.date).format("DD/MM/YY")}return"no Receiver"},enumerable:!0,configurable:!0}),e.prototype.init=function(){Object(m.j)()===b.a.SETTINGS_2018?this.hrefToBilling="/app/settings/team/"+this.params.receiverId+"/billing/":this.hrefToBilling="/app/account/team/"+this.params.receiverId+"/billing/",this.captionText=this.params.captionText,this.contentText=this.params.contentText,this.plan=this.params.plan;var n=this.plan;n instanceof h.a&&(l.pk({account_id:n.activePlan.id,paylater_abtest:n.activePlan.hasFeaturePostInvitationPayments}),this.lastReceiverInvoiceInfo=n.lastReceiverInvoiceInfo)},e.prototype.isPostProrate=function(){var n=this.plan;return n instanceof d.a&&n.canDoPostInvitationPayments()},e.prototype.cancel=function(){this.updatePage()},e.prototype.submit=function(){this.updatePage()},e.prototype.updatePage=function(){var e=this.plan,t=Object(m.j)();if(t===b.a.SETTINGS_2018)return n.prototype.submit.call(this),e.onPaymentFinish();if(e instanceof u.a)n.prototype.cancel.call(this),e.onPaymentCancel();else{if(t===b.a.DASHBOARD){var a=this.params.accountId||e.accountId;this.$location.url("/app/?spaceId="+a)}window.location.reload()}},e.$inject=["$location"],Object(a.c)([p.a],e.prototype,"lastReceiverInvoiceInfo",void 0),Object(a.c)([p.a],e.prototype,"showPayOperation",null),Object(a.c)([p.a],e.prototype,"lastReceiverInvoiceInfoHref",null),Object(a.c)([p.a],e.prototype,"lastReceiverInvoiceInfoTitle",null),e}(c.a),f=t(62),y=t(67);e.a=function(n){return Object(f.a)(),Object(y.a)(),t(4494),o.a(i.a.NOTIFICATION_OF_RESULT,g,t(4496),Object(a.a)(Object(a.a)({},n),{enableCloseByBackground:!1,enableCloseByEscape:!1,enableSubmitByEnter:!0}))}},82:function(n,e){n.exports=function(n){return"string"!==typeof n?n:(/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),/["'() \t\n]/.test(n)?'"'+n.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':n)}},909:function(n,e,t){"use strict";var a;!function(n){n[n.USER_IS_NOT_LOGGED_IN=0]="USER_IS_NOT_LOGGED_IN",n[n.REQUEST_TO_JOIN_TO_ACCOUNT=1]="REQUEST_TO_JOIN_TO_ACCOUNT",n[n.COMMON_PRIVATE_BOARD=2]="COMMON_PRIVATE_BOARD"}(a||(a={})),e.a=a},939:function(n,e,t){"use strict";(function(n){var a=t(21),o=t(940),i=t(942),r=t(297),s=t.n(r),l=function(e){function t(t,a,o,i,r,l){var c=e.call(this,t,r,l)||this;return c.signals={loaded:new n.Signal,success:new n.Signal,updated:new n.Signal,planSelected:new n.Signal,whyUpgradeClicked:new n.Signal},c.getModalTitle=s()(function(){return c.activePlan.trial?c.trialTitle():c.activePlan.expired?c.expiredTitle():c.activePlan.isFreeTeam2018?c.free2018Title():"Change plan for "+c.activePlan.title+" account"}),c._plans=(a||[]).map(function(n){return new n(c)}),o&&(c._horizontalPlan=new o(c)),i&&(c._freePlan=new i(c)),c.subscribes(),c}return Object(a.d)(t,e),Object.defineProperty(t.prototype,"isHorizontalPlanVisible",{get:function(){return!!this._horizontalPlan},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalPlan",{get:function(){return this._horizontalPlan},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"freePlan",{get:function(){return this._freePlan},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedPlan",{get:function(){return this._selectedPlan},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plans",{get:function(){return this._plans||[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loaded",{get:function(){return this._loadedPromise},enumerable:!0,configurable:!0}),t.prototype.subscribes=function(){var n=this,e=new Promise(function(e){var t=Object(a.i)(n.plans);n._horizontalPlan&&t.push(n._horizontalPlan);var i=[];t.forEach(function(a){i.push(!1),a.signals.loaded.add(function(a){i[t.indexOf(a)]=!0,n.signals.updated.dispatch(a),i.every(function(n){return n})&&e()}),a instanceof o.a&&a.signals.updated.add(function(){n.signals.updated.dispatch(a)})})});this._loadedPromise=e.then(function(){n.signals.loaded.dispatch()})},t.prototype.selectPlan=function(n,e){this._selectedPlan=n,this.signals.planSelected.dispatch(n,e)},t.prototype.brakeSelectedPlan=function(){this._selectedPlan=null},t.prototype.getTeamPlan=function(){return this.plans.find(function(n){return n instanceof o.a})},t.prototype.trialTitle=function(){if(this.activePlan.expired)return this.activePlan.title+" 30 days team upgrade has expired";var n=this.activePlan.daysToExpiration(),e=n>1?n+" days":"one day";return this.activePlan.title+" 30 days team upgrade expires in "+e},t.prototype.expiredTitle=function(){return this.activePlan.title+" account has expired"},t.prototype.free2018Title=function(){return"Upgrade your "+this.activePlan.title+" Free account"},t.prototype.showWhyUpgrade=function(n){this.signals.whyUpgradeClicked.dispatch(n)},t}(i.a);e.a=l}).call(this,t(38))},940:function(n,e,t){"use strict";var a=t(21),o=t(1482),i=t(460),r=t(672),s=t(492),l=t(494),c=t(79),d=t(173),p=t(114),u=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(a.d)(e,n),e.prototype.getIdent=function(){return d.a.TEAM},Object.defineProperty(e.prototype,"creditsInfo",{get:function(){var n=this.paymentInfo;if(n instanceof r.a&&n.discountType===s.a.CREDITS){var e=n.creditsMonthsCount;return e>0?"Credits: $"+n.centsCredits/100+". Worth "+e+" "+(1===e?"month":"months")+" <br> of Team plan subscription.":"Credits: $"+n.centsCredits/100+". Use them towards <br> your Team plan purchase."}return""},enumerable:!0,configurable:!0}),e.prototype.purchase=function(n,e){var t=this;void 0===e&&(e=this.informationForUpload);var o=Object(a.a)(Object(a.a)({},e),{receiverId:this.accountId,paymentInterval:this.paymentInterval,quantity:this.selectedValue,currentQuantity:this.membersLimit,activePlan:this.activePlan,targetPlanIdent:this.getIdent(),targetPlanType:p.a.PAID_TEAM});return this.paymentInfo.canUseCoupon&&(o.couponId=this.couponId),Object(l.b)(o,n).then(function(n){return t.receiverAfterPayment=n,{receiver:n}}).catch(function(n){throw{street:!1,city:!1,country:!1,card:!0,msg:n.message||c.b.getJsonError(n).message,zipError:!1}})},e.prototype.getFeatures=function(){return[{text:"Unlimited boards"},{text:"Projects",tip:"Organize boards within and manage permissions for your workspace."},{text:"Custom templates and frameworks",tip:"Build, share, and reuse your custom templates with your entire team."},{text:"High-resolution exports"},{text:"Premium integrations",tip:"All Core integrations, plus Jira and Confluence."},{text:"Unlimited external board viewers and commenters"},{text:"Private board sharing"},{text:"Kanban Framework",tip:"Advanced responsive template based on Kanban framework."}]},e.prototype.showWhyUpgrade=function(){this.planContext.showWhyUpgrade(this)},e.prototype.getUnsubscribedPaymentInfo=function(n){return new r.a(this.activePlan,n)},Object(a.c)([i.a],e.prototype,"creditsInfo",null),e}(o.a);e.a=u},941:function(n,e,t){"use strict";(function(n){var a=t(21),o=t(460),i=t(173),r=t(494),s=t(114),l=function(){function e(e){var t=this;this.planContext=e,this.loaded=!1,this.signals={loaded:new n.Signal},this.informationForUpload={info:{},subscription:{}},this.signals.loaded.add(function(){return t.loaded=!0}),this.update(),this.features=this.getFeatures()}return Object.defineProperty(e.prototype,"activePlan",{get:function(){return this.planContext.activePlan},enumerable:!0,configurable:!0}),e.prototype.isCurrentPlan=function(){return this.activePlan.type===Object(r.e)(this.getIdent())||this.getIdent()===i.a.TEAM&&this.activePlan.type===s.a.TRIAL_TEAM||this.getIdent()===i.a.TEAM&&this.activePlan.type===s.a.TEAM},e.prototype.canAccountBeUpgradedToTargetPlan=function(){return Object(r.a)(this.activePlan.account.type,this.getIdent())},e.prototype.update=function(){var n=this;setTimeout(function(){var e=n.loadInfo();e?e.then(function(){n.signals.loaded.dispatch(n)}):n.signals.loaded.dispatch(n)},0)},e.prototype.onPaymentFinish=function(){this.planContext.onPaymentFinish()},e.prototype.onPaymentCancel=function(){this.planContext.onPaymentCancel()},e.prototype.select=function(n){this.planContext.selectPlan(this,n)},Object.defineProperty(e.prototype,"boardsCount",{get:function(){return this.activePlan.boardsCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeBoardsLimit",{get:function(){return this.activePlan.activeBoardsLimit},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"membersCount",{get:function(){return this.activePlan.membersCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAdmin",{get:function(){return this.activePlan.userIsAdmin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"membersLimit",{get:function(){return this.activePlan.membersLimit},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentUserEmail",{get:function(){return this.activePlan.currentUserEmail},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"accountId",{get:function(){return this.activePlan.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"accountName",{get:function(){return this.activePlan.title},enumerable:!0,configurable:!0}),e.prototype.purchase=function(n,e){return null},Object.defineProperty(e.prototype,"couponId",{get:function(){return this.coupon&&this.coupon.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dayPassPrice",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype.getFeatures=function(){return[]},Object(a.c)([o.a],e.prototype,"coupon",void 0),e}();e.a=l}).call(this,t(38))},942:function(n,e,t){"use strict";t.d(e,"a",function(){return o});var a=t(493),o=function(){function n(n,e,t){this.account=n,this.options=e,this.activePlan=new a.a(this.account),this.canChangeMemberCount=!0,this.canChangePaymentPeriod=!0,this.billingPlans=t,this.requiredMemberCount=e&&e.requiredMemberCount,this.pastDueInvoices=e&&e.pastDueInvoices}return Object.defineProperty(n.prototype,"contextOptions",{get:function(){return this.options},enumerable:!0,configurable:!0}),n.prototype.canDoPostInvitationPayments=function(){return this.activePlan.hasFeaturePostInvitationPayments},n.prototype.onPaymentFinish=function(){this.options&&this.options.onPaymentFinish()},n.prototype.onPaymentCancel=function(){this.options&&this.options.onPaymentCancel()},n.prototype.selectPlan=function(n,e){},n.prototype.showWhyUpgrade=function(n){},n}()},943:function(n,e,t){"use strict";t.d(e,"a",function(){return r});var a=t(21),o=t(940),i=t(1484),r=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(a.d)(e,n),e.prototype.getTitleForMail=function(){return this.activePlan.isFree?Object(i.g)()||"":Object(i.j)(this.planContext.activePlan)},e.prototype.getBodyForMail=function(){var n=this.paymentInfo;return this.activePlan.isFree?Object(i.b)(n)||"":Object(i.e)(n,this.planContext.activePlan)||""},e}(o.a)}}]);
//# sourceMappingURL=Billing.15fdfc84d9eaef9fdb6b.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{1494:function(e,n){e.exports="#img__close-16-in-24"},2218:function(e,n,t){"use strict";t.d(n,"a",function(){return u});var s=t(27),o=t.n(s),i=t(22),c=t(123),a=t(25),r=t(75),m=t(237),l=t(2216);function u(){Object(a.b)().directive("commentMenu",d)}function d(){return{replace:!0,restrict:"E",require:"^commentBody",scope:{comment:"=",menu:"=",allowPin:"="},template:t(4978),link:function(e,n,t){var s=e.comment,a=function(){e.menu.visibility=!1,e.safeApply()};function u(){i.canvasLayers.canvasContainer.removeEventListener(o.a.LEFT_CLICK,a),i.canvasLayers.canvasContainer.removeEventListener(o.a.RIGHT_CLICK,a),i.canvasLayers.canvasContainer.removeEventListener(o.a.LONG_CLICK,a),i.canvasLayers.canvasContainer.removeEventListener(o.a.LEFT_MOUSE_DOWN,a)}e.$watch("menu.visibility",function(e){e?(i.canvasLayers.canvasContainer.addEventListener(o.a.LEFT_CLICK,a),i.canvasLayers.canvasContainer.addEventListener(o.a.RIGHT_CLICK,a),i.canvasLayers.canvasContainer.addEventListener(o.a.LONG_CLICK,a),i.canvasLayers.canvasContainer.addEventListener(o.a.LEFT_MOUSE_DOWN,a)):u()}),e.followState=Object(l.a)(s),e.pin={pinned:s.cmtPinned,click:function(){var e=!this.pinned;this.pinned=e,s.cmtPinned=e,r.a.comments.commentPinningChanged(s)}},e.copyLink=function(){Object(m.a)(Object(c.b)()+"?"+s.commentGetOpenCommand()+"="+s.tokenizer.id.toString(),{notifications:{successMessage:"Link copied to clipboard"}}),r.a.comments.commentLinkCopied(s)},e.remove=function(){return s.commentDelete()},e.allowRemove=function(){return s.canRemove()},e.$on("$destroy",function(){u()})}}}},2220:function(e,n){e.exports="#img__map-fullscreen-back"},2221:function(e,n){e.exports="#img__map-fullscreen"},2409:function(e,n,t){"use strict";var s=t(30),o=t(25),i=t(4962),c=t(148),a=t(382),r=function(){Object(o.b)().component("userPictureReact",Object(c.react2angular)(a.a,["pictureUrl","className","shouldHideBeforeImageLoad","size"]))};function m(){t(4963),r(),Object(o.b)().directive("userIconsRow",l)}function l(){return Object(s.a)({restrict:"E",template:t(4965),controller:i.a,controllerAs:"ctrl",scope:{users:"=",allUsersCount:"=",maxVisible:"<",showMore:"<",clicked:"&"}})}t.d(n,"a",function(){return m})},2410:function(e,n,t){"use strict";var s=t(2214),o=t(2414),i=t(25),c=t(335),a=t(274);function r(){return{replace:!0,restrict:"E",template:t(4967),scope:{message:"=",comment:"=",editable:"=",canDelete:"=",canShowMenu:"="},link:s.a}}var m=t(2215),l=t(744),u=t(698);function d(){Object(c.a)(),Object(i.b)().directive("commentBody",p),Object(c.a)(),Object(a.a)(),Object(i.b)().directive("commentMessage",r),Object(o.a)()}t.d(n,"a",function(){return d});var g=[{state:u.a.YELLOW,name:u.a[u.a.YELLOW].toLowerCase()},{state:u.a.GREEN,name:u.a[u.a.GREEN].toLowerCase()},{state:u.a.RED,name:u.a[u.a.RED].toLowerCase()},{state:u.a.BLUE,name:u.a[u.a.BLUE].toLowerCase()},{state:u.a.BLACK,name:u.a[u.a.BLACK].toLowerCase()}];function p(e){return{replace:!0,restrict:"E",transclude:!0,scope:{comment:"=",allowResolve:"=",allowColors:"=",denyScrollToMessage:"="},controller:m.a,template:t(4976),link:function(n,t,s,o,i){i(n,function(e,n){t.append(e)}),n.closeComment=function(e){e.preventDefault(),n.cancelReplyMessage(),n.comment.setCmtMode(!1)},e(function(){n.messages.$element=t.find(".comment-body__messages"),n.reply.$element=t.find(".comment-body__reply"),n.scrollToMessage()}),n.showEmojiPicker=function(e){Object(l.a)().show(e.currentTarget.getBoundingClientRect()).then(function(e){if(e){n.reply.controller.edit();var t=n.reply.controller.getEditor(),s=t.selectionStart,o=n.addEmojiToMessage(e,s,t.value);n.isAppleDevice?n.reply.message=o:n.reply.controller.change(o),n.comment.lastReplyingMessage=o,setTimeout(function(){t.focus(),n.reply.controller.scrollIntoView()},300)}})};var c=n.comment;n.colors={colors:g,selected:c.color,click:function(e){c.color=e,n.focusComment()},colorChanged:function(e){this.selected=e,n.safeApply()}},c.cmtColorChanged.add(n.colors.colorChanged,n.colors),n.$on("$destroy",function(){c.cmtColorChanged.remove(n.colors.colorChanged,n.colors)})}}}p.$inject=["$timeout"]},2414:function(e,n,t){"use strict";var s=t(770),o=t(249),i=t(34),c=function(){function e(e){this.$scope=e,e.item=s.d(e.emoji.name);var n=function(){e.highlighted=!!e.emoji.users.find(function(e){return e.toString()===Object(i.a)().userInfo.id});var n=[];e.users=n,e.emoji.users.forEach(function(e){o.a(e.toString(),!0).then(function(e){return n.push(e.name)})})};this.$scope.$watchCollection("emoji.users",n),n()}return e.$inject=["$scope"],e}(),a=t(25);function r(){Object(a.b)().directive("commentEmoji",m)}function m(){return{replace:!0,restrict:"E",template:t(4966),scope:{emoji:"<",readonly:"="},controller:c}}t.d(n,"a",function(){return r})},4962:function(e,n,t){"use strict";(function(e){var s=t(131),o=t(266),i=function(){function n(n){var t=this;this.$scope=n,this.moreVisible=!1,e.log("ng","OnlineUsersController"),n.toggleTooltipPlacement="bottom",n.userTooltipPlacement="bottom",n.PictureSize=o.a,n.$on("$destroy",function(){t.clickController&&t.clickController.destroy()})}return n.prototype.userClicked=function(e){this.$scope.clicked({$user:e}),this.close()},n.prototype.showMore=function(){this.moreVisible=!this.moreVisible,this.moreVisible&&(this.clickController=s.c(this,this.close,".user-icons-row__count, .user-icons-row__menu"))},n.prototype.close=function(){this.moreVisible=!1},n.$inject=["$scope"],n}();n.a=i}).call(this,t(29))},4963:function(e,n,t){var s=t(4964);"string"===typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(24)(s,o);s.locals&&(e.exports=s.locals)},4964:function(e,n,t){(e.exports=t(23)(!1)).push([e.i,".user-icons-row {\n  z-index: 90;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: end;\n      justify-content: flex-end;\n  position: relative;\n  -ms-flex-negative: 1;\n      flex-shrink: 1;\n  -ms-flex-direction: row;\n      flex-direction: row;\n}\n.user-icons-row .user-picture {\n  transition: 1.2s linear all;\n}\n@media screen and (max-width: 1024px) {\n}\n.user-icons-row .user-picture.ng-leave {\n  transition: 0.5s linear all;\n}\n.user-icons-row .user-picture.ng-leave-active {\n  transform: translateY(10px);\n  opacity: 0;\n}\n.user-icons-row .user-picture.ng-enter.ng-enter-active {\n  animation: onlineUserBounce 0.6s;\n}\n@keyframes onlineUserBounce {\n  0% {\n    transform: translateY(10px);\n  }\n  28% {\n    transform: translateY(-45px);\n  }\n  30% {\n    transform: translateY(-50px);\n  }\n  35% {\n    transform: translateY(-51px);\n  }\n  100% {\n    transform: translateY(0px);\n  }\n}\n.user-icons-row__item--deactivated .user-icons-row__item {\n  opacity: 0.5;\n}\n.user-icons-row--color {\n  margin: 0 2px;\n  border-radius: 50%;\n  border: solid 2px transparent;\n  display: inline-block;\n  vertical-align: middle;\n}\n.user-icons-row__count {\n  font-weight: bold;\n  line-height: 26px;\n  margin-left: 12px;\n  width: auto;\n}\n.user-icons-row__count:hover {\n  color: #4262ff;\n}\n.user-icons-row__menu {\n  box-sizing: border-box;\n  position: absolute;\n  z-index: 200;\n  top: 30px;\n  right: 0;\n  width: 280px;\n  background-color: #fff;\n  border-radius: 4px;\n  font-size: 14px;\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n  transform-origin: top center;\n  padding: 20px 16px;\n}\n.user-icons-row__menu.ng-hide-remove {\n  transition: all 0.15s cubic-bezier(0.2, 0.3, 0.25, 0.9);\n  transform-origin: 0 50%;\n  opacity: 0;\n  transform: scale(0.8);\n}\n.user-icons-row__menu.ng-hide-remove.ng-hide-remove-active {\n  opacity: 1;\n  transform: scale(1);\n}\n.user-icons-row__menu-users {\n  max-height: 300px;\n}\n.user-icons-row__menu-user {\n  margin-bottom: 8px;\n  height: 28px;\n}\n.user-icons-row__menu-user:last-child {\n  margin-bottom: 0;\n}\n.user-icons-row__menu-user:hover .user-icons-row__menu-user-name {\n  color: #4262ff;\n}\n.user-icons-row__menu-user--deactivated {\n  opacity: 0.5;\n}\n.user-icons-row__menu-user-name {\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 8px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 180px;\n  line-height: 28px;\n  height: 28px;\n}\n",""])},4965:function(e,n){e.exports='<div class="user-icons-row">\n    <div class="user-icons-row--color" ng-style="{\'border-color\': user.color}"\n         tooltip="{{ user.userData.name ? user.userData.name : \'Anonymous\' }}"\n         tooltip-append-to-body="true"\n         tooltip-placement="{{userTooltipPlacement}}"\n         hm-tap="ctrl.userClicked(user)"\n         ng-class="{\'user-icons-row__item--deactivated\': user.deactivated}"\n         ng-repeat="user in users | limitTo:maxVisible track by user.clientId">\n        <user-picture-react class-name="\'btn user-icons-row__item\'"\n                            picture-url="user.userData.picture.size44"\n                            size="PictureSize.Size24"\n                            should-hide-before-image-load="true">\n        </user-picture-react>\n    </div>\n\n    <div class="btn user-icons-row__item user-icons-row__count"\n         ng-show="showMore && (allUsersCount > maxVisible)"\n         hm-tap="ctrl.showMore()">\n        +{{allUsersCount - maxVisible}}\n    </div>\n\n    <div class="user-icons-row__menu" ng-if="ctrl.moreVisible">\n        <scrollable no-top-line="true" no-bottom-line="true">\n            <div class="user-icons-row__menu-users">\n                <div class="btn user-icons-row__menu-user"\n                     ng-repeat="user in users track by user.clientId"\n                     ng-if="$index >= maxVisible"\n                     hm-tap="ctrl.userClicked(user)">\n                    <div class="user-icons-row--color" ng-style="{\'border-color\': user.color}"\n                         ng-class="{\'user-icons-row__menu-user--deactivated\': user.deactivated}">\n                        <user-picture-react class-name="\'btn user-icons-row__item\'"\n                                            picture-url="user.userData.picture.size44"\n                                            size="PictureSize.Size24">\n                        </user-picture-react>\n                    </div>\n                    <div class="user-icons-row__menu-user-name">{{user.userData.name}}</div>\n                </div>\n            </div>\n        </scrollable>\n    </div>\n</div>\n'},4966:function(e,n){e.exports='<div class="comment-message__emoji"\n     ng-class="{\'comment-message__emoji--highlighted\': highlighted, \'comment-message__emoji--readonly\': readonly}"\n     tooltip="{{users.join(\', \')}}"\n     tooltip-append-to-body="true">\n    <div>\n        <div class="emoji-icon emoji-icon--16 emoji-icon--offset-left" ng-style="{\'background-position\': (-item.bgX * 0.25) + \'px \' + (-item.bgY * 0.25)+ \'px\'}"></div>\n        <div class="emoji-users">{{emoji.users.length}}</div>\n    </div>\n</div>'},4967:function(e,n,t){e.exports='<div class="comment-message" id="comment-message-{{id}}">\n    <div class="comment-message__content" ng-class="{\'comment-message__content--edit-mode\': editMode}">\n        <div class="comment-message__content-header">\n            <div class="comment-message__content-picture">\n                <img ng-src="{{::userPicture}}">\n            </div>\n\n            <div class="comment-message__content-name" title="{{::userName}}" ng-bind-html="::userName"></div>\n\n            <div class="comment-message__content-time"\n                 title="{{timestamp | date:\'MMMM dd, yyyy \\\'at\\\' hh:mma\'}}"\n                 ng-class="{\'comment-message__content-time--hidden\': !(!editMode && message.id)}">\n                <relativedate value="timestamp" absolute-format="\'DD MMM, HH:mm\'" relative-format="\', HH:mm\'"></relativedate>\n            </div>\n        </div>\n\n        <div class="clear"></div>\n\n        <div ng-if="isAllowEdit && !editMode && !isGuest()"\n             hm-tap="showEmojiPicker($event)" class="comment-message__reaction btn"\n             ng-class="{\'comment-message__reaction--touch\': isTouchSupported}">\n            <svg  class="reaction-icon"  ><use xlink:href="'+t(4968)+'"></use></svg>\n        </div>\n\n        <ui-textarea class="stop-textarea-click-{{id}} {{isAllowEdit && editMode ? \'comment-text-edit-emoji\' : \'\'}}"\n                     ui-textarea-links\n                     ui-textarea-mentions\n                     ng-model="message.text"\n                     editable="editable"\n                     on-enter="saveMessage()"\n                     on-focus="edit()"\n                     on-change="messageChanged()"\n                     controller="editor.controller"\n                     data-mentions-position="comment"\n                     edit-as-html="true"></ui-textarea>\n\n        <div ng-show="isAllowEdit && editMode"\n             hm-tap="showEmojiPicker($event)"\n             class="stop-textarea-click-{{id}} comment-message__reaction comment-message__reaction--reply-16 btn"\n             ng-class="{\'comment-message__reaction--touch\': isTouchSupported}">\n            <svg  class="reaction-icon"  ><use xlink:href="'+t(4969)+'"></use></svg>\n        </div>\n\n        <div class="comment-message__content-buttons use-ng-animate" ng-if="editMode">\n            <button class="comment-message__content-buttons-save btn" hm-tap="applyMessage()">Save</button>\n            <button class="comment-message__content-buttons-cancel btn stop-textarea-click-{{id}}" hm-tap="cancelMessage($event)">Cancel</button>\n            <button class="comment-message__content-buttons-delete btn stop-textarea-click-{{id}}"\n                    ng-if="canDelete"\n                    ng-class="{\'comment-text-edit-emoji\':isAllowEdit && editMode}"\n                    hm-tap="deleteMessage()">Delete\n            </button>\n        </div>\n\n        <div class="comment-message__emojis">\n            <comment-emoji hm-tap="toggleEmoji(emoji)"\n                           ng-repeat="emoji in message.emojis"\n                           emoji="emoji"\n                           readonly="isGuest()"\n                           tooltip-placement="top">\n            </comment-emoji>\n        </div>\n    </div>\n</div>'},4968:function(e,n){e.exports="#img__reaction"},4969:function(e,n){e.exports="#img__smile-16"},4976:function(e,n,t){e.exports='<div class="comment-body">\n    \x3c!-- height 55 --\x3e\n    <div ng-if="comment.created" class="comment-body__settings">\n\n        <rtb-toggle ng-if="allowResolve"\n                    label="comment.resolved ? \'Resolved\' : \'Resolve\'"\n                    checked="comment.resolved"\n                    on-change="toggleResolve()"\n                    class="comment-move-stop rtb-toggle--medium {{comment.resolved ? \'rtb-toggle--checked\': \'\'}}"></rtb-toggle>\n\n        <div ng-if="comment.highlightedText" class="comment-menu__highlighted-text" ng-bind-html="::comment.highlightedText"></div>\n\n        <svg  class="comment-body__settings-menu btn comment-move-stop"\n              \n             hm-tap="toggleMenu($event)"\n             ng-show="comment.created"><use xlink:href="'+t(300)+'"></use></svg>\n\n        <button ng-if="followState.isAllowed" hm-tap="followState.click()" class="comment-body__follow-thread rtb-tooltip rtb-tooltip--top"\n                content="{{followState.isFollowed() ? \'Unfollow thread\' : \'Follow thread\'}}"\n                ng-class="{\'comment-body__follow-thread--is-followed\': followState.isFollowed()}"><svg \n                class="icon"  ><use xlink:href="'+t(686)+'"></use></svg></button>\n\n        <div class="comment-menu__colors comment-move-stop" ng-if="allowColors">\n            <div class="comment-menu__colors-color-wrap" hm-tap="setCommentColor(color.state)" ng-repeat="color in colors.colors">\n                <div class="comment-menu__colors-color comment-menu__colors-color--{{color.name}} btn">\n                    <div class="comment-menu__colors-selected" ng-show="color.state == colors.selected">\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <scrollable on-scroll="messages.onScroll()">\n        <div class="comment-body__messages" ng-show="messages.any()">\n            <comment-message comment="comment" class="comment-move-stop"\n                             ng-repeat="message in messages.messages track by message.id" ng-if="!message.hidden"\n                             message="message"\n                             can-delete="!!$index"\n                             editable="myUserIdStr == message.senderIdStr"\n                             ng-class="{\n                                \'comment-message--editable\': myUserIdStr == message.senderIdStr,\n                                \'comment-message--repeat\': message.senderIdStr == messages.messages[$index - 1].senderIdStr\n                             }">\n            </comment-message>\n        </div>\n\n        <div ng-if="tip.visible" class="comment-message comment-message--tip">\n            <div class="comment-message__picture" ng-class="tip.iconClass">\n                <svg>\n                    <use xlink:href="" ng-attr-xlink:href="{{tip.icon}}"></use>\n                </svg>\n            </div>\n\n            <div class="comment-message__content">\n                <div hm-tap="tip.onClick()" class="comment-message__content-text" ng-bind-html="tip.text"></div>\n\n                <div hm-tap="tip.onClose()" class="comment-message__reaction btn"\n                     ng-class="{\'comment-message__reaction--touch\': isTouchSupported}">\n                    <svg  class="reaction-icon"  ><use xlink:href="'+t(1494)+'"></use></svg>\n                </div>\n            </div>\n        </div>\n    </scrollable>\n\n    <div class="comment-body__reply" ng-class="{\n            \'comment-body__reply--first\': !messages.any(),\n            \'comment-body__reply--replying\': messages.any() && reply.replying && reply.opened\n        }">\n\n        <div class="comment-move-stop">\n            <ui-textarea class="stop-reply-click" ui-textarea-mentions ng-model="reply.message"\n                         controller="reply.controller"\n                         placeholder="getPlaceholder()"\n                         on-enter="addReplyMessage()"\n                         on-focus="setReplyMode()"\n                         on-change="onReplyMessageChanged(value)"\n                         autofocus="!messages.any() || reply.message"\n                         data-mentions-position="comment-reply"\n                         edit-as-html="true"></ui-textarea>\n            <div hm-tap="showEmojiPicker($event)"\n                 class="comment-message__reaction comment-message__reaction--reply btn"\n                 ng-class="{\'comment-message__reaction--touch\': isTouchSupported}">\n                <svg  class="reaction-icon"  ><use xlink:href="'+t(4977)+'"></use></svg>\n            </div>\n        </div>\n    </div>\n\n</div>'},4977:function(e,n){e.exports="#img__smile"},4978:function(e,n,t){e.exports='<div class="comment-menu">\n\n    <div class="comment-menu__items">\n        <div class="comment-menu__item" ng-if="followState.isAllowed" hm-tap="followState.click()">\n            <div class="comment-menu__item-icon">\n                <svg  class="icon block"  ><use xlink:href="'+t(686)+'"></use></svg>\n            </div>\n            <span class="comment-menu__item-title">Follow thread</span>\n            <div class="comment-menu__item-icon comment-menu__item-icon--pinned" ng-show="followState.isFollowed()">\n                <svg  class="icon"  ><use xlink:href="'+t(561)+'"></use></svg>\n            </div>\n        </div>\n        <div class="comment-menu__item comment-menu__item--pin" ng-if="allowPin" hm-tap="pin.click()">\n            <div class="comment-menu__item-icon comment-menu__item-icon--pin">\n                <svg  class="icon block"  ><use xlink:href="'+t(4979)+'"></use></svg>\n            </div>\n            <span class="comment-menu__item-title">Pin</span>\n            <div class="comment-menu__item-icon comment-menu__item-icon--pinned" ng-show="pin.pinned">\n                <svg  class="icon"  ><use xlink:href="'+t(561)+'"></use></svg>\n            </div>\n        </div>\n        <div class="comment-menu__item comment-menu__item--link" hm-tap="copyLink()">\n            <div class="comment-menu__item-icon">\n                <svg  class="icon block"\n                      ><use xlink:href="'+t(1243)+'"></use></svg>\n            </div>\n            <span class="comment-menu__item-title">Copy link</span>\n        </div>\n        <div class="comment-menu__item comment-menu__item--remove" hm-tap="remove()" ng-show="allowRemove()">\n            <div class="comment-menu__item-icon">\n                <svg  class="icon block"  ><use xlink:href="'+t(1870)+'"></use></svg>\n            </div>\n            <span class="comment-menu__item-title">Delete</span>\n        </div>\n    </div>\n</div>'},4979:function(e,n){e.exports="#img__pin"}}]);
//# sourceMappingURL=cmn~BoaUI.des~Not.981141018c5eb40f3c0f.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{116:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(21),s=n(99),r=n(43),a=n(148);function o(e,t,n){var o;void 0===t&&(t=null),void 0===n&&(n=[]);var c=e.displayName||"";return c.startsWith("CerebralWrapping_")?(o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(n,t),n.prototype.render=function(){return r.React.createElement(r.CerebralContainer,{controller:s.a.getInstance(),strict:!0},r.React.createElement(e,Object(i.a)({},this.props)))},n}(r.React.PureComponent)).displayName="React2Angular_"+c:o=e,Object(a.react2angular)(o,t,n)}n.d(t,"b",function(){return a.react2angular})},1450:function(e,t,n){e.exports='<div class="search-input">\n    <input type="text"\n           class="search-input__input rtb-input"\n           placeholder="{{placeholder || \'Search\'}}"\n           ng-focus="controller.onFocusHandler()"\n           ng-blur="controller.onBlurHandler()"\n           ng-change="controller.onChangeHandler()"\n           ng-model="search">\n    <div class="search-input__icon">\n        <svg   ><use xlink:href="'+n(453)+'"></use></svg>\n    </div>\n</div>'},1461:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n(86),s=n.n(i),r=n(135),a=n(755),o=n(25);function c(){Object(o.b)().directive("uiSelectOld",l)}function l(){return{replace:!0,restrict:"E",template:n(1462),controller:a.a,scope:{label:"=",width:"=",options:"=",selected:"=?",placeholder:"=",description:"=",selectDisabled:"=",done:"=",failState:"=",failMessage:"=",onSelected:"&"},link:function(e){e.prev=s()(e.selected),e.id=r.b(),e.placeholder&&(e.$watch("options",function(t){Array.isArray(t)&&t[0]&&""!==t[0].value&&(t.unshift({value:"",caption:e.placeholder}),e.selected=e.selected||t[0])}),e.$watch("placeholder",function(t){e.options&&e.options[0]&&(e.options[0].caption=t)})),e.getCaption=function(e){return e.caption||e.title||e.name}}}}},1462:function(e,t){e.exports='<div class="ui-directive ui-select" ng-style="{width: width}"\n     ng-class="{\'ui-directive--done\': done, \'ui-directive--fail\': failState, \'ui-select--disabled\': !options.length || selectDisabled}">\n    <label ng-attr-for="ui-input-{{::id}}">\n        <div class="ui-select__label" ng-show="label">{{label}}</div>\n        <div class="ui-select__description" ng-show="description">{{description}}</div>\n        <div class="ui-select__select-wrapper ui-directive__border" ng-class="{\'ui-select__select-wrapper--selected\': selected.value}">\n            <div class="ui-select__triangle">\n                <icon icon-name="\'general--triangle-black-bottom\'"></icon>\n            </div>\n\n            <select ng-class="{\'--placeholder\': placeholder}" ng-attr-id="ui-select-{{::id}}" ng-model="selected"\n                    ng-options="option as getCaption(option) for option in options"\n                    ng-change="onSelected({option: selected, prev: prev})" ng-disabled="!options.length || selectDisabled"></select>\n        </div>\n\n        <div class="ui-directive__done">{{\'account.commons.directive.ui.done.saved\' | translate}}</div>\n    </label>\n</div>'},1497:function(e,t,n){"use strict";(function(e){var i=n(21),s=n(48),r=n(206),a=n(35),o=n(45),c=n(34),l=n(74),d=n(26),u=n(22),p=n(2187),h=n(1568),f=n(4887),g=n(4888),m=n(2189),b=n(37),y=function(t){function n(){var e=t.call(this)||this;return e.projects=[],e.issueTypes=[],e.priorities=[],e.defaultUser=null,e.unsupportedFields=[],e.isRequiredFieldsSupported=!0,e.isCreateAnotherIssueChecked=!1,e.isCreatingIssue=!1,e.isReady=!1,e.issueTypeIconsSet={},e.prioritiyIconsSet={},e.isReporterAvailable=!1,e.isAssigneeAvailable=!1,e.isEditMetaAvailable=!0,e.isProjectMetaUnavailable=!1,e.customFields=[],e.changedFieldsKeys=[],e.errorMessages=[],e.notificationMessages=[],e.createdIssueKeysBuffer=[],e.autocompleteSource=new p.c,e.onTemplateRender=e.getOnTemplateRender(),e}return Object(i.d)(n,t),n.prototype.onScroll=function(){this.$scope.$broadcast("closeRTBAutocomplete")},n.prototype.whenOperationIssueMetaFetched=function(e,t){var i=this;return new Promise(function(s,r){return n.checkPermissions(e).then(function(){return t().then(s)},function(e){return r(i.noPermission.bind(i,e))}).catch(function(e){return r(function(){e.message&&"fetchIssueTypesFailed"===e.message?(i.invalidateProjects(e.projects),i.setMetaUnavailable(),i.$scope.safeApply(),ErrorsTracker.debug("JiraCardsIssueActionMC.fetchIssueTypes",e)):(i.error(e),i.cancel())})})})},n.prototype.setMetaUnavailable=function(){this.errorMessages=["An error occurred while getting project metadata. Please choose another project."],this.isProjectMetaUnavailable=!0},n.prototype.setMetaAvailable=function(){this.errorMessages=[],this.isProjectMetaUnavailable=!1},Object.defineProperty(n.prototype,"isPriorityAvailable",{get:function(){return this.priorities.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isCreateButtonEnabled",{get:function(){var e=!(!this.selectedProject||!this.selectedIssueType||this.isCreatingIssue);return this.isPriorityAvailable&&(e=!(!e||!this.selectedPriority)),this.isInConvertingMode&&this.params.widgets.length>1&&(e=!0),this.isInEditMode&&(e=this.isEditMetaAvailable),e&&!this.isProjectMetaUnavailable},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"issueTypeIconCoords",{get:function(){return this.calcIconCoords(this.issueTypes,this.selectedIssueType)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"priorityIconCoords",{get:function(){var e="";return this.selectedPriority&&(e=this.calcIconCoords(this.priorities,this.selectedPriority)),e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"issuesCreatedCount",{get:function(){return this.createdIssueKeysBuffer.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"unsuportedFieldNames",{get:function(){var e=this.unsupportedFields.slice().map(function(e){return e.name});return e.length>3&&(e=e.slice(0,3).concat(["etc."])),e.join(", ")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isInConvertingMode",{get:function(){return!!(this.params.widgets&&this.params.widgets.length>0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isInEditMode",{get:function(){return!!this.params.editMode},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSummaryVisible",{get:function(){return!this.isInConvertingMode||this.isInConvertingMode&&1===this.params.widgets.length},enumerable:!0,configurable:!0}),n.prototype.onFieldValueChange=function(e){this.isInEditMode&&!this.changedFieldsKeys.includes(e)&&this.changedFieldsKeys.push(e)},n.prototype.mergeFieldsMeta=function(e,t){return Object.keys(e).reduce(function(e,n){return void 0!==t[n]&&(e[n].currentValue=t[n]),e},Object(i.a)({},e))},n.prototype.initMessages=function(){this.isInConvertingMode&&!this.isSummaryVisible&&this.notificationMessages.push(h.e.get(h.f.CONVERTING_MODE)),this.isInEditMode&&!this.isEditMetaAvailable?this.notificationMessages.push(h.e.get(h.f.NO_EDIT_META)):this.isReporterAvailable||this.isAssigneeAvailable?this.isReporterAvailable?this.isAssigneeAvailable||this.notificationMessages.push(h.e.get(h.f.ASSIGNEE)):this.notificationMessages.push(h.e.get(h.f.REPORTER)):this.notificationMessages.push(h.e.get(h.f.ASSIGNEE_AND_REPORTER))},n.prototype.initEdit=function(e){var t=e[0],n=e[1],s=e[2];return Object(i.b)(this,void 0,void 0,function(){var e,a,o,c,l;return Object(i.e)(this,function(i){switch(i.label){case 0:return t.fields&&Object.keys(t.fields).length?[3,1]:(this.isEditMetaAvailable=!1,[3,4]);case 1:return t.fields=this.mergeFieldsMeta(t.fields,n.fields),e=n.fields.issuetype,a=[e],this.invalidateIssueType(a),this.invalidateFields(t.fields),this.selectedPriority=n.fields.priority,this.invalidateIcon(".ico_priority",this.priorityIconCoords),this.initCustomFields(t.fields),this.epicLinkModel||this.sprintModel?(o=n.fields.project.id,[4,Object(r.b)().fetchCreateIssueMeta(o,"projects.issuetypes.fields")]):[3,3];case 2:c=i.sent().projects[0],this.epicLinkModel&&(l=Object(h.k)(c),this.epicLinkModel.project={id:o,name:c.name,issuetypes:[],epicNameKey:l}),this.sprintModel&&(this.sprintModel.project={id:o,name:c.name,issuetypes:[]}),i.label=3;case 3:this.initDefaultUser(s),this.submitHandler=this.tryUpdateIssue,i.label=4;case 4:return[2]}})})},n.prototype.getOnTemplateRender=function(){var e=!1;return function(){if(!e){var t=document.querySelectorAll(".jira-issue-create-modal textarea");t.length>0&&(e=!0,t.forEach(function(e){e.value&&(e.style.height=e.scrollHeight+5+"px")}))}}},n.prototype.init=function(){this.behaviour=this.isInEditMode?new g.a(this):new f.a(this),this.behaviour.init()},n.prototype.invalidateProjects=function(e){this.projects=e,this.selectedProject=Object(h.m)(e)},n.prototype.initCreate=function(e){var t=e[0],s=e[1],r=e[2],a=e[3];return Object(i.b)(this,void 0,void 0,function(){return Object(i.e)(this,function(e){return this.params.widgets=this.params.convert?Object(i.i)(u.mySelection.selection):void 0,t.length?(this.projects=t,this.selectedProject=Object(h.m)(t),this.invalidateIssueType(s),this.selectedIssueType&&this.selectedIssueType.fields&&(this.invalidateFields(this.selectedIssueType.fields),this.initCustomFields(this.selectedIssueType.fields)),this.isInConvertingMode?(this.summaryModel.text=this.isSummaryVisible?this.extractSummary(this.params.widgets[0]):"",this.descriptionModel.text=this.isSummaryVisible?this.extractDescription(this.params.widgets[0]):"",this.submitHandler=this.submitConvertData):this.submitHandler=this.tryCreateIssue,this.initReporterAndAssignee(r,a),d.lj("show",this.params.convert?"convert":"create_new")):(n.openErrorDialog("No access to any project",h.d),d.lj("no_projects",this.params.convert?"convert":"create_new")),[2]})})},n.prototype.extractSummary=function(e){switch(e.widgetType){case b.a.STICKER:return l.j(e.getVisibleText());case b.a.CARD:return e.getPlainText();default:return""}},n.prototype.extractDescription=function(e){return e.widgetType===b.a.CARD?l.j(e.getDescription()):""},Object.defineProperty(n.prototype,"shouldShowUnsupportedMsg",{get:function(){return this.behaviour.shouldShowUnsupportedMsg},enumerable:!0,configurable:!0}),n.prototype.isRequiredFieldsInSupported=function(e,t,n){return Object.keys(e).reduce(function(i,s){var r=e[s];return i&&r.required?i&&Object(h.n)(r,t,n):i},!0)},n.prototype.handleJiraError=function(t){if(400===t.status&&t.response)try{var n=JSON.parse(t.response).error.message,i=JSON.parse(n);if(i.errors){var s=function(e){var t=r.customFields.find(function(t){return t.key===e});t&&t.makeInvalid(i.errors[e])},r=this;for(var a in i.errors)s(a);var o=this.customFields.find(function(e){return!e.valid});if(o){var c="#field-"+o.key;setTimeout(function(){return e(c)[0].scrollIntoView()})}}i.errorMessages&&(this.errorMessages=i.errorMessages.slice())}catch(e){ErrorsTracker.debug("handleJiraError",e)}},n.prototype.tryUpdateIssue=function(){var e=this;this.isCreatingIssue=!0,this.customFields.forEach(function(e){return e.resetValidation()}),this.errorMessages=[];var t=this.assemblePayload();Object(r.b)().updateIssue(this.params.issueKey,t).then(function(t){e.cancel()}).catch(function(t){e.error(t),e.handleJiraError(t)}).then(function(){e.isCreatingIssue=!1,e.$scope.$apply()})},n.prototype.tryCreateIssue=function(){var e=this;if(this.isCreateButtonEnabled){var n=this.assemblePayload();this.isCreatingIssue=!0,this.customFields.forEach(function(e){return e.resetValidation()}),this.errorMessages=[],Object(r.b)().createIssue(n).then(function(i){if(e.createdIssueKeysBuffer.push(i.key),Object(h.o)(n),e.isCreateAnotherIssueChecked){var s="Issue '"+(e.summaryModel.text.length>20?e.summaryModel.text.substring(0,17).concat("..."):e.summaryModel.text)+"' has been successfully created";Object(a.a)().show(s)}else t.prototype.submit.call(e,e.createdIssueKeysBuffer);e.summaryModel.text="",e.descriptionModel.text="";var r=document.querySelector("#field-summary > input");r&&r.focus(),d.He(e.selectedIssueType&&e.selectedIssueType.name||"",e.isPriorityAvailable&&e.selectedPriority&&e.selectedPriority.name||"",e.isCreateAnotherIssueChecked)}).catch(function(t){e.error(t),e.handleJiraError(t)}).then(function(){e.isCreatingIssue=!1,e.$scope.$apply()})}},n.prototype.markFieldsAsDirty=function(){this.customFields.filter(function(e){return h.b.includes(e.type)}).forEach(function(e){return e.markAsDirty()})},n.prototype.onProjectChanged=function(){var e=this;this.selectedProject&&(this.isProjectMetaUnavailable&&this.setMetaAvailable(),n.fetchIssueTypes(this.selectedProject).then(function(t){e.invalidateIssueType(t),e.selectedIssueType&&e.selectedIssueType.fields&&(e.markFieldsAsDirty(),e.invalidateFields(e.selectedIssueType.fields),e.actualizeCustomFields(e.selectedIssueType.fields),e.epicLinkModel&&(e.epicLinkModel.project=e.selectedProject),e.sprintModel&&(e.sprintModel.project=e.selectedProject))}).catch(function(t){e.setMetaUnavailable(),ErrorsTracker.debug("JiraCardsIssueActionMC.onProjectChanged",t)}).then(function(){e.$scope.$apply()}))},n.prototype.onIssueTypeChanged=function(){this.selectedIssueType&&this.selectedIssueType.fields&&(this.invalidateIcon(".ico_issuetype",this.issueTypeIconCoords),this.invalidateFields(this.selectedIssueType.fields),this.actualizeCustomFields(this.selectedIssueType.fields))},n.prototype.onPriorityChanged=function(){this.onFieldValueChange("priority"),this.invalidateIcon(".ico_priority",this.priorityIconCoords)},n.prototype.userFormat=function(e,t){return"OPTION"===t?e.html:"TITLE"===t?e.name:e.displayName},n.prototype.cancel=function(){t.prototype.cancel.call(this,this.createdIssueKeysBuffer)},n.prototype.onAutocompleteClicked=function(e,t){d.Ie(t)},n.prototype.initDefaultUser=function(e){this.defaultUser={key:e.key,name:e.name,displayName:e.displayName,html:e.html}},n.prototype.initUserModel=function(e,t,n){n&&(e&&e.users.length?n.user=Object(i.a)({},e.users[0]):n.user=Object(i.a)({},t))},n.prototype.initReporterAndAssignee=function(e,t){this.initDefaultUser(t),this.initUserModel(e,t,this.reporterModel),this.initUserModel(e,t,this.assigneeModel)},n.prototype.submitConvertData=function(){var e=this.assemblePayload();Object(h.o)(e),t.prototype.submit.call(this,{resWidgets:this.params.widgets,payload:e})},n.prototype.invalidateIssueType=function(e){this.issueTypes=e,this.issueTypes.length&&(this.selectedIssueType=this.issueTypes[0],this.issueTypeIconsSet=this.createBackgroundImageSets(this.issueTypes.map(function(e){return e.iconUrl})),this.invalidateIcon(".ico_issuetype",this.issueTypeIconCoords))},n.prototype.invalidateFields=function(e){this.priorities=[],this.isReporterAvailable=e.hasOwnProperty("reporter"),this.isAssigneeAvailable=e.hasOwnProperty("assignee"),Object.keys(e).forEach(function(t){return e[t].key=t}),e.hasOwnProperty("priority")&&this.invalidatePriority(e.priority),this.isRequiredFieldsSupported=this.isRequiredFieldsInSupported(e,h.i,h.h),this.unsupportedFields=this.getUnsupportedFields(e,h.i,h.h),this.unsupportedFields.length&&d.Je(this.unsupportedFields.length)},n.prototype.actualizeCustomFields=function(e){var t=this,n=Object.keys(e);this.customFields.forEach(function(t){t.isDirty()&&e[t.key]&&t.invalidate(e[t.key]),n.includes(t.key)?t.active||t.makeActive():t.makeInactive()});var s=n.reduce(function(n,s){var r;return t.customFields.find(function(e){return e.key===s})?n:Object(i.a)(Object(i.a)({},n),((r={})[s]=e[s],r))},{});this.initCustomFields(s)},n.prototype.initCustomFields=function(e){var t=this;Object.keys(e).forEach(function(n){var i=Object(h.l)(e[n]);i&&(i.type===h.c.EPICLINK&&(t.epicLinkModel=i,t.selectedProject&&(t.epicLinkModel.project=t.selectedProject)),i.type===h.c.SPRINT&&(t.sprintModel=i,t.selectedProject&&(t.sprintModel.project=t.selectedProject)),i.type===h.c.SUMMARY&&(t.summaryModel=i),i.type===h.c.DESCRIPTION&&(t.descriptionModel=i),i.type===h.c.REPORTER&&(t.reporterModel=i),i.type===h.c.ASSIGNEE&&(t.assigneeModel=i),t.customFields.push(i))}),this.orderCustomFields()},n.prototype.orderCustomFields=function(){var e=this;Object(i.i)(h.a).reverse().forEach(function(t){var n=e.customFields.findIndex(function(e){return e.type===t});if(-1!==n){var i=e.customFields[n];e.customFields.splice(n,1),e.customFields.unshift(i)}})},n.prototype.invalidatePriority=function(e){this.priorities=e.allowedValues,this.prioritiyIconsSet=this.createBackgroundImageSets(this.priorities.map(function(e){return e.iconUrl})),this.priorities.length&&(this.selectedPriority=this.priorities[0],this.invalidateIcon(".ico_priority",this.priorityIconCoords))},n.prototype.assemblePayload=function(){return this.behaviour.assemblePayload()},n.prototype.createBackgroundImageSets=function(e){return{"background-image":""+e.reduce(function(e,t){return e.push("url("+Object(r.b)().createProxyUrl(t)+")"),e},[]).join(",")}},n.prototype.calcIconCoords=function(e,t){return e.reduce(function(e,n){return e.push((n.id===t.id?2:-16)+"px"),e},[]).join(",")},n.prototype.getUnsupportedFields=function(e,t,n){return this.behaviour.getUnsupportedFields(e,t,n)},n.prototype.invalidateIcon=function(e,t){var n=document.querySelector(e);n&&(n.style.backgroundPositionY=t)},n.fetchData=function(){var e=this;return Object(r.b)().fetchCreateIssueMeta().then(function(e){return e.projects.map(function(e){return{id:e.id,name:e.name}})}).then(function(t){return Object(i.b)(e,void 0,void 0,function(){var e,s,a;return Object(i.e)(this,function(i){switch(i.label){case 0:e=Object(h.m)(t),i.label=1;case 1:return i.trys.push([1,5,,6]),e?[4,n.fetchIssueTypes(e)]:[3,3];case 2:return a=i.sent(),[3,4];case 3:a=[],i.label=4;case 4:return s=a,[2,Promise.all([t,s,Object(r.b)().fetchUsers(Object(c.a)().userInfo.email),Object(r.b)().fetchMyself()])];case 5:return i.sent(),[2,Promise.reject({message:"fetchIssueTypesFailed",projects:t})];case 6:return[2]}})})})},n.fetchEditData=function(e){return Promise.all([Object(r.b)().fetchEditIssueMeta(e),Object(r.b)().readIssueMeta(e),Object(r.b)().fetchMyself()])},n.fetchIssueTypes=function(e){return Object(r.b)().fetchCreateIssueMeta(e.id).then(function(t){return t.projects.length?(e.epicNameKey=Object(h.k)(t.projects[0]),t.projects[0].issuetypes):[]}).then(function(e){return e.filter(function(e){return!e.subtask})})},n.checkPermissions=function(e){var t=Object(r.b)().isCreateIssueAvailable,n=Object(r.b)().permissions().then(function(t){var n=t&&t.permissions&&t.permissions[e];return n&&n.havePermission||!1});return Promise.all([t,n]).then(function(t){var n=t.map(function(t,n){return{permission:h.g[n],jiraPermission:e,value:t}}).find(function(e){return!e.value});return n?Promise.reject(n):Promise.resolve()})},n.openErrorDialog=function(e,t){Object(o.a)().show(Object(m.a)({title:e,message:t}))},n.prototype.noPermission=function(e){try{var t=h.j[e.permission];"function"===typeof t?t(e.jiraPermission):(ErrorsTracker.debug("JiraCardsIssueActionMC.noPermission",e.permission),this.cancel())}catch(e){throw this.cancel(),e}d.lj("no_permissions",this.isInConvertingMode?"create_new":"convert")},n.prototype.error=function(e){var t=this.params.editMode?"updated":"created";Object(a.a)().showError("Issue cannot be "+t+" in JIRA"),ErrorsTracker.debug("JiraCardsIssueActionMC",e)},n}(s.b);t.a=y}).call(this,n(36))},1568:function(e,t,n){"use strict";var i,s,r,a=n(81),o=n(21),c=n(94),l=n.n(c),d=n(2187),u=function(){function e(e,t){t&&(this._type=t),this.invalidate(e)}return e.prototype.invalidate=function(e){this.meta=e,this._valid=!0,this._active=!0,this._dirty=!1,this._errorMessage="",null!=this.meta.currentValue?this.metaValue=this.meta.currentValue:null!=this.meta.hasDefaultValue?this.metaValue=this.meta.defaultValue:this.metaValue=null,this.init()},e.prototype.markAsDirty=function(){this._dirty=!0},e.prototype.isDirty=function(){return this._dirty},e.prototype.makeActive=function(){this._active=!0},e.prototype.makeInactive=function(){this._active=!1},e.prototype.makeInvalid=function(e){this._valid=!1,this._errorMessage=e},e.prototype.resetValidation=function(){this._valid=!0,this._errorMessage=""},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.meta.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this.meta.required},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.meta.key},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this._valid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorMessage",{get:function(){return this._errorMessage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._active},enumerable:!0,configurable:!0}),e}(),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.d)(t,e),t.prototype.init=function(){var e=this;this.value=this.meta.allowedValues.map(function(t){var n=!!e.metaValue&&!!e.metaValue.find(function(e){return e.id===t.id});return{id:t.id,label:t.value,checked:n}})},Object.defineProperty(t.prototype,"finalized",{get:function(){var e=this.value.filter(function(e){return e.checked}).map(function(e){return{id:e.id}});return e.length?e:null},enumerable:!0,configurable:!0}),t}(u),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.d)(t,e),t.prototype.init=function(){var e=this,t=this.meta.required?null:0,n=this.meta.required?this.meta.allowedValues:[{id:null,value:"None"}].concat(this.meta.allowedValues);this.value=n.map(function(n,i){return e.metaValue&&e.metaValue.id===n.id&&(t=i),{id:n.id,label:n.value,index:i}}),this.model=t},Object.defineProperty(t.prototype,"finalized",{get:function(){var e=this,t=this.value.find(function(t){return t.index===e.model}),n=t?t.id:null;return n?{id:n}:null},enumerable:!0,configurable:!0}),t}(u),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.d)(t,e),t.prototype.init=function(){var e=this,t={selectedValue:0,options:[]},n=[{id:null,value:"None"}].concat(this.meta.allowedValues);this.value=n.map(function(n,i){return e.metaValue&&e.metaValue.id===n.id&&(t.selectedValue=i),t.options.push({key:n.value,value:i}),{id:n.id,value:n.value}}),this.model=t},Object.defineProperty(t.prototype,"finalized",{get:function(){var e=this.value[this.model.selectedValue].id;return e?{id:e}:null},enumerable:!0,configurable:!0}),t}(u),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.d)(t,e),t.prototype.init=function(){var e=this.meta.allowedValues.map(function(e){return{value:e.id,name:e.name||e.value}}),t=this.metaValue?this.metaValue.map(function(e){return e.id}):[];this.value={options:e,selectedValues:t}},Object.defineProperty(t.prototype,"finalized",{get:function(){return this.value.selectedValues.length?this.value.selectedValues.map(function(e){return{id:e}}):[]},enumerable:!0,configurable:!0}),t}(u),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.d)(t,e),t.prototype.init=function(){this.value={text:null!=this.metaValue?""+this.metaValue:""}},Object.defineProperty(t.prototype,"finalized",{get:function(){return this.type===D.ENVIRONMENT||this.type===D.SUMMARY||this.type===D.DESCRIPTION||""!==this.value.text?this.value.text:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.value.text},set:function(e){this.value.text=e},enumerable:!0,configurable:!0}),t}(u),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.d)(t,e),t.prototype.init=function(){this.value={text:null!=this.metaValue?""+this.metaValue:""}},Object.defineProperty(t.prototype,"finalized",{get:function(){if(""===this.value.text)return null;var e=Number(this.value.text);return isNaN(e)?this.value.text:e},enumerable:!0,configurable:!0}),t}(m),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.d)(t,e),Object.defineProperty(t.prototype,"finalized",{get:function(){var e=this.value.user?this.value.user.name:"";return e?{name:e}:null},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.value={user:this.metaValue||null}},Object.defineProperty(t.prototype,"user",{get:function(){return this.value.user},set:function(e){this.value.user=e},enumerable:!0,configurable:!0}),t}(u),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.d)(t,e),Object.defineProperty(t.prototype,"finalized",{get:function(){return this.controlValue},enumerable:!0,configurable:!0}),t.prototype.onUpdate=function(e){return this.controlValue=e?e.format(this.finalFormat).toString():null},t.prototype.init=function(){this.format="datetime"===this.meta.schema.type?"DD/MM/YYYY HH:mm":"DD/MM/YYYY",this.finalFormat="datetime"===this.meta.schema.type?"YYYY-MM-DDTHH:mm.ssZ":"YYYY-MM-DD",this.controlValue=null,this.value={format:this.format,showTodayButton:!0},this.metaValue&&(this.value.defaultDate=l()(this.metaValue))},t}(u),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.d)(t,e),Object.defineProperty(t.prototype,"finalized",{get:function(){return this.value.item?this.value.item.key:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"project",{set:function(e){this.dataSource.project=e},enumerable:!0,configurable:!0}),t.prototype.format=function(e,t){return"VALUE"===t?e.name||e.key:e.name?e.name+" - ("+e.key+")":e.key},t.prototype.init=function(){this.dataSource=new d.a,this.value={item:this.metaValue?{key:this.metaValue,name:null,displayName:null}:null}},t}(u),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.d)(t,e),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.closedNames||"Sprint"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"finalized",{get:function(){return this.value.item?this.value.item.key:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"project",{set:function(e){this.dataSource.project=e},enumerable:!0,configurable:!0}),t.prototype.format=function(e){return e.name},t.prototype.init=function(){this.dataSource=new d.b;var e=null;if(this.metaValue){var t=this.metaValue.reduce(function(e,t){if("string"===typeof t){var n=t.match(/name=(.*),startDate/)[1],i={id:t.match(/id=(\d*),/)[1],name:n,state:t.match(/state=([^,]+)/)[1].toLowerCase()};e.push(i)}else i={id:t.id,name:t.name,state:t.state.toLowerCase()};return e},[]);e=t.find(function(e){return"active"===e.state||"future"===e.state}),this.closedNames=t.filter(function(e){return"closed"===e.state}).map(function(e){return e.name}).join(",")}this.value={item:e?{key:e.id,name:e.name,displayName:e.name}:null}},t}(u),x=n(48),j=n(206),I=n(35),C=n(45),w=n(34),S=n(74),O=n(26),A=n(22),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.d)(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t.prototype.fetch=function(e){var t=this;Object(j.b)().fetchUsers(e||"").then(function(e){t._data=e.users,t.onLoaded.dispatch(t,{total:e.total,header:e.header,items:e.users})})},t}(n(2188).a),P=n(2189),R=["project","issuetype","priority","summary","assignee","reporter"],T=["RTB","JIRA"],M=((i={})[T[1]]=function(){F.openErrorDialog("Unable to create JIRA issue","The account that you are using to set up JIRA integration does not have the Create issues permission. \n\t\t\t\t\t\t\t\tPlease, ask your JIRA administrator to grant such a permission to enable you to create issues in your JIRA project.")},i),F=function(e){function t(){var n=e.call(this)||this;return n.projects=[],n.issueTypes=[],n.priorities=[],n.selectedReporter=null,n.selectedAssignee=null,n.defaultUser=null,n.unsupportedFields=[],n.isRequiredFieldsSupported=!0,n.isCreateAnotherIssueChecked=!1,n.isCreatingIssue=!1,n.isReady=!1,n.summary="",n.issueTypeIconsSet={},n.prioritiyIconsSet={},n.isReporterAvailable=!1,n.isAssigneeAvailable=!1,n.createdIssueKeysBuffer=[],n.autocompleteSource=new E,n.whenCreateIssueMetaFetched=new Promise(function(e,i){t.checkPermissions().then(function(){return t.fetchData().then(e)},function(e){return i(n.noPermission.bind(n,[e]))}).catch(function(e){return i(n.error.bind(n,[e]))})}),n}return Object(o.d)(t,e),Object.defineProperty(t.prototype,"isPriorityAvailable",{get:function(){return this.priorities.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCreateButtonEnabled",{get:function(){var e=!(!(this.selectedProject&&this.selectedIssueType&&this.summary.length)||this.isCreatingIssue);return this.isPriorityAvailable&&(e=!(!e||!this.selectedPriority)),this.isInConvertingMode&&this.params.widgets.length>1&&(e=!0),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"issueTypeIconCoords",{get:function(){return this.calcIconCoords(this.issueTypes,this.selectedIssueType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"priorityIconCoords",{get:function(){var e="";return this.selectedPriority&&(e=this.calcIconCoords(this.priorities,this.selectedPriority)),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"issuesCreatedCount",{get:function(){return this.createdIssueKeysBuffer.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unsuportedFieldNames",{get:function(){var e=this.unsupportedFields.slice().map(function(e){return e.name});return e.length>3&&(e=e.slice(0,3).concat(["etc."])),e.join(", ")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInConvertingMode",{get:function(){return this.params.widgets&&this.params.widgets.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSummaryVisible",{get:function(){return!this.isInConvertingMode||this.isInConvertingMode&&1===this.params.widgets.length},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=this;this.params.widgets=this.params.convert?A.mySelection.selection.slice():void 0,this.whenCreateIssueMetaFetched.then(function(n){var i=n[0],s=n[1],r=n[2],a=n[3];e.summaryField=document.querySelector(".jira-issue-summary"),i.length?(e.projects=i,e.selectedProject=i[0],e.invalidateIssueType(s),e.isInConvertingMode?(e.summary=e.isSummaryVisible?S.j(e.params.widgets[0].getVisibleText()):"",e.submitHandler=e.submitConvertData):e.submitHandler=e.tryCreateIssue,e.initReporterAndAssignee(r,a),O.lj("show",e.params.convert?"convert":"create_new")):(t.openErrorDialog("No access to any project","The account that you are using to set up JIRA integration has no projects available for creating issues."),O.lj("no_projects",e.params.convert?"convert":"create_new"))}).catch(function(e){e()}).then(function(){e.isReady=!0,e.$scope.$apply()})},t.prototype.isRequiredFieldsInSupportList=function(e,t){return Object.keys(e).reduce(function(n,i){return e[i].required?n&&t.includes(i):n},!0)},t.prototype.tryCreateIssue=function(){var t=this;this.isCreateButtonEnabled&&(this.isCreatingIssue=!0,Object(j.b)().createIssue(this.assemblePayload()).then(function(n){if(t.createdIssueKeysBuffer.push(n.key),t.isCreateAnotherIssueChecked){var i="Issue '"+(t.summary.length>20?t.summary.substring(0,17).concat("..."):t.summary)+"' has been successfully created";Object(I.a)().show(i)}else e.prototype.submit.call(t,t.createdIssueKeysBuffer);t.summary="",t.summaryField&&t.summaryField.focus(),O.He(t.selectedIssueType&&t.selectedIssueType.name||"",t.isPriorityAvailable&&t.selectedPriority&&t.selectedPriority.name||"",t.isCreateAnotherIssueChecked)}).catch(function(e){Object(I.a)().showError("Issue cannot be created in JIRA"),ErrorsTracker.debug("JiraCardsIssueCreateMC",e)}).then(function(){t.isCreatingIssue=!1,t.$scope.$apply()}))},t.prototype.onProjectChanged=function(){var e=this;this.selectedProject&&t.fetchIssueTypes(this.selectedProject).then(function(t){e.invalidateIssueType(t)}).catch(function(e){Object(I.a)().showError(e),ErrorsTracker.debug("JiraCardsIssueCreateMC",e)}).then(function(){e.$scope.$apply()})},t.prototype.onIssueTypeChanged=function(){this.selectedIssueType&&(this.invalidateIcon(".ico_issuetype",this.issueTypeIconCoords),this.invalidateFields(this.selectedIssueType))},t.prototype.onPriorityChanged=function(){this.invalidateIcon(".ico_priority",this.priorityIconCoords)},t.prototype.reporterFormat=function(e,t){return"OPTION"===t?e.html:"TITLE"===t?e.name:e.displayName},t.prototype.cancel=function(){e.prototype.cancel.call(this,this.createdIssueKeysBuffer)},t.prototype.onAutocompleteClicked=function(e,t){O.Ie(t)},t.prototype.initReporterAndAssignee=function(e,t){this.defaultUser={key:t.key,name:t.name,displayName:t.displayName,html:t.html},this.selectedReporter=Object(o.a)({},t),this.selectedAssignee=Object(o.a)({},t),e&&e.users.length&&(this.selectedReporter=Object(o.a)({},e.users[0]),this.selectedAssignee=Object(o.a)({},e.users[0]))},t.prototype.submitConvertData=function(){e.prototype.submit.call(this,{resWidgets:this.params.widgets,payload:this.assemblePayload()})},t.prototype.invalidateIssueType=function(e){this.issueTypes=e,this.issueTypes.length&&(this.selectedIssueType=this.issueTypes[0],this.issueTypeIconsSet=this.createBackgroundImageSets(this.issueTypes.map(function(e){return e.iconUrl})),this.invalidateIcon(".ico_issuetype",this.issueTypeIconCoords),this.invalidateFields(this.selectedIssueType))},t.prototype.invalidateFields=function(e){this.priorities=[];var t=e.fields;this.isRequiredFieldsSupported=this.isRequiredFieldsInSupportList(t,R),t.hasOwnProperty("priority")&&this.invalidatePriority(t.priority),this.isReporterAvailable=t.hasOwnProperty("reporter"),this.isAssigneeAvailable=t.hasOwnProperty("assignee"),this.unsupportedFields=this.getUnsupportedFields(t,R),this.unsupportedFields.length&&O.Je(this.unsupportedFields.length)},t.prototype.invalidatePriority=function(e){this.priorities=e.allowedValues,this.prioritiyIconsSet=this.createBackgroundImageSets(this.priorities.map(function(e){return e.iconUrl})),this.priorities.length&&(this.selectedPriority=this.priorities[0],this.invalidateIcon(".ico_priority",this.priorityIconCoords))},t.prototype.assemblePayload=function(){var e=null,t={fields:{project:{id:this.selectedProject&&this.selectedProject.id||""},issuetype:{id:this.selectedIssueType&&this.selectedIssueType.id||""},summary:this.summary}};return this.isPriorityAvailable&&(t.fields.priority={id:this.selectedPriority&&this.selectedPriority.id||""}),e=this.selectedReporter||this.defaultUser,this.isReporterAvailable&&e&&(t.fields.reporter={name:e.name}),e=this.selectedAssignee||this.defaultUser,this.isAssigneeAvailable&&e&&(t.fields.assignee={name:e.name}),t},t.prototype.createBackgroundImageSets=function(e){return{"background-image":""+e.reduce(function(e,t){return e.push("url("+Object(j.b)().createProxyUrl(t)+")"),e},[]).join(",")}},t.prototype.calcIconCoords=function(e,t){return e.reduce(function(e,n){return e.push((n.id===t.id?2:-16)+"px"),e},[]).join(",")},t.prototype.getUnsupportedFields=function(e,t){return Object.keys(e).reduce(function(n,i){return e[i].required&&!t.includes(i)&&n.push(e[i]),n},[])},t.prototype.invalidateIcon=function(e,t){var n=document.querySelector(e);n&&(n.style.backgroundPositionY=t)},t.fetchData=function(){return Object(j.b)().fetchCreateIssueMeta().then(function(e){return e.projects.map(function(e){return{id:e.id,name:e.name}})}).then(function(e){var n=e[0];return Promise.all([e,n?t.fetchIssueTypes(n):[],Object(j.b)().fetchUsers(Object(w.a)().userInfo.email),Object(j.b)().fetchMyself()])})},t.fetchIssueTypes=function(e){return Object(j.b)().fetchCreateIssueMeta(e.id).then(function(e){return e.projects.length?e.projects[0].issuetypes:[]}).then(function(e){return e.filter(function(e){return!0!==e.subtask})})},t.checkPermissions=function(){var e=Object(j.b)().isCreateIssueAvailable,t=Object(j.b)().permissions().then(function(e){var t=e&&e.permissions&&e.permissions.CREATE_ISSUES;return t&&t.havePermission||!1});return Promise.all([e,t]).then(function(e){var t=e.map(function(e,t){return{permission:T[t],value:e}}).find(function(e){return!e.value});return t?Promise.reject(t.permission):Promise.resolve()})},t.openErrorDialog=function(e,t){Object(C.a)().show(Object(P.a)({title:e,message:t}))},t.prototype.noPermission=function(e){var t=this;(M[e]||function(){return t.cancel()})(),O.lj("no_permissions",this.isInConvertingMode?"create_new":"convert")},t.prototype.error=function(e){Object(I.a)().showError("Issue cannot be created in JIRA"),ErrorsTracker.debug("JiraCardsIssueCreateMC",e)},t}(x.b),N=F;n.d(t,"f",function(){return r}),n.d(t,"e",function(){return L}),n.d(t,"c",function(){return D}),n.d(t,"i",function(){return B}),n.d(t,"h",function(){return V}),n.d(t,"b",function(){return J}),n.d(t,"a",function(){return $}),n.d(t,"d",function(){return z}),n.d(t,"g",function(){return H}),n.d(t,"j",function(){return q}),n.d(t,"n",function(){return Y}),n.d(t,"k",function(){return Q}),n.d(t,"l",function(){return W}),n.d(t,"o",function(){return X}),n.d(t,"m",function(){return Z}),function(e){e[e.REPORTER=0]="REPORTER",e[e.ASSIGNEE=1]="ASSIGNEE",e[e.ASSIGNEE_AND_REPORTER=2]="ASSIGNEE_AND_REPORTER",e[e.NO_EDIT_META=3]="NO_EDIT_META",e[e.CONVERTING_MODE=4]="CONVERTING_MODE"}(r||(r={}));var D,U=function(e){var t="";switch(e){case r.REPORTER:t="reporter";break;case r.ASSIGNEE:t="assignee";break;case r.ASSIGNEE_AND_REPORTER:t="assignee and reporter"}return"You cannot choose "+t+'.&nbsp;<a href="https://help.miro.com/hc/en-us/articles/360017572434-Jira-Cards#Possible-Issues-and-How-to-Resolve-Them" target="_blank">Learn more</a>'},L=new Map;L.set(r.REPORTER,U(r.REPORTER)),L.set(r.ASSIGNEE,U(r.ASSIGNEE)),L.set(r.ASSIGNEE_AND_REPORTER,U(r.ASSIGNEE_AND_REPORTER)),L.set(r.NO_EDIT_META,"For Jira credentials used to set up Jira cards, there is no information about the available fields.<br/>Please check the field configuration scheme or project permissions on Jira side."),L.set(r.CONVERTING_MODE,"Text from each sticker will become an issue summary."),function(e){e.SUMMARY="summary",e.DESCRIPTION="description",e.MULTICHECKBOXES="multicheckboxes",e.RADIOBUTTONS="radiobuttons",e.SELECT="select",e.TEXTFIELD="textfield",e.FLOAT="float",e.URL="url",e.TEXTAREA="textarea",e.USERPICKER="userpicker",e.REPORTER="reporter",e.ASSIGNEE="assignee",e.DATEPICKER="datepicker",e.MULTISELECT="multiselect",e.EPICLINK="gh-epic-link",e.SPRINT="gh-sprint",e.EPICNAME="gh-epic-label",e.EPICCOLOR="gh-epic-color",e.COMPONENTS="components",e.FIXVERSIONS="fixVersions",e.VERSIONS="versions",e.ENVIRONMENT="environment",e.DUEDATE="duedate"}(D||(D={}));var B=["project","issuetype","priority","summary","assignee","reporter","description","versions","fixVersions","components","environment","duedate"],V=Object.keys(D).map(function(e){return D[e]}),J=[D.VERSIONS,D.FIXVERSIONS,D.COMPONENTS,D.SPRINT,D.EPICLINK],$=[D.SUMMARY,D.DESCRIPTION,D.ASSIGNEE,D.REPORTER,D.EPICNAME,D.EPICLINK,D.EPICCOLOR],z="The account that you are using to set up JIRA integration has no projects available for creating issues.",H=["RTB","JIRA"],K=function(e){return"The account that you are using to set up JIRA integration does not have the "+(e.charAt(0).toUpperCase()+e.slice(1))+" permission. \n\t\t\tPlease, ask your JIRA administrator to grant such a permission to enable you to "+e+" in your JIRA project."},q=((s={})[H[1]]=function(e){!function(e){var t="",n="";switch(e){case"CREATE_ISSUES":n="Unable to create Jira issue",t=K("create issues");break;case"EDIT_ISSUES":n="Unable to edit Jira issue",t=K("edit issues");break;default:throw new Error("Unknown permission "+e)}N.openErrorDialog(n,t)}(e)},s),G=function(e){return e.split(":")[1]},Y=function(e,t,n){if(e.schema.custom)return n.includes(G(e.schema.custom));var i=e.key||(e.name?e.name.toLowerCase():null);return t.includes(i)},Q=function(e){var t=e.issuetypes.find(function(e){return"Epic"===e.name});return t&&t.fields&&Object.keys(t.fields).find(function(e){var n=t.fields[e];return n.schema.custom&&G(n.schema.custom)===D.EPICNAME})||null},W=function(e){var t=e.schema.custom?G(e.schema.custom):e.key;if(t&&V.includes(t)){var n=function(e,t){switch(t){case D.MULTICHECKBOXES:return new p(e,t);case D.USERPICKER:case D.REPORTER:case D.ASSIGNEE:return new y(e,t);case D.RADIOBUTTONS:return new h(e,t);case D.SELECT:return new f(e,t);case D.SUMMARY:case D.DESCRIPTION:case D.TEXTAREA:case D.TEXTFIELD:case D.URL:return new m(e,t);case D.FLOAT:return new b(e,t);case D.DATEPICKER:return new v(e,t);case D.MULTISELECT:return new g(e,t);case D.EPICLINK:return new k(e,t);case D.SPRINT:return new _(e,t);case D.EPICNAME:case D.EPICCOLOR:return new m(e,t);case D.COMPONENTS:case D.FIXVERSIONS:case D.VERSIONS:return new g(e,t);case D.DUEDATE:return new v(e,t);case D.ENVIRONMENT:return new m(e,t)}return null}(e,t);if(n)return n}return null},X=function(e){e.fields.project&&a.f("rtb-integration-jira-prefproj-id",e.fields.project.id)},Z=function(e){var t=a.a("rtb-integration-jira-prefproj-id");return e.reduce(function(e,n){return n.id===t?n:e},e[0])}},2186:function(e,t,n){e.exports=n.p+"static/images/application/icons/jira-logo.68045b.png"},2187:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d});var i=n(21),s=n(206),r=n(2188),a=n(4882),o=n.n(a),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t.prototype.fetch=function(e){var t=this;Object(s.b)().fetchUsers(e||"").then(function(e){t._data=e.users,t.onLoaded.dispatch(t,{total:e.total,header:e.header,items:e.users})})},t}(r.a),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t.prototype.fetch=function(e){var t=this;if(!this.project)throw new Error("Project not set");var n=e?this.project.epicNameKey?' AND (text~"'+e+'*" or key >="'+e+'")':' AND key >="'+e+'"':"",i='project="'+this.project.id+'" AND issuetype="Epic"'+n,r=this.project.epicNameKey||"",a=r?[r]:[];Object(s.b)().fetchIssues(0,50,a,i,!1).then(function(e){var n="Showing "+e.issues.length+" of "+e.total+" matching epics",i=e.issues.map(function(e){return{key:e.key,name:e.fields[r],displayName:e.fields[r]}});t._data=i,t.onLoaded.dispatch(t,{total:e.total,items:i,header:n})})},t}(r.a),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t.prototype.fetch=function(e){if(!this.project)throw new Error("Project not set");this.fetchAllSptints(this.project.id,e)},t.prototype.fetchAllSptints=function(e,t){return Object(i.b)(this,void 0,void 0,function(){var n,s,r,a,c,l,d,u=this;return Object(i.e)(this,function(p){switch(p.label){case 0:return[4,this.fetchBoards(e,0)];case 1:return n=p.sent(),s=n.map(function(e){return u.fetchSprints(""+e,0,"active,future")}),a=o.a,[4,Promise.all(s)];case 2:return r=a.apply(void 0,[p.sent()]),c=r.reduce(function(e,t){return e.find(function(e){return e.id===t.id})?e:Object(i.i)(e,[t])},[]).map(function(e){return{key:e.id,name:e.name,displayName:e.name}}).sort(function(e,t){return e.key>t.key}),l=t?c.filter(function(e){return e.name.includes(t)}):c,d="Showing "+l.length+" of "+l.length+" matching sprints",this._data=l,this.onLoaded.dispatch(this,{total:l.length,items:l,header:d}),[2]}})})},t.prototype.fetchBoards=function(e,t){return Object(i.b)(this,void 0,Promise,function(){var n,r,a,o,c,l,d;return Object(i.e)(this,function(i){switch(i.label){case 0:return[4,Object(s.b)().fetchBoards(e,t)];case 1:return n=i.sent(),r=n.values,a=n.isLast,o=r.filter(function(e){return"scrum"===e.type}).map(function(e){return e.id}),!1!==a?[3,3]:(c=o.length+t,d=(l=o).concat,[4,this.fetchBoards(e,c)]);case 2:return[2,d.apply(l,[i.sent()])];case 3:return[2,o]}})})},t.prototype.fetchSprints=function(e,t,n){return Object(i.b)(this,void 0,void 0,function(){var r,a,o,c,l;return Object(i.e)(this,function(i){switch(i.label){case 0:return[4,Object(s.b)().fetchSprints(e,t,n)];case 1:return r=i.sent(),a=r.values,!1!==r.isLast?[3,3]:(o=a.length+t,l=(c=a).concat,[4,this.fetchSprints(e,o,n)]);case 2:return[2,l.apply(c,[i.sent()])];case 3:return[2,a]}})})},t}(r.a)},2188:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return i});var i=function(){return function(){this.onLoaded=new e.Signal}}()}).call(this,n(38))},2189:function(e,t,n){"use strict";var i=n(21),s=n(44),r=n(733),a=n(46);t.a=function(e){return void 0===e&&(e={}),n(4883),a.a(s.a.JIRA_CARDS_CREATOR_FAILED,r.a,n(4885),Object(i.a)({enableCloseByBackground:!0},e))}},2190:function(e,t,n){"use strict";var i=function(){function e(e){this.controller=e}return e.prototype.init=function(){var e=this;this.controller.whenOperationIssueMetaFetched(this.permission,this.fetchPromise).then(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.initByMode.apply(e,t).then(function(){return e.controller.initMessages()})}).catch(function(e){"function"===typeof e?e():ErrorsTracker.debug("initByMode",e)}).then(function(){e.controller.isReady=!0,e.controller.$scope.safeApply()})},e}();t.a=i},377:function(e,t,n){"use strict";var i=n(30),s=n(25),r=n(487);function a(){return Object(i.a)({restrict:"E",template:r,scope:{width:"=",color:"=",strokeWidth:"="},link:function(e){e.spinner={width:e.width,color:e.color,strokeWidth:e.strokeWidth}}})}t.a=function(){return n(488),Object(s.b)().directive("materialSpinner",a),r}},465:function(e,t,n){"use strict";var i=n(30),s=n(111),r=n.n(s),a=function(){function e(e){var t=this;this.scope=e;var n=this.onChangeHandler;e.$watchGroup(["throttle","onChange"],function(){t.scope.onChange&&t.scope.throttle&&t.scope.throttle>0?t.onChangeHandler=r()(n,t.scope.throttle,{leading:!1,trailing:!0}):t.onChangeHandler=n})}return e.prototype.onFocusHandler=function(){this.scope.onFocus&&this.scope.onFocus()},e.prototype.onBlurHandler=function(){this.scope.onBlur&&this.scope.onBlur()},e.prototype.onChangeHandler=function(){this.scope.onChange&&this.scope.onChange(this.scope.search||"")},e.$inject=["$scope","$element"],e}(),o=n(25),c=n(964),l=n(116);function d(){n(1449),Object(o.b)().directive("searchInput",u),Object(o.b)().component("searchInputReact",Object(l.b)(c.a,["key","search","placeholder","throttle","onChange","onFocus","onBlur"]))}function u(){return Object(i.a)({restrict:"E",template:n(1450),controller:a,controllerAs:"controller",scope:{search:"=",placeholder:"=",throttle:"=",onChange:"=",onFocus:"=",onBlur:"="}})}n.d(t,"a",function(){return d})},482:function(e,t,n){"use strict";var i=n(21),s=n(43);n(560);var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labelRef=s.React.createRef(),t}return Object(i.d)(t,e),t.prototype.componentDidMount=function(){this.labelRef.current&&this.labelRef.current.classList.add("rtb-toggle--animated")},t.prototype.onChange=function(e){this.props.onChange&&this.props.onChange(e.target.checked)},t.prototype.render=function(){var e=Object(s.classNames)("rtb-toggle",{"rtb-toggle--disabled":this.props.isDisabled},this.props.className);return s.React.createElement("label",{className:e,ref:this.labelRef,"no-prevent-default":"true"},s.React.createElement("input",{type:"checkbox",name:this.props.name,checked:this.props.checked,onChange:this.onChange,disabled:this.props.isDisabled}),s.React.createElement("span",{className:"rtb-toggle__indicator"}),this.props.label?s.React.createElement("span",{className:"rtb-toggle__text"},this.props.label):null)},Object(i.c)([s.decorators.autobind],t.prototype,"onChange",null),t}(s.React.PureComponent);t.a=r},4861:function(e,t,n){var i=n(4862);"string"===typeof i&&(i=[[e.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(24)(i,s);i.locals&&(e.exports=i.locals)},4862:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".jira-addon-unavailable {\n  color: #4a4a4a;\n}\n.jira-addon-unavailable .modal-text {\n  position: relative;\n  top: -5px;\n}\n.jira-addon-unavailable .jira-learn-more {\n  margin-top: 2px;\n  text-decoration: underline;\n}\n.jira-addon-unavailable .jira-learn-more:hover {\n  text-decoration: none;\n}\n.jira-addon-unavailable .btn-get-addon {\n  min-width: 120px;\n}\n.jira-addon-unavailable .modal-buttons_shift {\n  margin-top: 25px;\n}\n",""])},4863:function(e,t,n){"use strict";(function(e,i){var s=n(21),r=n(4864),a=n.n(r),o=n(48),c=n(39),l=n(35),d=n(45),u=n(1338),p=n(4866),h=n(26),f=n(4867),g=n(34),m=c.b(),b=d.b(),y=u.b(),v=l.b(),k=g.b(),_=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.instances=[],e.caption="",e.loading=!1,e.attaching=!1,e.items=[],e.issues=[],e.isBrickInputActive=!1,e.suggestions=[],e.isSuggestionsVisible=!1,e.fetchContext=new p.a(function(){}),e.suggestionsContext=new p.a(function(){}),e.attachContext=new p.a(function(){}),e.detachContexts=[new p.a(function(){})],e}return Object(s.d)(n,t),n.prototype.init=function(){this.caption="Connect to JIRA",this.fetchData()},n.prototype.fetchData=function(){var e=this,t=m().currentBoard;this.loading=!0,this.fetchContext=new p.a(function(n){y().getInstances().then(function(i){var s=[];return n.cancelled||(i&&i.length?(e.caption="Attach your board to JIRA issue",e.setupInstances(i),s=y().getIssues(e.selectedInstance.instanceKey,t.boardInfo.id)):e.showUserUnmappedModal()),s}).then(function(t){void 0===t&&(t=[]),n.cancelled||(e.issues=t)}).then(function(){n.cancelled||(e.loading=!1,e.$scope.$digest())}).catch(function(t){n.cancelled||(ErrorsTracker.debug("Fetch JIRA addon data failed",{error:t}),e.closeFetchFailedError())})}),this.fetchContext.start()},n.prototype.generateIssueLink=function(e){return this.selectedInstance.baseUrl+"/browse/"+e.key},n.prototype.showUserUnmappedModal=function(){this.cancel(),b().show(Object(f.a)())},n.prototype.setupInstances=function(e){this.instances=e.map(function(e){return e.caption=e.baseUrl,e.value=e.instanceKey,e}),this.selectedInstance=this.instances[0]},n.prototype.closeFetchFailedError=function(){this.cancel(),v().showError("Sorry, something went wrong when trying to connect to JIRA add-on.")},n.prototype.detachBoard=function(t){var n=this,i=t.target.dataset.issueid,s=this.selectedInstance.instanceKey,r=m().currentBoard.boardInfo.id,a=new p.a(function(t){y().detachBoard(s,r,i).then(function(){t.cancelled||(n.issues=n.issues.filter(function(e){return e.id!=i}),n.$scope.$digest())}).catch(function(n){t.cancelled||(e.log("[JiraAttachIssue]","detachBoard failed",n),v().showError("Sorry, something went wrong when trying to detach board from JIRA issue."))})});a.start(),this.detachContexts.push(a)},n.prototype.attachBoard=function(){var t=this,n=this.selectedInstance.instanceKey,i=m().currentBoard.boardInfo.id,s=k().myUserId,r=[],a=0,o=function(e){return function(t){return t.index!==e}},c=function(s,r){s.length||(y().getIssues(n,i).then(function(e){void 0===e&&(e=[]),r.cancelled||(a&&v().showError("Sorry, something went wrong when trying to attach board to JIRA issue."),t.issues=e,t.$scope.$digest())},function(t){r.cancelled||(e.log("[JiraAttachIssue]","getIssues",t),v().showError("Sorry, something went wrong when trying to get attached JIRA issues."))}),t.items=[],t.attaching=!1,t.$scope.$digest())};this.attaching||(this.attachContext=new p.a(function(l){t.items.length&&(t.attaching=!0),t.items.forEach(function(t,d){r.push({index:d,promise:y().attachBoard(n,i,t.text,s.toString()).then(function(e){l.cancelled||(h.fb(),c(r=r.filter(o(d)),l))},function(t){l.cancelled||(a++,e.log("[JiraAttachIssue]","attachBoard",t),c(r=r.filter(o(d)),l))})})})}),this.attachContext.start())},n.prototype.hasDuplicates=function(e){return!(!this.items.find(function(t){return t.text.toLowerCase()===e.text.toLowerCase()})&&!this.issues.find(function(t){return t.key.toLowerCase()===e.text.toLowerCase()}))},n.prototype.hideSuggestionsList=function(){this.isSuggestionsVisible=!1},n.prototype.showSuggestionsList=function(){var e=this;this.isSuggestionsVisible=!0,setTimeout(function(){var t=i(".suggestionListPopup").get(0),n=i(".form__issue-picker-placeholder__dropdown-placeholder").offset();t.style.top=n.top+"px",t.style.left=n.left+"px",e.$scope.$apply()})},n.prototype.trySuggestions=function(t,n){var i=this;return y().getSuggestions(this.selectedInstance.instanceKey,t).then(function(e){return!n.cancelled&&(e.length?i.suggestions=a()(e,5).map(function(e){return e.img=i.selectedInstance.baseUrl+e.img,e}):i.suggestions=[{key:t,keyHtml:"<b>"+t+"</b>",summary:null,summaryText:null}],!0)}).catch(function(t){return n.cancelled||e.log("[JiraAttachIssue]","trySuggestions",t),!1})},n.prototype.onInputChange=function(e){var t=this;this.suggestionsContext.cancel(),e.length?(this.suggestionsContext=new p.a(function(n){t.trySuggestions(e,n).then(function(e){!n.cancelled&&e&&t.isBrickInputActive&&(t.showSuggestionsList(),t.$scope.$apply())})}),this.suggestionsContext.start()):this.isSuggestionsVisible&&this.hideSuggestionsList()},n.prototype.onBeforeItemAdd=function(e){return this.selectedSuggestion&&(e={text:this.selectedSuggestion.key,value:""}),this.hasDuplicates(e)?null:(e.text=e.text.toUpperCase(),e)},n.prototype.onSuggestionSelected=function(e){var t={text:e.key.toUpperCase(),value:""};this.hasDuplicates(t)?this.items=Object(s.i)(this.items):this.items=Object(s.i)(this.items,[t]),this.hideSuggestionsList()},n.prototype.onInstanceChange=function(e){var t=this,n=this.selectedInstance=this.instances.find(function(t){return t.instanceKey===e.value});this.items=[],this.suggestions=[],this.fetchContext=new p.a(function(e){var i=m().currentBoard;y().getIssues(n.instanceKey,i.boardInfo.id).then(function(e){return void 0===e&&(e=[]),e},function(){return[]}).then(function(n){e.cancelled||(t.issues=n,t.$scope.$digest())})}),this.fetchContext.start()},n.prototype.expandSuggestionList=function(){this.suggestions.length&&!this.isSuggestionsVisible?this.showSuggestionsList():this.hideSuggestionsList()},n.prototype.cancelContexts=function(){this.fetchContext.cancel(),this.suggestionsContext.cancel(),this.attachContext.cancel(),this.detachContexts.forEach(function(e){e.cancel()})},n.prototype.cancel=function(){this.cancelContexts(),t.prototype.cancel.call(this)},n.prototype.destroy=function(){this.cancelContexts()},n}(o.b);t.a=_}).call(this,n(29),n(36))},4864:function(e,t,n){var i=n(999),s=n(4865);e.exports=function(e,t,n){return e&&e.length?(t=n||void 0===t?1:s(t),i(e,0,t<0?0:t)):[]}},4865:function(e,t,n){var i=n(1147);e.exports=function(e){var t=i(e),n=t%1;return t===t?n?t-n:t:0}},4866:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(e){this.isCancelled=!1,this.isStarted=!1,this.delegate=e||function(e){}}return e.prototype.start=function(){var e=this;if(!this.isStarted){var t={get cancelled(){return e.isCancelled}};return this.isStarted=!0,this.delegate(t)}},e.prototype.cancel=function(){this.isCancelled=!0},e}()},4867:function(e,t,n){"use strict";var i=n(21),s=n(452),r=n(524),a=n(46),o=n(44);t.a=function(e){return void 0===e&&(e={}),n(4868),a.a(o.a.JIRA_ADDON_USER_UNMAPPED,s.a,r.a(),Object(i.a)({text:"Your Miro account is not connected with JIRA. Please ask your JIRA administrator to connect your account.",caption:"Unable to attach this board to JIRA",iconURL:n(2186),customClass:"jira-adddon-account-disconnected"},e))}},4868:function(e,t,n){var i=n(4869);"string"===typeof i&&(i=[[e.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(24)(i,s);i.locals&&(e.exports=i.locals)},4869:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".jira-adddon-account-disconnected {\n  color: #4a4a4a;\n}\n.jira-adddon-account-disconnected .btn-upgrade {\n  min-width: 100px;\n}\n.jira-adddon-account-disconnected .modal-text {\n  position: relative;\n  top: -5px;\n}\n",""])},487:function(e,t){e.exports='<div class="rtb-material-spinner" ng-style="{\'width\': spinner.width}">\n    <svg class="rtb-material-spinner-circular" viewBox="25 25 50 50">\n        <circle class="rtb-material-spinner-path"\n                ng-style="{\'stroke\': spinner.color, \'stroke-width\': spinner.strokeWidth}"\n                cx="50"\n                cy="50"\n                r="20"\n                fill="none"\n                stroke-width="2"\n                stroke-miterlimit="10"></circle>\n    </svg>\n</div>'},4870:function(e,t,n){"use strict";(function(e){var i=n(58),s=function(){function t(e){var t=this;this.higlightedIndex=0,this.scope=e,this.higlightedIndex=0,this.keyDownHandler=function(e){t.onKeyDown(e)},this.scope.$watch("show",function(e){e?(t.subsribeEvents(),t.updateSelection()):(t.scope.selected=null,t.higlightedIndex=0,t.unsubscribeEvents())}),this.scope.$watch("suggestions",function(e){t.updateSelection()}),this.scope.$on("$destroy",function(){t.unsubscribeEvents(),t.scope.selected=null,t.scope.suggestions=null,t.scope.onSelected=null})}return t.prototype.onItemSelected=function(e,t){e.preventDefault();var n=this.scope.onSelected;n&&n.apply(this.scope,[{$suggestion:t}])},t.prototype.calcHiglightIndex=function(e){"li"===e.target.tagName.toLowerCase()&&(this.higlightedIndex=+e.target.dataset.index,this.updateSelection())},t.prototype.highlightWrap=function(){var e=this.higlightedIndex,t=(this.scope.suggestions||[]).length;t&&e<0?e=t-1:e>t-1&&(e=0),this.higlightedIndex=e},t.prototype.updateSelection=function(){this.scope.selected=this.scope.suggestions[this.higlightedIndex]},t.prototype.subsribeEvents=function(){e(document).keydown(this.keyDownHandler)},t.prototype.unsubscribeEvents=function(){e(document).off("keydown",this.keyDownHandler)},t.prototype.onKeyDown=function(e){e.keyCode===i.a.UP_ARROW?this.higlightedIndex--:e.keyCode===i.a.DOWN_ARROW&&this.higlightedIndex++,this.highlightWrap(),this.updateSelection(),this.scope.$apply()},t.$inject=["$scope"],t}();t.a=s}).call(this,n(36))},4871:function(e,t){e.exports='<ul class="issue-list" ng-show="show" ng-mouseover="jiraIssueSuggestionsList.calcHiglightIndex($event)">\n    <li class="issue-list__item" ng-repeat="item in suggestions"\n        hm-tap="jiraIssueSuggestionsList.onItemSelected($event, item)" ng-mousedown="jiraIssueSuggestionsList.onItemSelected($event, item)"\n        data-key="{{item.key}}" data-index="{{$index}}" ng-class="{\'issue-list__item--higlighted\': $index === jiraIssueSuggestionsList.higlightedIndex}">\n        <img ng-if="item.img" class="issue-list__item__ico" ng-src="{{item.img}}"\n        /><span ng-if="!item.img">&nbsp;</span\n    ><span class="issue-list__item__label" ng-bind-html="item.keyHtml"></span\n    ><span ng-if="item.summary.length">-</span\n    ><span class="issue-list__item__summ" ng-if="item.summary.length" ng-bind-html="item.summary"></span>\n    </li>\n</ul>'},4872:function(e,t,n){var i=n(4873);"string"===typeof i&&(i=[[e.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(24)(i,s);i.locals&&(e.exports=i.locals)},4873:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".issue-list {\n  background-color: #fff;\n  margin: 0;\n  padding: 10px 0;\n  list-style-type: none;\n}\n.issue-list .issue-list__item {\n  display: block;\n  cursor: pointer;\n  width: 430px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #4a4a4a;\n  white-space: nowrap;\n  line-height: 26px;\n  height: 26px;\n  padding: 0 10px;\n}\n.issue-list .issue-list__item span {\n  vertical-align: middle;\n  line-height: 26px;\n}\n.issue-list .issue-list__item .issue-list__item__ico {\n  vertical-align: middle;\n  margin: -1px 8px 1px -1px;\n}\n.issue-list .issue-list__item .issue-list__item__label {\n  margin-right: 5px;\n}\n.issue-list .issue-list__item .issue-list__item__summ {\n  margin-left: 5px;\n}\n.issue-list .issue-list__item--higlighted {\n  background-color: rgba(149, 165, 166, 0.2);\n}\n",""])},4874:function(e,t,n){var i=n(4875);"string"===typeof i&&(i=[[e.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(24)(i,s);i.locals&&(e.exports=i.locals)},4875:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".loader {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n.loader .loader__spinner {\n  float: left;\n  width: 24px;\n  height: 24px;\n  opacity: 0.5;\n}\n.loader .loader__label {\n  line-height: 24px;\n  margin-left: 10px;\n  vertical-align: middle;\n  color: #b3b3b3;\n}\n.attached-issues-list {\n  margin: 0 0 21px 0;\n  padding: 0;\n  list-style-type: none;\n  width: 100%;\n}\n.attached-issues-list li {\n  white-space: nowrap;\n  line-height: 40px;\n  height: 40px;\n}\n.attached-issues-list li img {\n  width: 16px;\n  height: 16px;\n  vertical-align: middle;\n  margin: -1px 7px 1px -1px;\n}\n.attached-issues-list li span.info {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  display: inline-block;\n  max-width: 340px;\n  line-height: 40px;\n  vertical-align: top;\n}\n.attached-issues-list li span.info span {\n  margin: -2px 0;\n}\n.attached-issues-list li span.info a {\n  margin: -2px 0;\n  margin-right: 4px;\n  position: relative;\n}\n.attached-issues-list li span.info a:after {\n  content: '';\n  width: 100%;\n  position: absolute;\n  left: 0;\n  bottom: 1px;\n  border-width: 0 0 1px;\n  border-style: solid;\n}\n.attached-issues-list li div.button {\n  float: right;\n  color: #4262ff;\n  border: none;\n  background: transparent;\n  padding: 0;\n  font-size: 14px;\n  cursor: pointer;\n  outline: none;\n  line-height: 40px;\n  margin-right: -1px;\n}\n.attached-issues-list li div.delimiter {\n  position: relative;\n  height: 1px;\n  background-color: #c3c2cf;\n}\n.attached-issues-list li:last-child div.delimiter {\n  display: none;\n}\n.jira-picker-modal .md-content {\n  color: #4a4a4a;\n  width: 560px;\n  white-space: nowrap;\n}\n.jira-picker-modal .jira-picker-modal__modal-body {\n  box-sizing: border-box;\n  padding: 20px 30px 40px 30px;\n  overflow: hidden;\n}\n.jira-picker-modal .jira-picker-modal__modal-body .form {\n  padding-left: 50px;\n  background-color: #fff;\n}\n.jira-picker-modal .jira-picker-modal__modal-body .ui-select__select-wrapper {\n  border-color: #c3c2cf;\n}\n.jira-picker-modal--loading .md-content {\n  width: 440px;\n}\n.jira-picker-modal--loading .jira-picker-modal__modal-body {\n  box-sizing: border-box;\n  height: 130px;\n  position: relative;\n}\n.form__attach-vars-placeholder {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  width: 440px;\n  margin-top: 20px;\n}\n.form__attach-vars-placeholder label {\n  display: block;\n}\n.form__attach-vars-placeholder .ui-select {\n  margin-top: 6px;\n}\n.form__attach-vars-placeholder .ui-select select {\n  font-size: 14px;\n}\n.form__attach-vars-placeholder .form__attach-vars-placeholder__label {\n  width: 210px;\n  height: 40px;\n  padding-left: 11px;\n  padding-right: 6px;\n  box-sizing: border-box;\n  line-height: 40px;\n  border-radius: 4px;\n  margin-top: 6px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  background-color: rgba(0, 0, 0, 0.04);\n}\n.form__attach-vars-placeholder__offseted {\n  margin-top: 16px;\n}\n.form__issue-picker-placeholder {\n  position: relative;\n  margin-top: 20px;\n}\n.form__issue-picker-placeholder .form__issue-picker-placeholder__label {\n  position: absolute;\n  transform: translate(-50px, 50%);\n}\n.form__issue-picker-placeholder .form__issue-picker-placeholder__dropdown-placeholder {\n  display: block;\n  width: 0;\n  height: 0;\n}\n.form__issue-picker-placeholder .form__issue-picker-placeholder__desc {\n  color: #827f9b;\n  margin-top: 4px;\n  font-size: 12px;\n  display: block;\n  height: 17px;\n}\n.button-panel {\n  margin-top: 20px;\n}\n.button-panel .btn-board-attach {\n  width: 100px;\n  border: none;\n}\n",""])},4876:function(e,t,n){e.exports='<rtb-modal-old class="base-headed-modal jira-picker-modal" ng-class="{\'jira-picker-modal--loading\': modal.loading}">\n    <rtb-modal-header\n            color="blue"\n            text="{{modal.caption}}"\n            on-close="modal.cancel()"\n            class="jira-attach-header"\n            close-button-visible="!modal.params.hideCloseButton"\n    ></rtb-modal-header>\n    <div class="jira-picker-modal__modal-body">\n        <div class="loader" ng-show="modal.loading">\n            <img class="loader__spinner" src="'+n(4877)+'"/>\n            <label class="loader__label">Please wait</label>\n        </div>\n        <div class="form" ng-show="!modal.loading">\n            <ul class="attached-issues-list" ng-if="modal.issues.length > 0" hm-tap="modal.detachBoard($event)">\n                <li ng-repeat="item in modal.issues">\n                    <div class="button" data-issueid="{{item.id}}">Remove</div>\n                    <img ng-src="{{item.fields.issuetype.iconUrl}}"\n                    /><span class="info" title="{{item.key}} - {{item.fields.summary}}"\n                ><a href="{{modal.generateIssueLink(item)}}" target="_blank">{{item.key}}</a\n                ><span>{{item.fields.summary}}</span>\n                        </span>\n                    <div class="delimiter"></div>\n                </li>\n            </ul>\n            <div class="form__attach-vars-placeholder" ng-if="modal.instances.length > 1"\n                 ng-class="{\'form__attach-vars-placeholder__offseted\': modal.issues.length}">\n                <div>\n                    <label>Instance</label>\n                    <ui-select-old ng-if="modal.instances.length > 1" width="210" options="modal.instances" selected="modal.selectedInstance" selectDisabled="modal.attaching"\n                               on-selected="modal.onInstanceChange(option)"></ui-select-old>\n                    <label class="form__attach-vars-placeholder__label" ng-if="modal.instances.length === 1" title="{{modal.selectedInstance.caption}}">{{modal.selectedInstance.caption}}</label>\n                </div>\n            </div>\n            <div class="form__issue-picker-placeholder">\n                <label class="form__issue-picker-placeholder__label">Issue</label>\n                <brick-input on-change="modal.onInputChange($value)" on-before-add="modal.onBeforeItemAdd($item)" on-expand="modal.expandSuggestionList()"\n                             css-class="\'issue-brick-picker\'" items="modal.items" active="modal.isBrickInputActive" disable="modal.attaching">\n                </brick-input>\n                <a class="form__issue-picker-placeholder__dropdown-placeholder" href="#" tabindex="-1"></a>\n                <popup-container css="suggestionListPopup" ng-if="modal.isSuggestionsVisible">\n                    <jira-issue-suggestions-list show="modal.isSuggestionsVisible" suggestions="modal.suggestions" selected="modal.selectedSuggestion"\n                                                 on-selected="modal.onSuggestionSelected($suggestion)">\n                    </jira-issue-suggestions-list>\n                </popup-container>\n                <label class="form__issue-picker-placeholder__desc">Start typing issue number or name</label>\n            </div>\n            <div class="button-panel">\n                <div class="btn btn-blue btn-board-attach" hm-tap="modal.attachBoard()" ng-disabled="modal.attaching">Attach</div>\n            </div>\n        </div>\n    </div>\n</rtb-modal-old>\n'},4877:function(e,t,n){e.exports=n.p+"src/components/web/common/img/backup-pre-load.cde866.gif"},4878:function(e,t,n){"use strict";(function(e){var i=n(21),s=n(48),r=n(206),a=n(126).b(),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(n,t),n.prototype.init=function(){var t=this,n=Object(r.b)().createIssueUrl(this.params.issueKey),i=Object(r.b)().domain+"/secure/EditIssue!default.jspa?key="+this.params.issueKey+"&returnUrl="+encodeURIComponent(n);this.jiraUrl=a().$sce.trustAsResourceUrl(i);e("#jira-issue-edit-modal__iframe").on("load",function(){var e=!1;return function(){return e?t.cancel():e=!0}}())},n}(s.b);t.a=o}).call(this,n(36))},4879:function(e,t,n){var i=n(4880);"string"===typeof i&&(i=[[e.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(24)(i,s);i.locals&&(e.exports=i.locals)},488:function(e,t,n){var i=n(489);"string"===typeof i&&(i=[[e.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(24)(i,s);i.locals&&(e.exports=i.locals)},4880:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".jira-issue-edit-modal .md-content {\n  width: 95%;\n  height: 95vh;\n}\n.jira-issue-edit-modal .md-content .jira-issue-edit-modal__body iframe {\n  width: 100%;\n  height: calc(95vh - 70px);\n}\n",""])},4881:function(e,t){e.exports='<rtb-modal-old class="base-headed-modal jira-issue-edit-modal">\n    <rtb-modal-header class="blue" text="Edit JIRA issue"\n                      close-button-visible="true"\n                      on-close="modal.cancel()">\n    </rtb-modal-header>\n    <div class="jira-issue-edit-modal__body">\n        <iframe id="jira-issue-edit-modal__iframe" class="" ng-src="{{modal.jiraUrl}}" frameborder="none"></iframe>\n    </div>\n</rtb-modal-old>'},4882:function(e,t,n){var i=n(831);e.exports=function(e){return null!=e&&e.length?i(e,1):[]}},4883:function(e,t,n){var i=n(4884);"string"===typeof i&&(i=[[e.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(24)(i,s);i.locals&&(e.exports=i.locals)},4884:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".base-headed-modal.jira-issue-create-error-modal .md-content {\n  width: 585px;\n  border-radius: 4px;\n}\n.base-headed-modal.jira-issue-create-error-modal .md-content .rtb-modal-header__text {\n  text-indent: 76px;\n}\n.base-headed-modal.jira-issue-create-error-modal .md-content .jira-issue-create-error-modal-body {\n  padding: 12px 86px 52px 106px;\n}\n.base-headed-modal.jira-issue-create-error-modal .md-content .jira-issue-create-error-modal-body svg.ico {\n  width: 42px;\n  height: 42px;\n  float: left;\n  margin-top: -42px;\n  margin-left: -66px;\n}\n.base-headed-modal.jira-issue-create-error-modal .md-content .jira-issue-create-error-modal-message {\n  font-size: 14px;\n  line-height: 20px;\n}\n.base-headed-modal.jira-issue-create-error-modal .md-content .jira-issue-create-error-modal-buttons {\n  margin-top: 32px;\n}\n.base-headed-modal.jira-issue-create-error-modal .md-content .jira-issue-create-error-modal-buttons button {\n  height: 48px;\n  font-size: 16px;\n  line-height: 1;\n}\n",""])},4885:function(e,t,n){e.exports='<rtb-modal-old class="base-headed-modal jira-issue-create-error-modal">\n    <rtb-modal-header class="rtb-modal-header--chromeless"\n                      text="{{modal.params.title}}"\n                      close-button-visible="true"\n                      on-close="modal.cancel()"></rtb-modal-header>\n    <div class="jira-issue-create-error-modal-body">\n        <svg  class="ico"  ><use xlink:href="'+n(4886)+'"></use></svg>\n        <p class="jira-issue-create-error-modal-message">\n            {{modal.params.message}}\n        </p>\n        <div class="jira-issue-create-error-modal-buttons">\n            <button class="rtb-button blue" hm-tap="modal.cancel()">OK</button>\n        </div>\n    </div>\n</rtb-modal-old>'},4886:function(e,t){e.exports="#img__ic-alert"},4887:function(e,t,n){"use strict";var i=n(21),s=n(2190),r=n(1497),a=n(1568),o=function(e){function t(t){var n=e.call(this,t)||this;return n.permission="CREATE_ISSUES",n.fetchPromise=function(){return r.a.fetchData()},n.initByMode=t.initCreate.bind(t),n}return Object(i.d)(t,e),t.prototype.init=function(){e.prototype.init.call(this)},Object.defineProperty(t.prototype,"shouldShowUnsupportedMsg",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.getUnsupportedFields=function(e,t,n){return Object.keys(e).reduce(function(i,s){var r=e[s];return r.required&&!Object(a.n)(r,t,n)&&i.push(e[s]),i},[])},t.prototype.assemblePayload=function(){var e=this.controller,t={fields:{issuetype:{id:e.selectedIssueType&&e.selectedIssueType.id||""},project:{id:e.selectedProject&&e.selectedProject.id||""}}};return e.isPriorityAvailable&&(t.fields.priority={id:e.selectedPriority&&e.selectedPriority.id||""}),e.customFields.forEach(function(e){e.active&&(t.fields[e.key]=e.finalized)}),t},t}(s.a);t.a=o},4888:function(e,t,n){"use strict";var i=n(21),s=n(2190),r=n(1568),a=n(1497),o=function(e){function t(t){var n=e.call(this,t)||this;return n.permission="EDIT_ISSUES",n.fetchPromise=function(){return a.a.fetchEditData(t.params.issueKey)},n.initByMode=t.initEdit.bind(t),n}return Object(i.d)(t,e),t.prototype.init=function(){e.prototype.init.call(this)},Object.defineProperty(t.prototype,"shouldShowUnsupportedMsg",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.getUnsupportedFields=function(e,t,n){return Object.keys(e).reduce(function(i,s){var a=e[s];return Object(r.n)(a,t,n)||i.push(e[s]),i},[])},t.prototype.assemblePayload=function(){var e={fields:{}},t=this.controller;return t.changedFieldsKeys.includes("priority")&&(e.fields.priority={id:this.controller.selectedPriority&&this.controller.selectedPriority.id||""}),t.customFields.forEach(function(n){t.changedFieldsKeys.includes(n.key)&&(e.fields[n.key]=n.finalized)}),e},t}(s.a);t.a=o},4889:function(e,t,n){var i=n(4890);"string"===typeof i&&(i=[[e.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(24)(i,s);i.locals&&(e.exports=i.locals)},489:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".rtb-material-spinner {\n  position: relative;\n  margin: 0 auto;\n  width: 40px;\n}\n.rtb-material-spinner:before {\n  content: '';\n  display: block;\n  padding-top: 100%;\n}\n.rtb-material-spinner-circular {\n  animation: rotate 2s linear infinite;\n  height: 100%;\n  transform-origin: center center;\n  width: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n}\n.rtb-material-spinner-path {\n  stroke-dasharray: 1, 200;\n  stroke-dashoffset: 0;\n  animation: dash 1.5s ease-in-out infinite;\n  stroke-linecap: round;\n  stroke: #4262ff;\n}\n.rtb-material-spinner--white .rtb-material-spinner-path {\n  stroke: #fff;\n  stroke-width: 4;\n}\n@keyframes rotate {\n  100% {\n    transform: rotate(360deg);\n  }\n}\n@keyframes dash {\n  0% {\n    stroke-dasharray: 1, 200;\n    stroke-dashoffset: 0;\n  }\n  50% {\n    stroke-dasharray: 89, 200;\n    stroke-dashoffset: -35px;\n  }\n  100% {\n    stroke-dasharray: 89, 200;\n    stroke-dashoffset: -124px;\n  }\n}\n",""])},4890:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".jira-issue-create-modal .rtb-select-old {\n  position: relative;\n  background: 14px 2px / 16px 16px no-repeat;\n}\n.jira-issue-create-modal .rtb-select-old::after {\n  content: '';\n  display: inline-block;\n  border: solid 4px transparent;\n  border-top: solid 5px #000;\n  position: absolute;\n  top: 8px;\n  right: 14px;\n  pointer-events: none;\n}\n.jira-issue-create-modal .rtb-select-old select {\n  width: 210px;\n  height: 36px;\n  box-sizing: border-box;\n  border: solid 1px rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n  margin-top: 6px;\n  font-size: 14px;\n  font-family: OpenSans;\n  padding-left: 13px;\n}\n.jira-issue-create-modal .rtb-select-old select:focus {\n  border-color: rgba(42, 121, 255, 0.8);\n}\n.jira-issue-create-modal .rtb-select-old__iconic select {\n  padding-left: 35px;\n}\n.jira-issue-create-modal .scrollable {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  height: 100%;\n  max-height: calc(100vh - 398px);\n}\n.jira-issue-create-modal .scrollable .scrollable-list {\n  padding: 0 50px 0 0;\n  -ms-flex: 1 1 100%;\n      flex: 1 1 100%;\n  -webkit-overflow-scrolling: touch;\n  scrollbar-color: #827f9b transparent;\n  scrollbar-width: thin;\n}\n.jira-issue-create-modal .scrollable .scrollable-list::-webkit-scrollbar {\n  width: 4px;\n  height: 4px;\n}\n.jira-issue-create-modal .scrollable .scrollable-list::-webkit-scrollbar-thumb {\n  background-color: #827f9b;\n  border: 0 solid transparent;\n  border-radius: 2px;\n}\n.jira-issue-create-modal .scrollable .scrollable-list::-webkit-scrollbar-track {\n  background-color: initial;\n}\n.jira-issue-create-modal .scrollable .scrollable--scroll-not-at-start,\n.jira-issue-create-modal .scrollable .scrollable--scroll-not-at-end {\n  width: 446px;\n  left: -10px;\n}\n.jira-issue-create-modal .rtb-autocomplete input[type='text'].popup-trigger {\n  font-size: 14px;\n}\n.jira-cards-autocomplete {\n  border: solid 1px #4262ff;\n  font-size: 14px;\n}\n.jira-issue-create-modal .rtb-checkbox {\n  margin: 10px 0;\n}\n.jira-issue-create-modal .md-content {\n  width: 536px;\n}\n.jira-issue-create-modal .paddings-wrapper {\n  padding-left: 56px;\n  padding-bottom: 60px;\n}\n.jira-issue-create-modal .rtb-modal-header--chromeless {\n  padding-bottom: 3px;\n  padding-left: 0;\n}\n.jira-issue-create-modal .rtb-modal-header--chromeless .rtb-modal-header__text {\n  line-height: 1.25;\n}\n.jira-issue-create-modal .loader-overlay {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: -10px;\n  z-index: 1;\n  background-color: #fff;\n}\n.jira-issue-create-modal .spinner:before {\n  z-index: 1;\n}\n.jira-issue-create-modal .notifications {\n  padding-right: 30px;\n}\n.jira-issue-create-modal .notifications > span {\n  margin-top: 5px;\n  display: block;\n  line-height: 1.43;\n}\n.jira-issue-create-modal .blocker-overlay {\n  position: relative;\n}\n.jira-issue-create-modal .blocker-overlay.active::after {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  content: '';\n  opacity: 0.6;\n  background-color: #fff;\n}\n.jira-issue-create-modal form {\n  padding: 0;\n  margin: 26px 0 0 0;\n  position: relative;\n}\n.jira-issue-create-modal form .field {\n  margin: 0 0 21px 0;\n}\n.jira-issue-create-modal form .field > label:not([class]) {\n  color: rgba(5, 0, 56, 0.8);\n  display: block;\n}\n.jira-issue-create-modal form .field > span:not([class]),\n.jira-issue-create-modal form .field span[class='ng-scope'] {\n  margin-top: 2px;\n  line-height: 1;\n  font-size: 12px;\n  color: #827f9b;\n}\n.jira-issue-create-modal form .field.another-issue {\n  margin: 10px 0;\n}\n.jira-issue-create-modal form .field.another-issue--hidden > * {\n  display: none;\n}\n.jira-issue-create-modal form .flex-wrapper {\n  display: -ms-flexbox;\n  display: flex;\n}\n.jira-issue-create-modal form .flex-wrapper .field {\n  -ms-flex: 0 1 100%;\n      flex: 0 1 100%;\n}\n.jira-issue-create-modal .multicheckbox {\n  display: block;\n  outline: none;\n}\n.jira-issue-create-modal .rtb-select,\n.jira-issue-create-modal .rtb-radiobutton:first-of-type,\n.jira-issue-create-modal .multiselect-none {\n  margin-top: 6px;\n}\n.jira-issue-create-modal .autosuggest-editor__scrollable-container {\n  margin-top: 0;\n}\n.jira-issue-create-modal .scrollable--hide-scroll-borders .scrollable--scroll-not-at-end,\n.jira-issue-create-modal .scrollable--hide-scroll-borders .scrollable--scroll-not-at-end {\n  display: none;\n}\n.jira-issue-create-modal .multiselect-none {\n  display: block;\n}\n.jira-issue-create-modal input[type='text'],\n.jira-issue-create-modal textarea {\n  width: 100%;\n  margin-top: 6px;\n  padding: 8px 13px;\n  border: solid 1px #c3c2cf;\n  border-radius: 4px;\n  box-sizing: border-box;\n  color: #4a4a4a;\n}\n.jira-issue-create-modal input[type='text']:focus,\n.jira-issue-create-modal textarea:focus {\n  border-color: rgba(42, 121, 255, 0.8);\n}\n.jira-issue-create-modal input[type='text'] {\n  height: 36px;\n}\n.jira-issue-create-modal textarea {\n  min-width: 100%;\n  max-width: 100%;\n}\n.jira-issue-create-modal .unsupported-notification {\n  position: relative;\n  margin-right: 15px;\n  margin-left: 12px;\n  font-size: 12px;\n  color: #fb584e;\n}\n.jira-issue-create-modal .unsupported-notification span {\n  position: absolute;\n  top: 25px;\n  z-index: 1;\n}\n.jira-issue-create-modal .issues-count {\n  width: 115px;\n}\n.jira-issue-create-modal .issues-count span {\n  font-weight: bold;\n}\n.jira-issue-create-modal .action-panel button {\n  font-family: OpenSans;\n  height: 48px;\n  padding: 0 24px;\n  font-size: 16px;\n  vertical-align: middle;\n  min-width: 98px;\n}\n.jira-issue-create-modal .action-panel button + button {\n  margin-left: 13px;\n}\n.jira-issue-create-modal .action-panel--edit {\n  margin-top: 24px;\n}\n.jira-issue-create-modal .disabled {\n  opacity: 0.7;\n}\n.jira-issue-create-modal .required-indicator {\n  color: #d92929;\n}\n.jira-issue-create-modal .field-error-message {\n  color: #d92929;\n  margin-top: 12px;\n}\n.jira-issue-create-modal .error-messages {\n  margin-top: 5px;\n}\n.jira-issue-create-modal .error-messages span {\n  color: #d92929;\n  display: block;\n}\n.jira-issue-create-modal .icon-calendar {\n  top: 7px !important;\n}\n.jira-issue-create-modal .datepicker {\n  z-index: 1;\n}\n.jira-issue-create-modal .datepicker .picker-switch.accordion-toggle {\n  display: none;\n}\n",""])},4891:function(e,t){e.exports='<rtb-modal-old class="base-headed-modal jira-issue-create-modal">\n    <div class="paddings-wrapper">\n        <rtb-modal-header class="rtb-modal-header--chromeless" text="{{modal.params.issueKey ? modal.params.title + \': \' + modal.params.issueKey : modal.params.title}}"\n                          close-button-visible="true"\n                          on-close="modal.cancel()">\n        </rtb-modal-header>\n        <div class="notifications">\n            <span ng-repeat="message in modal.notificationMessages" ng-bind-html="message" ng-show="modal.isReady"></span>\n            <div class="error-messages" ng-show="modal.errorMessages.length > 0">\n                <span ng-repeat="message in modal.errorMessages">{{message}}</span>\n            </div>\n        </div>\n        <form on-load="modal.onFormLoad">\n            <scrollable on-scroll="modal.onScroll()" ng-class="{\'scrollable--hide-scroll-borders\': modal.isProjectMetaUnavailable}">\n                <div class="field" ng-hide="modal.isInEditMode">\n                    <label>Project</label>\n                    <label class="rtb-select-old">\n                        <select ng-options="project.name for project in modal.projects track by project.id"\n                                ng-model="modal.selectedProject"\n                                ng-change="modal.onProjectChanged()">\n                        </select>\n                    </label>\n                </div>\n                <div class="flex-wrapper" ng-hide="modal.isProjectMetaUnavailable">\n                    <div class="field" ng-hide="modal.isInEditMode && !modal.isEditMetaAvailable">\n                        <label>Issue type</label>\n                        <label class="rtb-select-old rtb-select-old__iconic ico_issuetype"\n                               ng-style="modal.issueTypeIconsSet"\n                               ng-class="{\'disabled\': modal.isInEditMode}">\n                            <select ng-disabled="modal.isInEditMode"\n                                    ng-model="modal.selectedIssueType"\n                                    ng-change="modal.onIssueTypeChanged()">\n                                <option ng-value="issueType" ng-repeat="issueType in modal.issueTypes track by issueType.id">\n                                    {{issueType.name}}\n                                </option>\n                            </select>\n                        </label>\n                    </div>\n                    <div class="field" ng-show="!modal.isRequiredFieldsSupported && !modal.isInEditMode">\n                        <div class="unsupported-notification">\n                            <span>Can\'t create Jira issue. Required fields (<b>{{modal.unsuportedFieldNames}}</b>) are not supported.</span>\n                        </div>\n                    </div>\n                </div>\n                <div class="blocker-overlay" ng-class="{\'active\': !modal.isRequiredFieldsSupported && !modal.isInEditMode}" ng-hide="modal.isProjectMetaUnavailable">\n                    <div class="field" ng-show="modal.isPriorityAvailable">\n                        <label>Priority</label>\n                        <label class="rtb-select-old rtb-select-old__iconic ico_priority" ng-style="modal.prioritiyIconsSet">\n                            <select ng-options="priority.name for priority in modal.priorities track by priority.id"\n                                    ng-model="modal.selectedPriority"\n                                    ng-change="modal.onPriorityChanged()"></select>\n                        </label>\n                    </div>\n                    <div id="field-{{field.key}}" class="field custom-field" ng-repeat="field in modal.customFields" ng-if="field.active">\n                        <label>{{field.name}}<span class="required-indicator" ng-if="field.required">&nbsp;*</span></label>\n\n                        \x3c!--checkboxes--\x3e\n                        <div ng-if="field.type === \'multicheckboxes\'" class="multicheckboxes">\n                            <rtb-checkbox\n                                    on-change="modal.onFieldValueChange(field.key)"\n                                    class="multicheckbox"\n                                    ng-repeat="value in field.value"\n                                    name="\'someName1\'"\n                                    tabindex="0"\n                                    checked="value.checked"\n                                    label="value.label">\n                            </rtb-checkbox>\n                        </div>\n\n                        \x3c!--radiobuttons--\x3e\n                        <div ng-if="field.type === \'radiobuttons\'">\n                            <rtb-radiobutton\n                                    hm-tap="modal.onFieldValueChange(field.key)"\n                                    class="rtb-radiobutton--medium"\n                                    ng-repeat="value in field.value"\n                                    label="value.label"\n                                    value="value.index"\n                                    model="field.model">\n                            </rtb-radiobutton>\n                        </div>\n\n                        \x3c!--select--\x3e\n                        <rtb-select ng-if="field.type === \'select\'"\n                                    class="rtb-select rtb-select--secondary-bordered rtb-select--small rtb-select--fluid"\n                                    on-change="modal.onFieldValueChange(field.key)"\n                                    ng-model="field.model.selectedValue"\n                                    options="field.model.options">\n                        </rtb-select>\n\n                        \x3c!--textarea--\x3e\n                        <textarea ng-if="[\'description\', \'environment\', \'textarea\'].includes(field.type)"\n                                  ng-model="field.value.text"\n                                  type="text"\n                                  ng-change="modal.onFieldValueChange(field.key)">\n                            </textarea>\n\n                        \x3c!--input--\x3e\n                        <input ng-if="[\'summary\', \'url\', \'textfield\', \'float\', \'gh-epic-label\', \'gh-epic-color\'].includes(field.type)"\n                               class="jira-issue-summary"\n                               maxlength="255"\n                               ng-model="field.value.text"\n                               type="text"\n                               ng-change="modal.onFieldValueChange(field.key)"/>\n\n                        \x3c!--userpicker--\x3e\n                        <rtb-autocomplete ng-if="[\'reporter\', \'assignee\', \'userpicker\'].includes(field.type)" class="autocomplete" source="modal.autocompleteSource" item="field.value.user"\n                                          display-format="modal.userFormat($item, $token)" popup-class="jira-cards-autocomplete"\n                                          on-clicked="modal.onAutocompleteClicked($event, field.name)"\n                                          on-item-selected="modal.onFieldValueChange(field.key)"\n                                          placeholder="{{modal.defaultUser.displayName}}" fit="true">\n                        </rtb-autocomplete>\n                        <span ng-if="[\'reporter\', \'assignee\', \'userpicker\'].includes(field.type)">Start typing to get a list of possible matches</span>\n\n                        \x3c!--datepicker--\x3e\n                        <datepicker ng-if="[\'datepicker\', \'datetime\', \'duedate\'].includes(field.type)" id="{{field.elementId}}" options="field.value"\n                                    on-blur="modal.onFieldValueChange(field.key);field.onUpdate(value)"></datepicker>\n\n                        \x3c!--multiselect--\x3e\n                        <span ng-if="[\'multiselect\', \'versions\', \'fixVersions\', \'components\'].includes(field.type)"\n                              ng-hide="field.value.options.length"\n                              class="multiselect-none">\n                                <b>None</b>\n                            </span>\n                        <autosuggest-editor ng-if="[\'multiselect\', \'versions\', \'fixVersions\', \'components\'].includes(field.type)"\n                                            ng-show="field.value.options.length"\n                                            no-focus="true"\n                                            add-button-title="Add"\n                                            read-only="false"\n                                            options="field.value.options"\n                                            ng-model="field.value.selectedValues"\n                                            on-change="modal.onFieldValueChange(field.key)"/>\n\n                        \x3c!--epiclink--\x3e\n                        <rtb-autocomplete ng-if="field.type === \'gh-epic-link\'"\n                                          class="autocomplete" source="field.dataSource" item="field.value.item"\n                                          display-format="field.format($item, $token)" popup-class="jira-cards-autocomplete"\n                                          placeholder="Epic Link" on-clicked="modal.onAutocompleteClicked($event, \'Epic\')" fit="true"\n                                          on-item-selected="modal.onFieldValueChange(field.key)">\n                        </rtb-autocomplete>\n                        <span ng-if="field.type === \'gh-epic-link\'">Start typing to get a list of possible matches</span>\n\n                        \x3c!--sprint--\x3e\n                        <rtb-autocomplete ng-if="field.type === \'gh-sprint\'"\n                                          class="autocomplete" source="field.dataSource" item="field.value.item"\n                                          display-format="field.format($item, $token)" popup-class="jira-cards-autocomplete"\n                                          placeholder="{{field.placeholder}}" on-clicked="modal.onAutocompleteClicked($event, \'Sprint\')" fit="true"\n                                          on-item-selected="modal.onFieldValueChange(field.key)">\n                        </rtb-autocomplete>\n                        <span ng-if="field.type === \'gh-sprint\'">Start typing to get a list of possible matches</span>\n\n                        <div ng-hide="field.valid" class="field-error-message">\n                            {{field.errorMessage}}\n                        </div>\n                    </div>\n                </div>\n            </scrollable>\n            <div class="field another-issue"\n                 ng-class="{\'another-issue--hidden\': modal.isInConvertingMode}" ng-hide="modal.isInEditMode || modal.isProjectMetaUnavailable">\n                <rtb-checkbox checked="modal.isCreateAnotherIssueChecked"\n                              label="modal.issuesCreatedCount > 0 ? \'Create another issue:\' : \'Create another issue\'">\n                </rtb-checkbox>\n                <span class="issues-count" ng-show="modal.issuesCreatedCount > 0">\n                    <span>{{modal.issuesCreatedCount}} issue{{modal.issuesCreatedCount > 1 ? \'s\' : \'\'}} created</span>\n                </span>\n            </div>\n            <div class="action-panel" ng-class="{\'action-panel--edit\': modal.isInEditMode}">\n                <button class="rtb-button blue"\n                        ng-class="{\'spinner\': modal.isCreatingIssue}"\n                        ng-disabled="!modal.isCreateButtonEnabled"\n                        hm-tap="modal.submitHandler()">{{ modal.isInConvertingMode ? \'Convert\' : modal.isInEditMode ? \'Update\': \'Create\'}}\n                </button>\n                <button class="rtb-button grey" hm-tap="modal.cancel()">Cancel</button>\n            </div>\n            <div class="loader-overlay" ng-hide="modal.isReady"></div>\n        </form>\n        <div class="spinner" ng-hide="modal.isReady"></div>\n    </div>\n    {{modal.onTemplateRender()}}\n</rtb-modal-old>'},4892:function(e,t,n){e.exports='<div class="jira-cards-issue-picker">\n    <h1 class="picker__header">\n        Select issues\n    </h1>\n    <span class="picker-top-controls">\n        <div class="picker-top-controls__control picker-hide-button"\n             data-autotest-id="AT__jira-issue-picker__fields-schema"\n             hm-tap="picker.editFieldsSchema()"\n             ui-tip="JIRA_CUSTOM_SCHEME">\n            <svg>\n                <use xlink:href="'+n(4893)+'"></use>\n            </svg>\n            <span>Configure card fields</span>\n        </div>\n        <div class="picker-splitter"></div>\n        <div class="picker-top-controls__control"\n             data-autotest-id="AT__jira-issue-picker__show-exists"\n             ng-hide="picker.showAlreadyImported"\n             hm-tap="picker.switchImportedVisibility()">\n            <svg>\n                <use xlink:href="'+n(4894)+'"></use>\n            </svg>\n            <span>Show previously imported</span>\n        </div>\n        <div class="picker-top-controls__control picker-hide-button"\n             data-autotest-id="AT__jira-issue-picker__hide-exists"\n             ng-show="picker.showAlreadyImported"\n             hm-tap="picker.switchImportedVisibility()">\n            <svg>\n                <use xlink:href="'+n(4895)+'"></use>\n            </svg>\n            <span>Hide previously imported</span>\n        </div>\n        <div class="picker-splitter"></div>\n        <div class="picker-top-controls__control"\n             data-autotest-id="AT__jira-issue-picker__create-issue"\n             ng-show="picker.isCardCreateAvailable"\n             hm-tap="onShowCreateDialog()">\n            <svg>\n                <use xlink:href="'+n(4896)+'"></use>\n            </svg>\n            <span>Create issue</span>\n        </div>\n    </span>\n    <span class="picker__search-wrapper" ng-class="{\'picker__search-wrapper--focused\': picker.searchFocused, \'picker__search-wrapper--invalid\': picker.isJQLInvalid}">\n        <search-input\n                data-autotest-id="AT__jira-issue-picker__search-issues"\n                search="picker.searchString"\n                placeholder="picker.isAdvancedSearch? \'Advanced search\' : \'Basic search\'"\n                on-change="picker.onSearchChanged"\n                throttle="200"\n                on-focus="picker.onFocus"\n                on-blur="picker.onBlur">\n        </search-input>\n        <div class="picker-svg-button filter-button"\n             ng-class="{\'picker-svg-button--active\': picker.filtersVisible}"\n             ng-if="picker.isAdvancedSearch"\n             hm-tap="picker.onShowFiltersClick()"\n             tooltip="Your favorite JQL-filters"\n             tooltip-placement="top"\n             data-autotest-id="AT__jira-issue-picker__filters-button">\n            <svg>\n                <use xlink:href="'+n(632)+'"></use>\n            </svg>\n        </div>\n        <div class="picker-filters-popup" ng-if="picker.filtersVisible && picker.isAdvancedSearch" ng-scroll="picker.tst()" no-prevent-default="true">\n                <div class="picker-filters-popup__spinner" ng-if="!picker.filtersLoaded">\n                    <material-spinner></material-spinner>\n                </div>\n                <span class="picker-filters-popup__item picker-filters-popup__item--static" ng-if="picker.filters.length === 0 && picker.filtersLoaded">No filters found.</span>\n                <span class="picker-filters-popup__item"\n                      ng-repeat="item in picker.filters"\n                      hm-tap="picker.onFilterClick(item.id)"\n                      ng-attr-data-autotest-id="AT__jira-issue-picker__filters-item-{{$index}}">{{item.name}}</span>\n        </div>\n        <div class="picker-splitter" ng-show="picker.isAdvancedSearch"></div>\n        <rtb-toggle\n                class="rtb-toggle--medium"\n                data-autotest-id="AT__jira-issue-picker__search-type-toggle"\n                label="\'Advanced search\'"\n                checked="picker.isAdvancedSearch"\n                on-change="picker.switchModes()">\n        </rtb-toggle>\n    </span>\n    <div class="picker__body">\n        <div class="picker__loader" ng-class="{\'picker__loader--hidden\': picker.isLoaderHidden}"></div>\n        <div class="picker__listwrapper">\n            <table class="picker__issueslist">\n                <colgroup>\n                    <col width="44px"/>\n                    <col width="60px"/>\n                    <col width="44px"/>\n                    <col width="44px"/>\n                    <col width="100px"/>\n                    <col width="406px"/>\n                    <col width="140px"/>\n                    <col width="82px"/>\n                </colgroup>\n                <thead>\n                <tr>\n                    <th class="checkColumn" data-autotest-id="AT__jira-issue-picker__select-all">\n                        <rtb-checkbox checked="picker.selectedAll"/>\n                    </th>\n                    <th>\n                            <span title="Rank"\n                                  data-autotest-id="AT__jira-issue-picker__sort-rank"\n                                  ng-class="{\'sortable\': !picker.isAdvancedSearch, \'active\': picker.isColumnActive(\'rank\'), \'asc\': picker.sortOrder > 0, \'desc\': picker.sortOrder < 0}"\n                                  hm-tap="picker.onRankinOrDirectionChange(picker.fields.rank)">Rank</span>\n                    </th>\n                    <th class="typeColumn">\n                            <span title="Type"\n                                  data-autotest-id="AT__jira-issue-picker__sort-type"\n                                  ng-class="{\'sortable\': !picker.isAdvancedSearch,\'active\': picker.isColumnActive(\'type\'), \'asc\': picker.sortOrder > 0, \'desc\': picker.sortOrder < 0}"\n                                  hm-tap="picker.onRankinOrDirectionChange(picker.fields.type)">T</span>\n                    </th>\n                    <th class="priorityColumn">\n                            <span title="Priority"\n                                  data-autotest-id="AT__jira-issue-picker__sort-priority"\n                                  ng-class="{\'sortable\': !picker.isAdvancedSearch, \'active\': picker.isColumnActive(\'priority\'), \'asc\': picker.sortOrder > 0, \'desc\': picker.sortOrder < 0}"\n                                  hm-tap="picker.onRankinOrDirectionChange(picker.fields.priority)">P</span>\n                    </th>\n                    <th>\n                            <span title="Key"\n                                  data-autotest-id="AT__jira-issue-picker__sort-key"\n                                  ng-class="{\'sortable\': !picker.isAdvancedSearch, \'active\': picker.isColumnActive(\'issue\'), \'asc\': picker.sortOrder > 0, \'desc\': picker.sortOrder < 0}"\n                                  hm-tap="picker.onRankinOrDirectionChange(picker.fields.key)">Key</span>\n                    </th>\n                    <th>\n                            <span title="Summary"\n                                  data-autotest-id="AT__jira-issue-picker__sort-summary"\n                                  ng-class="{\'sortable\': !picker.isAdvancedSearch, \'active\': picker.isColumnActive(\'summary\'), \'asc\': picker.sortOrder > 0, \'desc\': picker.sortOrder < 0}"\n                                  hm-tap="picker.onRankinOrDirectionChange(picker.fields.summary)">Summary</span>\n                    </th>\n                    <th>\n                            <span title="Assignee"\n                                  data-autotest-id="AT__jira-issue-picker__sort-assignee"\n                                  ng-class="{\'sortable\': !picker.isAdvancedSearch, \'active\': picker.isColumnActive(\'assignee\'), \'asc\': picker.sortOrder > 0, \'desc\': picker.sortOrder < 0}"\n                                  hm-tap="picker.onRankinOrDirectionChange(picker.fields.assignee)">Assignee</span>\n                    </th>\n                    <th>\n                            <span title="Status"\n                                  data-autotest-id="AT__jira-issue-picker__sort-status"\n                                  ng-class="{\'sortable\': !picker.isAdvancedSearch, \'active\': picker.isColumnActive(\'status\'), \'asc\': picker.sortOrder > 0, \'desc\': picker.sortOrder < 0}"\n                                  hm-tap="picker.onRankinOrDirectionChange(picker.fields.status)">Status</span>\n                    </th>\n                </tr>\n                </thead>\n                <tbody class="data">\n                <tr class="issue-row" ng-class="{\'already-on-board\': item.alreadyExists && picker.showAlreadyImported, \'issue-row--selected\': item.checked}"\n                    ng-repeat="item in picker.data" hm-tap="picker.onItemSelected($event, item)">\n                    <td class="checkColumn"\n                        ng-attr-data-autotest-id="AT__jira-issue-picker__select-issue-{{$index}}">\n                        <rtb-checkbox checked="item.checked"/>\n                    </td>\n                    <td class="rankColumn">. . .</td>\n                    <td class="typeColumn" title="{{item.type.name}}"><img class="issue__type-ico" ng-src="{{item.type.iconUrl}}"/></td>\n                    <td class="priorityColumn" title="{{item.priority.name}}">\n                        <img ng-show="item.priority.iconUrl" class="issue__priority-ico" ng-src="{{item.priority.iconUrl}}"/>\n                    </td>\n                    <td class="keyColumn">{{item.key}}</td>\n                    <td class="summaryColumn">{{item.summary}}</td>\n                    <td class="assigneeColumn">{{item.assignee || \'-\'}}</td>\n                    <td class="statusColumn"><span class="issue__status-color {{item.status.color}}">{{item.status.name}}</span></td>\n                </tr>\n                </tbody>\n                <tbody ng-if="picker.data.length === 0" class="no-data">\n                <tr>\n                    <td colspan="8">{{picker.message}}</td>\n                </tr>\n                </tbody>\n            </table>\n        </div>\n        <span class="picker__pager" ng-class="{\'hidden\': !picker.pagesCollection.length}">\n            <button class="pager__prev"\n                    data-autotest-id="AT__jira-issue-picker__pager-prev"\n                    hm-tap="picker.onPreviousPage()">Prev</button>\n            <ul class="pager__pagenumbers" hm-tap="picker.onPageChanged($event)">\n                <li class="pager-page" data-page="{{page}}" ng-repeat="page in picker.pagesCollection"\n                    ng-class="{\'pager-page--selected\': source.page === page}">\n                    {{page + 1}}\n                </li>\n            </ul>\n            <button class="pager__next"\n                    data-autotest-id="AT__jira-issue-picker__pager-next"\n                    hm-tap="picker.onNextPage()">Next</button>\n        </span>\n        <button class="picker__add" ng-show="picker.canAddIssues" hm-tap="onAdd({$value:picker.getSelectedItems()})">Add ({{picker.totalSelected}})</button>\n    </div>\n</div>\n'},4893:function(e,t){e.exports="#img__card-layout-24"},4894:function(e,t){e.exports="#img__card-hide-24"},4895:function(e,t){e.exports="#img__card-view-24"},4896:function(e,t){e.exports="#img__card-plus-24"},4897:function(e,t,n){var i=n(4898);"string"===typeof i&&(i=[[e.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(24)(i,s);i.locals&&(e.exports=i.locals)},4898:function(e,t,n){var i=n(82);(e.exports=n(23)(!1)).push([e.i,".jira-cards-issue-picker {\n  font-size: 20px;\n}\n.jira-cards-issue-picker .picker-splitter {\n  display: inline-block;\n  width: 1px;\n  height: 24px;\n  background-color: #000;\n  opacity: 0.2;\n}\n.jira-cards-issue-picker .picker-svg-button {\n  height: 24px;\n  cursor: pointer;\n  opacity: 0.25;\n}\n.jira-cards-issue-picker .picker-svg-button svg {\n  display: inline-block;\n  width: 24px;\n  height: 24px;\n}\n.jira-cards-issue-picker .picker-svg-button--active,\n.jira-cards-issue-picker .picker-svg-button:hover {\n  opacity: 1;\n  color: #4262ff;\n}\n.jira-cards-issue-picker .picker-filters-popup {\n  position: absolute;\n  overflow: auto;\n  background: #fff;\n  border-radius: 4px;\n  max-width: 236px;\n  width: 236px;\n  min-height: 40px;\n  max-height: 200px;\n  padding: 10px;\n  padding-left: 14px;\n  top: 50px;\n  z-index: 10;\n  right: 190px;\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.12);\n  -webkit-overflow-scrolling: touch;\n  scrollbar-color: #827f9b transparent;\n  scrollbar-width: thin;\n}\n.jira-cards-issue-picker .picker-filters-popup::-webkit-scrollbar {\n  width: 4px;\n  height: 4px;\n}\n.jira-cards-issue-picker .picker-filters-popup::-webkit-scrollbar-thumb {\n  background-color: #827f9b;\n  border: 0 solid transparent;\n  border-radius: 2px;\n}\n.jira-cards-issue-picker .picker-filters-popup::-webkit-scrollbar-track {\n  background-color: initial;\n}\n.jira-cards-issue-picker .picker-filters-popup .picker-filters-popup__item {\n  display: block;\n  cursor: pointer;\n  font-size: 14px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  line-height: 40px;\n}\n.jira-cards-issue-picker .picker-filters-popup .picker-filters-popup__item:hover {\n  color: #4262ff;\n}\n.jira-cards-issue-picker .picker-filters-popup .picker-filters-popup__item--static:hover {\n  cursor: auto;\n  color: #050038;\n}\n.jira-cards-issue-picker .picker-filters-popup .picker-filters-popup__spinner {\n  position: relative;\n  height: 40px;\n}\n.jira-cards-issue-picker .picker-filters-popup .picker-filters-popup__spinner .rtb-material-spinner {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -20px;\n  margin-left: -20px;\n}\n.jira-cards-issue-picker .picker-top-controls {\n  display: inline-block;\n  float: right;\n  font-size: 0;\n  padding-top: 2px;\n  margin-right: -4px;\n}\n.jira-cards-issue-picker .picker-top-controls .picker-top-controls__control {\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  -ms-flex-align: center;\n      align-items: center;\n  cursor: pointer;\n  font-size: 14px;\n  height: 24px;\n  color: #050038;\n}\n.jira-cards-issue-picker .picker-top-controls .picker-top-controls__control span {\n  margin: 0 4px 0 8px;\n}\n.jira-cards-issue-picker .picker-top-controls .picker-top-controls__control svg {\n  display: inline-block;\n  width: 24px;\n  height: 24px;\n}\n.jira-cards-issue-picker .picker-top-controls .picker-top-controls__control:hover {\n  color: #4262ff;\n}\n.jira-cards-issue-picker .picker-top-controls .picker-hide-button {\n  margin-right: 5px;\n}\n.jira-cards-issue-picker .picker-top-controls .picker-splitter {\n  margin-left: 11px;\n  margin-right: 16px;\n}\n.jira-cards-issue-picker .picker__search-wrapper {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  position: relative;\n  width: 100%;\n  height: 56px;\n  margin-top: 20px;\n  border: solid #c3c2cf;\n  border-width: 1px 0;\n}\n.jira-cards-issue-picker .picker__search-wrapper .search-input {\n  -ms-flex-positive: 1;\n      flex-grow: 1;\n  -ms-flex-flow: row-reverse;\n      flex-flow: row-reverse;\n}\n.jira-cards-issue-picker .picker__search-wrapper .search-input .search-input__input {\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  -ms-flex-positive: 1;\n      flex-grow: 1;\n  border: none;\n  margin-left: 9px;\n}\n.jira-cards-issue-picker .picker__search-wrapper .picker-splitter {\n  margin: 0 16px;\n}\n.jira-cards-issue-picker .picker__search-wrapper .rtb-toggle__text {\n  color: #827f9b;\n}\n.jira-cards-issue-picker .picker__search-wrapper .search-toggle--advanced {\n  color: #050038;\n}\n.jira-cards-issue-picker .picker__search-wrapper .rtb-toggle input[type='checkbox']:checked + .rtb-toggle__indicator + .rtb-toggle__text {\n  color: #050038;\n}\n.jira-cards-issue-picker .picker__search-wrapper--focused {\n  border-bottom-color: #4262ff !important;\n}\n.jira-cards-issue-picker .picker__search-wrapper--invalid {\n  border-bottom-color: #d92929 !important;\n}\n.jira-cards-issue-picker h1.picker__header {\n  display: inline;\n  margin: 0 0 26px 0;\n  line-height: 1.5;\n  overflow: hidden;\n  color: #050038;\n  vertical-align: middle;\n  font-size: 20px;\n  font-weight: normal;\n}\n.jira-cards-issue-picker .picker__body {\n  position: relative;\n}\n.jira-cards-issue-picker .picker__loader {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  opacity: 0.7;\n  background-color: #fff;\n  z-index: 100000;\n  transition: opacity 0.2s, bottom 0s;\n}\n.jira-cards-issue-picker .picker__loader--hidden {\n  opacity: 0;\n  bottom: auto;\n}\n.jira-cards-issue-picker .picker__listwrapper {\n  min-height: 396px;\n  margin: 0 0 20px 0;\n  padding: 10px 0 11px 0;\n  box-shadow: inset 0 -1px 0 #c3c2cf;\n}\n.jira-cards-issue-picker .picker__issueslist {\n  width: 900px;\n  table-layout: fixed;\n  border-collapse: collapse;\n  border-spacing: 0;\n  font-size: 14px;\n}\n.jira-cards-issue-picker .picker__issueslist th,\n.jira-cards-issue-picker .picker__issueslist td {\n  padding: 6px 0;\n  text-align: left;\n  color: #050038;\n}\n.jira-cards-issue-picker .picker__issueslist th.checkColumn,\n.jira-cards-issue-picker .picker__issueslist td.checkColumn {\n  padding-left: 4px;\n  padding-top: 4px;\n}\n.jira-cards-issue-picker .picker__issueslist td.checkColumn {\n  padding-top: 6px;\n}\n.jira-cards-issue-picker .picker__issueslist th {\n  color: #827f9b;\n  font-size: 12px;\n}\n.jira-cards-issue-picker .picker__issueslist .no-data {\n  line-height: 20px;\n}\n.jira-cards-issue-picker .picker__issueslist .no-data td {\n  text-align: center;\n  font-style: oblique;\n  white-space: normal;\n}\n.jira-cards-issue-picker .picker__issueslist thead th.typeColumn {\n  padding-left: 9px;\n}\n.jira-cards-issue-picker .picker__issueslist thead th.priorityColumn {\n  padding-left: 9px;\n}\n.jira-cards-issue-picker .picker__issueslist thead th span.sortable {\n  cursor: pointer;\n}\n.jira-cards-issue-picker .picker__issueslist thead th span.sortable:hover,\n.jira-cards-issue-picker .picker__issueslist thead th span.active {\n  color: #050038;\n}\n.jira-cards-issue-picker .picker__issueslist thead th span.active::after {\n  display: inline-block;\n  position: absolute;\n  content: '';\n  background-image: url("+i(n(4899))+");\n  background-size: 16px 16px;\n  height: 16px;\n  width: 16px;\n  margin-left: 3px;\n}\n.jira-cards-issue-picker .picker__issueslist thead th span.active.asc::after {\n  transform: scaleX(-1) rotate(180deg);\n}\n.jira-cards-issue-picker .picker__issueslist tbody tr {\n  height: 36px;\n}\n.jira-cards-issue-picker .picker__issueslist tbody tr:hover input[type='checkbox']:not(:checked) + .rtb-checkbox__body {\n  box-shadow: inset 0 0 0 1px #4262ff;\n}\n.jira-cards-issue-picker .picker__issueslist tbody .issue-row:after {\n  position: absolute;\n  content: '';\n  height: 16px;\n  width: 16px;\n  left: -20px;\n  margin-top: 8px;\n}\n.jira-cards-issue-picker .picker__issueslist tbody .issue-row.already-on-board:after {\n  background-size: 16px 16px;\n  background-image: url("+i(n(4900))+");\n}\n.jira-cards-issue-picker .picker__issueslist tbody .issue-row.already-on-board:not(.issue-row--selected) > * {\n  opacity: 0.44;\n}\n.jira-cards-issue-picker .picker__issueslist tbody td {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.jira-cards-issue-picker .picker__issueslist tbody td .issue__type-ico,\n.jira-cards-issue-picker .picker__issueslist tbody td .issue__priority-ico {\n  width: 14px;\n  height: 14px;\n  vertical-align: middle;\n}\n.jira-cards-issue-picker .picker__issueslist tbody td .issue__status-color {\n  padding: 0 5px;\n  font-size: 11px;\n  font-weight: bold;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  border: solid 1px #c3c2cf;\n  border-radius: 2px;\n  color: #050038;\n}\n.jira-cards-issue-picker .picker__issueslist tbody td .issue__status-color.medium-gray,\n.jira-cards-issue-picker .picker__issueslist tbody td .issue__status-color.blue-gray {\n  border-color: #a5b3c2;\n  color: #4a6785;\n}\n.jira-cards-issue-picker .picker__issueslist tbody td .issue__status-color.yellow {\n  border-color: #ffe9a8;\n  color: #594300;\n}\n.jira-cards-issue-picker .picker__issueslist tbody td .issue__status-color.green {\n  border-color: #60b070;\n  color: #14892c;\n}\n.jira-cards-issue-picker .picker__issueslist tbody td.typeColumn,\n.jira-cards-issue-picker .picker__issueslist tbody td.priorityColumn {\n  padding: 5px 0 0 5px;\n}\n.jira-cards-issue-picker .picker__issueslist tbody td.rankColumn {\n  padding-top: 2px;\n}\n.jira-cards-issue-picker .picker__issueslist tbody td.keyColumn,\n.jira-cards-issue-picker .picker__issueslist tbody td.summaryColumn,\n.jira-cards-issue-picker .picker__issueslist tbody td.assigneeColumn {\n  padding-right: 15px;\n}\n.jira-cards-issue-picker .picker__issueslist tbody td.statusColumn {\n  padding-right: 0;\n}\n.jira-cards-issue-picker .picker__issueslist tbody.data tr {\n  cursor: pointer;\n}\n.jira-cards-issue-picker .picker__pager {\n  display: inline-block;\n  padding-top: 2px;\n  font-size: 14px;\n  line-height: 50px;\n}\n.jira-cards-issue-picker .picker__pager .pager__prev,\n.jira-cards-issue-picker .picker__pager .pager__next {\n  border: none;\n  color: #827f9b;\n  height: 40px;\n  margin: 0;\n  padding: 0;\n  background-color: transparent;\n  outline: none;\n  vertical-align: middle;\n  cursor: pointer;\n}\n.jira-cards-issue-picker .picker__pager .pager__prev:hover,\n.jira-cards-issue-picker .picker__pager .pager__next:hover {\n  color: #827f9b;\n}\n.jira-cards-issue-picker .picker__pager .pager__prev::-moz-focus-inner,\n.jira-cards-issue-picker .picker__pager .pager__next::-moz-focus-inner {\n  border: none;\n}\n.jira-cards-issue-picker .picker__pager .pager__prev {\n  margin-right: 5px;\n}\n.jira-cards-issue-picker .picker__pager .pager__pagenumbers {\n  display: inline-block;\n  vertical-align: middle;\n  margin: 0;\n  padding: 0;\n}\n.jira-cards-issue-picker .picker__pager .pager__pagenumbers .pager-page {\n  display: inline-block;\n  width: 40px;\n  height: 40px;\n  text-align: center;\n  line-height: 3.08;\n  cursor: pointer;\n  color: #827f9b;\n}\n.jira-cards-issue-picker .picker__pager .pager__pagenumbers .pager-page:first-child {\n  margin-left: 0;\n}\n.jira-cards-issue-picker .picker__pager .pager__pagenumbers .pager-page:hover {\n  color: #827f9b;\n}\n.jira-cards-issue-picker .picker__pager .pager__pagenumbers .pager-page--selected {\n  color: #4262ff;\n}\n.jira-cards-issue-picker .picker__add {\n  min-width: 148px;\n  height: 50px;\n  margin-left: 10px;\n  float: right;\n  color: #fff;\n  border: solid 1px #4262ff;\n  border-radius: 4px;\n  background-color: #4262ff;\n  outline: none;\n  transition: color 0.3s, background-color 0.3s, border-color 0.3s;\n}\n.jira-cards-issue-picker .picker__add:hover {\n  border-color: #455bed;\n  background-color: #455bed;\n}\n",""])},4899:function(e,t,n){e.exports=n.p+"efc0a53fab495fac2b2395bfbcf89b20.svg"},4900:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9IiM0MjYyRkYiIGZpbGwtcnVsZT0ibm9uemVybyIKICAgICAgICAgIGQ9Ik02LjI4MyAxMS4yMTdsLS4wNy4wN2ExIDEgMCAwIDAgLjAwOCAxLjQyTDEwIDE2LjQxNGw3LjI4NS03LjIwN2ExIDEgMCAwIDAgLjAwNC0xLjQxOGwtLjA3Ny0uMDc3YTEgMSAwIDAgMC0xLjQyLjAwNEwxMCAxMy41ODZsLTIuMjkzLTIuMzU5YTEgMSAwIDAgMC0xLjQyNC0uMDF6Ii8+Cjwvc3ZnPgo="},4901:function(e,t,n){"use strict";(function(e){var i=n(21),s=n(706),r=n(1),a=n(206),o=n(394),c=a.c(),l=function(){function t(){this._pageSize=10,this._page=0,this._total=0,this._data=[],this._search="",this._orderBy="",this.canceller=null,this.onBeforeUpdate=new e.Signal,this.onUpdated=new e.Signal,this.onError=new e.Signal}return Object.defineProperty(t.prototype,"pageSize",{get:function(){return this._pageSize},set:function(e){this._pageSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"total",{get:function(){return this._total},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){return this._page},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return this._search},set:function(e){this._search=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orderBy",{get:function(){return this._orderBy},set:function(e){this._orderBy=e},enumerable:!0,configurable:!0}),t.prototype.previous=function(){this._page--,this.validatePage()&&this.update()},t.prototype.next=function(){this._page++,this.validatePage()&&this.update()},t.prototype.setPage=function(e){this._page=e,this.validatePage()&&this.update()},t.prototype.update=function(){var e=this,t=this.buildJQL();this.revokeRequest(),this.canceller=Object(r.b)(),this.onBeforeUpdate.dispatch();var n=c().fetchIssues(this.page*this.pageSize,this.pageSize,["summary","issuetype","priority","key","assignee","status"],t);Promise.race([n,this.canceller.promise]).then(function(t){if(t.hasOwnProperty("errorMessages"))e.onError.dispatch(t);else{var n=t;e._total=n.total,e._data=n.issues.map(function(t){return e.convert(t)}),e.onUpdated.dispatch(e._data)}}).catch(function(t){t instanceof s.a||e.onError.dispatch(t)})},t.prototype.destroy=function(){this.revokeRequest(),this._data=[]},t.prototype.convert=function(e){var t={},n=e.fields,s=Object(o.a)().isAlreadyExists(e.key);return n.hasOwnProperty("priority")&&(t.priority={name:n.priority&&n.priority.name,iconUrl:n.priority&&c().createProxyUrl(n.priority.iconUrl)}),n.hasOwnProperty("assignee")&&n.assignee&&(t.assignee=n.assignee&&n.assignee.displayName),Object(i.a)({alreadyExists:s,checked:!1,key:e.key,summary:n.summary,type:{name:n.issuetype.name,iconUrl:c().createProxyUrl(n.issuetype.iconUrl)},status:{name:n.status.name,color:n.status.statusCategory.colorName}},t)},t.prototype.validatePage=function(){var e=Math.ceil(this.total/this.pageSize)-(this.total?1:0),t=!0;return this._page<0&&(this._page=0,t=!1),this._page>e&&(this._page=e,t=!1),t},t.prototype.revokeRequest=function(){this.canceller&&(this.canceller.reject(new s.a("JiraIssue datasource update aborted")),this.canceller=null)},t.prototype.buildJQL=function(){var e=[];return this.search&&e.push(this.search),this.orderBy&&(e.push("order by"),e.push(this.orderBy)),e.join(" ")},t}();t.a=l}).call(this,n(38))},4902:function(e,t,n){var i=n(4903);"string"===typeof i&&(i=[[e.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(24)(i,s);i.locals&&(e.exports=i.locals)},4903:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".jira-cards-picker-modal .rtb-modal-container {\n  width: 1000px;\n  height: 659px;\n  padding: 30px 40px;\n  border-radius: 4px;\n  background-color: #fff;\n}\n",""])},4904:function(e,t){e.exports='<rtb-modal class="jira-cards-picker-modal rtb-modal--center">\n    <div class="jira-cards-picker-modal__modal-body">\n        <jira-issue-picker source="modal.dataSource" on-add="modal.addCards($value)" on-show-create-dialog="modal.showCreateModal()" />\n    </div>\n</rtb-modal>'},4905:function(e,t,n){var i=n(4906);"string"===typeof i&&(i=[[e.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(24)(i,s);i.locals&&(e.exports=i.locals)},4906:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".jira-cards-unavailable-modal p {\n  margin: 0;\n  padding: 0;\n}\n.jira-cards-unavailable-modal .btn {\n  padding: 5px 0;\n}\n.jira-cards-unavailable-modal .buttons-panel {\n  margin: 30px 0 0 0;\n}\n",""])},4907:function(e,t){e.exports='<rtb-modal-old class="base-headed-modal jira-cards-unavailable-modal">\n    <rtb-modal-header color="blue" text="Unable to add JIRA cards" close-button-visible="true" on-close="modal.cancel()"></rtb-modal-header>\n    <div class="modal-content">\n        <p>\n            To use JIRA cards on the board, please enable the JIRA integration in your account settings\n        </p>\n        <div class="buttons-panel" ng-show="modal.canAddCards">\n            <span class="btn btn-link" hm-tap="modal.gotoSettings()">Go to settings</span>\n        </div>\n    </div>\n</rtb-modal-old>'},4908:function(e,t,n){var i=n(4909);"string"===typeof i&&(i=[[e.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(24)(i,s);i.locals&&(e.exports=i.locals)},4909:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".card-integration-fields-content .rtb-modal-content {\n  position: relative;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: start;\n      justify-content: flex-start;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  height: calc(100vh - 60px);\n  min-height: 390px;\n}\n.card-integration-fields-content .rtb-modal-content .rtb-modal-body {\n  -ms-flex-positive: 1;\n      flex-grow: 1;\n  margin-right: -52px;\n  padding-right: 52px;\n}\n.card-integration-fields-content .rtb-modal-content .rtb-btn--secondary {\n  margin-right: 16px;\n}\n.card-integration-fields-content .fields-search {\n  margin-top: 20px;\n  border-bottom: 1px solid #c3c2cf;\n}\n.card-integration-fields-content .fields-search--focused {\n  border-bottom-color: #4262ff;\n}\n.card-integration-fields-content .fields-search .search-input__input {\n  box-sizing: content-box;\n  height: 26px;\n  margin-left: 18px;\n  padding-bottom: 16px;\n}\n.card-integration-fields-content .fields-search .search-input__icon {\n  margin-left: 6px;\n  margin-top: -7px;\n}\n.card-integration-fields-content .fields-list {\n  margin-right: -52px;\n}\n.card-integration-fields-content .fields-list .fields-list__container {\n  display: block;\n  height: calc(100vh - 370px);\n  min-height: 120px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  transform: translateZ(0);\n  transition: transform 0.3s ease-in-out;\n  -webkit-overflow-scrolling: touch;\n  scrollbar-color: #827f9b transparent;\n  scrollbar-width: thin;\n}\n.card-integration-fields-content .fields-list .fields-list__container::-webkit-scrollbar {\n  width: 4px;\n  height: 4px;\n}\n.card-integration-fields-content .fields-list .fields-list__container::-webkit-scrollbar-thumb {\n  background-color: #827f9b;\n  border: 0 solid transparent;\n  border-radius: 2px;\n}\n.card-integration-fields-content .fields-list .fields-list__container::-webkit-scrollbar-track {\n  background-color: initial;\n}\n.card-integration-fields-content .fields-list .fields-list__container .fields_list__count {\n  margin-top: 25px;\n  color: #827f9b;\n  font-size: 12px;\n  font-weight: bold;\n  line-height: 25px;\n}\n.card-integration-fields-content .fields-list .fields-list__container .fields-list__item {\n  height: 24px;\n  margin-top: 12px;\n}\n.card-integration-fields-content .fields-list .fields-list__container .fields-list__item .rtb-toggle {\n  white-space: nowrap;\n}\n.card-integration-fields-content .fields-list .fields-list__container .fields-list__item .rtb-toggle .rtb-toggle__text {\n  display: inline-block;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  max-width: 365px;\n  overflow: hidden;\n  font-size: 14px;\n  margin-left: 12px;\n}\n.card-integration-fields-content .fields-list .fields-list__container .fields-list__item:last-of-type {\n  margin-bottom: 12px;\n}\n.card-integration-fields-content .border--gray {\n  border-bottom: 1px solid #c3c2cf;\n}\n",""])},4910:function(e,t){e.exports='<rtb-modal class="rtb-modal--center rtb-modal--medium">\n    <card-integration-fields on-submit="modal.saveConfigWrapper" on-cancel="modal.cancelWrapper" attrs-promise="modal.params.attrsPromise">\n    </card-integration-fields>\n</rtb-modal>\n'},5564:function(e,t,n){"use strict";n.r(t);var i=n(45),s=n(21),r=n(452),a=n(524),o=n(46),c=n(44),l=n(52),d=n(4863),u=n(30),p=n(4870),h=n(25),f=n(4871);function g(){return Object(u.a)({restrict:"E",controller:p.a,controllerAs:"jiraIssueSuggestionsList",template:f,scope:{show:"=",selected:"=",suggestions:"=",onSelected:"&"}})}var m=n(1461),b=function(e){return void 0===e&&(e={}),n(4872),Object(h.b)().directive("jiraIssueSuggestionsList",g),Object(m.a)(),n(520),n(4874),o.a(c.a.JIRA_ISSUE_PICKER,d.a,n(4876),Object(s.a)({enableCloseByBackground:!1},e))},y=n(4878),v=n(327),k=n(1497),_=n(1588),x=function(e){return Object(_.a)(),Object(v.a)(),n(4889),o.a(c.a.JIRA_CARDS_ACTION,k.a,n(4891),Object(s.a)({enableCloseByBackground:!1},e))},j=n(706),I=300,C=function(){function e(e,t){void 0===e&&(e=!0),void 0===t&&(t=I),this.isHidden=e,this.defaultTimeout=t}return e.prototype.on=function(e,t){var n=this;this.cancel(),this.id=setTimeout(function(){n.isHidden=!1,e&&e(n)},t||this.defaultTimeout)},e.prototype.off=function(e){this.cancel(),this.isHidden=!0,e&&e(this)},e.prototype.cancel=function(){this.id&&(clearTimeout(this.id),this.id=0)},e}(),w=n(131),S=n(1),O={rank:{name:"Rank",value:"rank",available:function(){return!0}},type:{name:"Type",value:"type",available:function(){return!0}},priority:{name:"Priority",value:"priority",available:function(){return!0}},key:{name:"Key",value:"issue",available:function(){return!0}},summary:{name:"Summary",value:"summary",available:function(){return!0}},assignee:{name:"Assignee",value:"assignee",available:function(){return!0}},status:{name:"Status",value:"status",available:function(){return!0}}},A=n(206),E=n(35),P=n(26),R=n(104),T=n(513),M=n(39),F=n(160),N=n(162),D=n(33),U=n(34),L=n(77);function B(){var e=Object(M.a)().currentBoard;return{board_id:e.boardInfo.id,app_type:Object(F.a)(Object(F.b)()),device_os:N.b,user_id:Object(U.a)().userInfo.id,account_id:e.boardInfo.account.id,org_id:D.a(e.boardInfo.account)?e.boardInfo.account.organization.id:"",app_id:"",app_integration_name:"jira_cards",form_name:"card_attributes_configuring",level:"board"}}var V=A.c(),J=function(){},$=function(){function e(e){var t=this;this.searchString="",this.canAddIssues=!1,this.searchFocused=!1,this.showAlreadyImported=!0,this.filtersVisible=!1,this.filtersLoaded=!1,this.isOptionsPopupVisible=!1,this.isAdvancedSearch=!1,this.isJQLInvalid=!1,this.isCardCreateAvailable=!1,this.sortField=O.rank,this.sortOrder=-1,this.pagesCollection=[],this.successJQLSearchesCount=0,this._data=[],this.searchRevoke=null,this.successJQLSearchesCallback=J,this.inactiveSearchString="",this.filters=[],this.onFocus=function(){t.searchFocused=!0,t.scope.safeApply()},this.onBlur=function(){t.searchFocused=!1,t.scope.safeApply()},this.onSearchChanged=function(){t.filterIssues(t.searchString).then(function(e){e&&(t.dataSource.setPage(0),t.successJQLSearchesCallback=t.isAdvancedSearch?function(){return t.invalidateSuccessJQLSearches()}:J)})},this.fields=O,this.scope=e,this.dataSource=e.source,this.dataSource.onBeforeUpdate.add(this.beforeDataUpdateHandler,this),this.dataSource.onUpdated.add(this.dataUpdatedHandler,this),this.dataSource.onError.add(this.dataErrorHandler,this),this.dataSource.orderBy=this.assembleOrderBy(),this.selectedIssuesSet=new Set,this.loadFiltersIfNeed=this.getLoadFiltersIfNeed(),this.loader=new C,e.$on("$destroy",function(){return t.destroy()}),this.isCardCreateAvailable=V().isCreateIssueAvailable,this.filterIssues(this.searchString).then(function(e){e&&t.dataSource.update()})}return Object.defineProperty(e.prototype,"selectedAll",{get:function(){return!!this._data.length&&this.selectedCount===this._data.length},set:function(e){this._data.forEach(function(t){return t.checked=e})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalSelected",{get:function(){return this.selectedIssuesSet.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.invalidateSet(),this.canAddIssues=this.selectedIssuesSet.size>0,this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaderHidden",{get:function(){return this.loader.isHidden},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.cancelSearch(),this.stopListenOutsideMenuClickEvent(),this.loader.off(),this.dataSource.onBeforeUpdate.remove(this.beforeDataUpdateHandler,this),this.dataSource.onUpdated.remove(this.dataUpdatedHandler,this),this.dataSource.onError.remove(this.dataErrorHandler,this),this.selectedIssuesSet.clear(),this._data.length=0,P.Rd(this.successJQLSearchesCount)},e.prototype.onPageChanged=function(e){var t=this,n=parseInt(e.target.dataset.page||0,10);this.filterIssues(this.searchString).then(function(e){e&&t.dataSource.setPage(n)})},e.prototype.onPreviousPage=function(){var e=this;this.canTraverseBackward()&&this.filterIssues(this.searchString).then(function(t){t&&e.dataSource.previous()})},e.prototype.onNextPage=function(){var e=this;this.canTraverseForward()&&this.filterIssues(this.searchString).then(function(t){t&&e.dataSource.next()})},e.prototype.onItemSelected=function(e,t){for(var n=e.target;"TR"!==n.tagName&&!n.classList.contains("rtb-checkbox");)n=n.parentElement;"TR"===n.tagName&&(t.checked=!t.checked)},e.prototype.onRankinFieldChanged=function(e,t){var n=this;void 0===t&&(t="dropdown"),this.isAdvancedSearch||(this.sortField=e,this.isOptionsPopupVisible=!1,this.stopListenOutsideMenuClickEvent(),this.filterIssues(this.searchString).then(function(e){e&&(n.dataSource.orderBy=n.assembleOrderBy(),n.dataSource.update())}),P.nj(e.name,t))},e.prototype.onRankingDirectionChange=function(e){var t=this;this.isAdvancedSearch||(this.sortOrder=e,this.filterIssues(this.searchString).then(function(e){e&&(t.dataSource.orderBy=t.assembleOrderBy(),t.dataSource.update())}))},e.prototype.onRankinOrDirectionChange=function(e){this.sortField.value===e.value?this.onRankingDirectionChange(-1*this.sortOrder):this.onRankinFieldChanged(e,"column")},e.prototype.onShowFiltersClick=function(){this.filtersVisible=!this.filtersVisible,this.filtersVisible?(this.loadFiltersIfNeed(),this.startListenOutsideMenuClickEvent()):this.stopListenOutsideMenuClickEvent()},e.prototype.onFilterClick=function(e){var t=this.filters.find(function(t){return t.id===e});this.filtersVisible=!1,this.searchString=t.jql,this.stopListenOutsideMenuClickEvent(),this.onSearchChanged()},e.prototype.switchImportedVisibility=function(){this.showAlreadyImported=!this.showAlreadyImported},e.prototype.switchModes=function(){var e=this;this.isAdvancedSearch=!this.isAdvancedSearch;var t=this.inactiveSearchString;this.isJQLInvalid=!1,this.inactiveSearchString=this.searchString,this.searchString=t,this.filterIssues(this.searchString).then(function(t){t&&(e.dataSource.orderBy=e.assembleOrderBy(),e.dataSource.update())})},e.prototype.editFieldsSchema=function(){Object(R.a)(function(){return Object(T.a)()}).then(function(e){var t=V().fetchAttrsSchema(),n=e.showCardIntegrationFieldsModal({attrsPromise:t});n.closed.addOnce(function(){}),n.submitted.addOnce(function(e){V().updateAttrsSchema(e).then(function(){e.forEach(function(e){e.enabled&&function(e,t){var n=Object(s.a)(Object(s.a)({},B()),{chosen_attribute_name:e,chosen_attribute_type:t});Object(L.a)().sendApiEvent("app_integration_form_closed",n)}(e.name,e.type)})})}),function(){var e=B();Object(L.a)().sendApiEvent("app_integration_form_opened",e)}()})},e.prototype.getSelectedItems=function(){return Array.from(this.selectedIssuesSet)},e.prototype.isColumnActive=function(e){return!this.isAdvancedSearch&&this.sortField.value===e},e.prototype.getLoadFiltersIfNeed=function(){var e=this,t=!1;return function(){return Object(s.b)(e,void 0,void 0,function(){var e,n;return Object(s.e)(this,function(i){switch(i.label){case 0:if(t)return[3,5];t=!0,i.label=1;case 1:return i.trys.push([1,3,4,5]),e=this,[4,V().fetchFavouriteFilters()];case 2:return e.filters=i.sent(),[3,5];case 3:return n=i.sent(),Object(E.a)().showErrorByData(n),[3,5];case 4:return this.filtersLoaded=!0,this.scope.safeApply(),[7];case 5:return[2]}})})}},e.prototype.assembleOrderBy=function(){var e="";return this.isAdvancedSearch||(e=this.sortField.value+" "+(this.sortOrder>0?"asc":"desc")),e},e.prototype.filterIssues=function(e){var t=this;this.cancelSearch(),this.searchRevoke=Object(S.b)(),this.loader.on(function(){t.scope.$apply()});var n=[Promise.resolve([]),this.searchRevoke.promise],i=function(n){return t.dataSource.search=e,Promise.resolve(!0)};return e&&!this.isAdvancedSearch&&(n[0]=V().filterIssues(e),i=function(e){return e.length?t.dataSource.search="id in ("+e.join(",")+")":t.noIssuesFound(),Promise.resolve(e.length>0)}),Promise.race(n).then(i).catch(function(e){e instanceof j.a||(t.loader.off(),t.scope.$apply(),ErrorsTracker.debug("JiraIssuePicker filterIssues failed",e))})},e.prototype.startListenOutsideMenuClickEvent=function(){var e=this;this.clickManager=w.b(this,function(){return e.filtersVisible=!1,e.stopListenOutsideMenuClickEvent(),!1},".picker-filters-popup, .filter-button")},e.prototype.stopListenOutsideMenuClickEvent=function(){this.clickManager&&this.clickManager.destroy()},e.prototype.invalidateSet=function(){var e=this;this._data.forEach(function(t){var n=e.selectedIssuesSet.has(t.key);t.checked&&!n?(e.selectedIssuesSet.add(t.key),e.selectedCount++):!t.checked&&n&&(e.selectedIssuesSet.delete(t.key),e.selectedCount--)})},e.prototype.noIssuesFound=function(e){void 0===e&&(e="No data"),this._data=[],this.syncCheckedState(),this.loader.off(),this.pagesCollection=[],this.message=e,this.scope.$apply()},e.prototype.beforeDataUpdateHandler=function(){var e=this;this.message="No data",this.loader.on(function(){return e.scope.$apply()})},e.prototype.dataUpdatedHandler=function(e){this._data=e,this.pagesCollection=this.createPagesCollection(),this.loader.off(),this.syncCheckedState(),this.isAdvancedSearch&&(this.isJQLInvalid=!1,this.successJQLSearchesCallback()),this.scope.$apply()},e.prototype.dataErrorHandler=function(e){var t=!1;this.loader.off(),this.isAdvancedSearch&&(this.isJQLInvalid=!0,e.hasOwnProperty("errorMessages")&&(this.noIssuesFound(e.errorMessages.join("")),t=!0)),this.scope.$apply(),400===e.status||t||ErrorsTracker.debug("JiraIssuePicker dataUpdate failed",e)},e.prototype.syncCheckedState=function(){var e=this;this.selectedCount=0,this._data.forEach(function(t){t.checked=e.selectedIssuesSet.has(t.key),e.selectedCount+=t.checked?1:0})},e.prototype.createPagesCollection=function(){for(var e=[],t=Math.ceil(this.dataSource.total/this.dataSource.pageSize),n=this.dataSource.page,i=Math.min(t,5),s=Math.min(Math.max(0,n-2),t-i),r=0;r<i;r++)e.push(s+r);return e},e.prototype.cancelSearch=function(){this.searchRevoke&&(this.searchRevoke.reject(new j.a("JiraIssuePicker search request aborted")),this.searchRevoke=null)},e.prototype.canTraverseForward=function(){return this.dataSource.page+1<=this.pagesCollection[this.pagesCollection.length-1]},e.prototype.canTraverseBackward=function(){return this.dataSource.page-1>=0},e.prototype.invalidateSuccessJQLSearches=function(){this.successJQLSearchesCount=this.successJQLSearchesCount+(this.searchString.length?1:0),this.successJQLSearchesCallback=function(){}},e.$inject=["$scope"],e}(),z=n(465),H=n(377),K=n(4892);function q(){return Object(u.a)({restrict:"E",template:K,controller:$,controllerAs:"picker",scope:{source:"=",onAdd:"&",onShowCreateDialog:"&"}})}var G=n(48),Y=n(394),Q=n(235),W=n(60),X=n(4901),Z=n(522),ee=n(59),te=Y.b(),ne=function(e){function t(){var t=e.call(this)||this;return t.dataSource=new X.a,t}return Object(s.d)(t,e),t.prototype.destroy=function(){this.dataSource.destroy()},t.prototype.init=function(){P.Ri()},t.prototype.addCards=function(e){Object(Z.a)(ee.a.JIRA),Object(Q.a)().triggerAB(W.a.JIRA_CARDS_IMPORT_HELPFUL_TIP,"insert_jira_card_with_picker "),te().createFromBulk(e),this.submit()},t.prototype.showCreateModal=function(){var e=Object(i.a)().show(x({title:"Create JIRA Issue"})),t=function(e){return te().createFromBulk(e)};e.submitted.addOnce(t),e.canceled.addOnce(t)},t}(G.b),ie=n(62),se=function(e){return void 0===e&&(e={}),n(4902),Object(ie.a)(),Object(z.a)(),Object(H.a)(),n(4897),Object(h.b)().directive("jiraIssuePicker",q),o.a(c.a.JIRA_CARDS_ISSUE_PICKER,ne,n(4904),Object(s.a)({enableCloseByBackground:!0},e))},re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.canAddCards=!1,t}return Object(s.d)(t,e),t.prototype.init=function(){P.wi(),this.accountIdFromBoard=Object(M.a)().currentBoard.accountId,this.hasPermissionInAccount=!!Object(U.a)().getAccount(this.accountIdFromBoard),this.hasPermissionInAccount&&(this.canAddCards=!0)},t.prototype.gotoSettings=function(){this.hasPermissionInAccount&&(l.a.teamAppsAndIntegrations(this.accountIdFromBoard,void 0,!0),this.cancel())},t}(G.b),ae=function(e){function t(){var t=e.call(this)||this;return t.saveConfigWrapper=t.saveConfig.bind(t),t.cancelWrapper=t.cancel.bind(t),t}return Object(s.d)(t,e),t.prototype.saveConfig=function(e){this.submit(e)},t}(G.b),oe=n(116),ce=n(43),le=n(964),de=n(482),ue=[{attr:{id:"status",name:"Status",type:"status",enabled:!0},isDisabled:!0},{attr:{id:"issuetype",name:"Issue Type",type:"issuetype",enabled:!0},isDisabled:!0},{attr:{id:"assignee",name:"Assignee",type:"assignee",enabled:!0},isDisabled:!0},{attr:{id:"priority",name:"Priority",type:"priority",enabled:!0},isDisabled:!0}],pe=function(e){function t(t){var n=e.call(this,t)||this;return n.state={attrContainers:[],filterVal:"",searchFocused:!1},n}return Object(s.d)(t,e),t.prototype.componentDidMount=function(){return Object(s.b)(this,void 0,void 0,function(){var e,t,n=this;return Object(s.e)(this,function(i){switch(i.label){case 0:return[4,this.props.attrsPromise];case 1:return e=i.sent(),t=e.filter(function(e){return!ue.some(function(t){return e.id===t.attr.id})}).map(function(e){return{attr:Object(s.a)({},e),isDisabled:!1,onChange:function(t){return n.handleChange(t,e.id)}}}),this.setState({attrContainers:t}),[2]}})})},t.prototype.handleFilterChange=function(e){this.setState({filterVal:e})},t.prototype.handleFilterFocus=function(){this.setState({searchFocused:!0})},t.prototype.handleFilterBlur=function(){this.setState({searchFocused:!1})},t.prototype.handleSave=function(){var e=this.state.attrContainers.map(function(e){return e.attr});this.props.onSubmit(e)},t.prototype.handleCancel=function(){this.props.onCancel()},t.prototype.handleReset=function(){var e=this.state.attrContainers.map(function(e){return Object(s.a)(Object(s.a)({},e),{attr:Object(s.a)(Object(s.a)({},e.attr),{enabled:ue.some(function(t){return t.attr.id===e.attr.id})})})});this.setState({attrContainers:e})},t.prototype.handleChange=function(e,t){var n=this.state.attrContainers.map(function(n){return n.attr.id===t?{attr:Object(s.a)(Object(s.a)({},n.attr),{enabled:e}),isDisabled:n.isDisabled,onChange:n.onChange}:n});this.setState({attrContainers:n})},t.prototype.render=function(){var e=this.state,t=e.attrContainers,n=e.filterVal,i=e.searchFocused,s=t.concat(ue).filter(function(e){return e.attr.name.toLowerCase().includes(n.toLowerCase())}).sort(function(e,t){return e.attr.name>t.attr.name?1:-1}),r=t.reduce(function(e,t){return t.attr.enabled?e+1:e},0);return ce.React.createElement("div",{className:"rtb-modal-container__content rtb-modal-content card-integration-fields-content"},ce.React.createElement("div",{className:"rtb-modal-content__header rtb-modal-header"},ce.React.createElement("div",{className:"rtb-modal-header__title rtb-modal-title"},ce.React.createElement("div",{className:"rtb-modal-title__text"},"Select fields to display on cards"))),ce.React.createElement("div",{className:"rtb-modal-content__body rtb-modal-body"},ce.React.createElement("div",null,"Changes to fields will be applied only to cards on this board."),ce.React.createElement(le.a,{className:"fields-search "+(i?"fields-search--focused":""),placeholder:"Search field name",search:"",onChange:this.handleFilterChange,onFocus:this.handleFilterFocus,onBlur:this.handleFilterBlur}),ce.React.createElement("div",{className:"fields-list"},ce.React.createElement("div",{className:"fields-list__container","no-prevent-default":"true"},ce.React.createElement("div",{className:"fields_list__count"},"Fields "+r+"/"+t.length),s.map(function(e){return ce.React.createElement("div",{key:e.attr.id,className:"fields-list__item"},ce.React.createElement(de.a,{name:""+e.attr.id,label:e.attr.name,checked:e.attr.enabled,isDisabled:e.isDisabled,onChange:e.onChange}))}))),ce.React.createElement("div",{className:"border--gray"})),ce.React.createElement("div",{className:"rtb-modal-content__actions rtb-modal-actions"},ce.React.createElement("button",{className:"rtb-btn rtb-btn--primary rtb-btn--medium",onClick:this.handleSave},"Save"),ce.React.createElement("button",{className:"rtb-btn rtb-btn--secondary rtb-btn--medium",onClick:this.handleCancel},"Cancel"),ce.React.createElement("button",{className:"rtb-btn rtb-btn--secondary-flat rtb-btn--pull-right rtb-btn--small",onClick:this.handleReset},"Reset to default")))},Object(s.c)([ce.decorators.autobind],t.prototype,"handleFilterChange",null),Object(s.c)([ce.decorators.autobind],t.prototype,"handleFilterFocus",null),Object(s.c)([ce.decorators.autobind],t.prototype,"handleFilterBlur",null),Object(s.c)([ce.decorators.autobind],t.prototype,"handleSave",null),Object(s.c)([ce.decorators.autobind],t.prototype,"handleCancel",null),Object(s.c)([ce.decorators.autobind],t.prototype,"handleReset",null),t}(ce.React.PureComponent),he=function(e){return Object(ie.a)(),n(4908),Object(h.b)().component("cardIntegrationFields",Object(oe.b)(pe,["onSubmit","onCancel","attrsPromise"])),o.a(c.a.CARD_INTEGRATION_FIELDS,ae,n(4910),Object(s.a)({enableCloseByBackground:!0},e))},fe=function(){function e(){}return e.prototype.showJiraAddonUnavailableModal=function(){var e;Object(i.a)().show((void 0===e&&(e={}),n(4861),o.a(c.a.JIRA_ADDON_UNAVAILABLE,r.a,a.a(),Object(s.a)({text:"To attach your boards to JIRA issues, please get the Miro add-on for JIRA on the Atlassian Marketplace, and connect it to your Team account.\n\t\t\t\t<div class='jira-learn-more'><a href='"+rtb.config.app.links.jiraDocs+"' target='_blank'>Learn more about JIRA integration</a></div>",caption:"Unable to attach this board to JIRA",iconURL:n(2186),customClass:"jira-addon-unavailable",submitButtonClass:"btn-blue btn-get-addon",submitButtonCaption:"Get add-on",submitCallback:function(){l.k(rtb.config.app.links.jiraMarket).openInNewTab()}},e))))},e.prototype.showJiraIssuePickerModal=function(){Object(i.a)().show(b())},e.prototype.showJiraCardEditModal=function(e){return Object(i.a)().show(function(e){return Object(v.a)(),n(4879),o.a(c.a.JIRA_CARDS_EDITOR,y.a,n(4881),Object(s.a)({enableCloseByBackground:!1},e))}(e))},e.prototype.showJiraCardsIssueActionModal=function(e){return Object(i.a)().show(x(e))},e.prototype.showJiraCardsIssuePickerModal=function(){return Object(i.a)().show(se())},e.prototype.showJiraCardsUnavailableModal=function(){return Object(i.a)().show((void 0===e&&(e={}),Object(v.a)(),n(520),n(4905),o.a(c.a.JIRA_CARDS_UNAVAILABLE,re,n(4907),e)));var e},e.prototype.showCardIntegrationFieldsModal=function(e){return Object(i.a)().show(he(e))},e}();t.default=new fe},560:function(e,t,n){var i=n(666);"string"===typeof i&&(i=[[e.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(24)(i,s);i.locals&&(e.exports=i.locals)},632:function(e,t){e.exports="#general__search-filters"},666:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".rtb-toggle {\n  position: relative;\n  display: inline-block;\n  cursor: pointer;\n  min-width: 30px;\n  height: 20px;\n}\n.rtb-toggle input[type='checkbox'] + .rtb-toggle__indicator {\n  width: 36px;\n  height: 20px;\n}\n.rtb-toggle input[type='checkbox'] + .rtb-toggle__indicator::after {\n  width: 16px;\n  height: 16px;\n}\n.rtb-toggle .rtb-toggle__text {\n  font-size: 16px;\n}\n.rtb-toggle input[type='checkbox']:checked + .rtb-toggle__indicator::after {\n  transform: translateX(16px);\n}\n.rtb-toggle .rtb-toggle__text {\n  margin-left: 14px;\n  line-height: 20px;\n}\n.rtb-toggle input[type='checkbox'] {\n  position: absolute;\n  top: 2px;\n  left: 1px;\n  z-index: -1;\n  opacity: 0;\n}\n.rtb-toggle input[type='checkbox'] + .rtb-toggle__indicator {\n  position: relative;\n  display: inline-block;\n  vertical-align: top;\n  border-radius: 10px;\n  background-color: #c3c2cf;\n}\n.rtb-toggle input[type='checkbox'] + .rtb-toggle__indicator::after {\n  content: '';\n  position: absolute;\n  display: block;\n  margin: 2px;\n  border-radius: 50%;\n  background: #fff;\n}\n.rtb-toggle input[type='checkbox']:checked + .rtb-toggle__indicator {\n  background-color: #4262ff;\n}\n.rtb-toggle .rtb-toggle__text {\n  vertical-align: top;\n}\n.rtb-toggle.rtb-toggle--large {\n  height: 20px;\n}\n.rtb-toggle.rtb-toggle--large input[type='checkbox'] + .rtb-toggle__indicator {\n  width: 36px;\n  height: 20px;\n}\n.rtb-toggle.rtb-toggle--large input[type='checkbox'] + .rtb-toggle__indicator::after {\n  width: 16px;\n  height: 16px;\n}\n.rtb-toggle.rtb-toggle--large .rtb-toggle__text {\n  font-size: 16px;\n}\n.rtb-toggle.rtb-toggle--large input[type='checkbox']:checked + .rtb-toggle__indicator::after {\n  transform: translateX(16px);\n}\n.rtb-toggle.rtb-toggle--large .rtb-toggle__text {\n  margin-left: 14px;\n  line-height: 20px;\n}\n.rtb-toggle.rtb-toggle--medium {\n  height: 16px;\n}\n.rtb-toggle.rtb-toggle--medium input[type='checkbox'] + .rtb-toggle__indicator {\n  width: 28px;\n  height: 16px;\n}\n.rtb-toggle.rtb-toggle--medium input[type='checkbox'] + .rtb-toggle__indicator::after {\n  width: 12px;\n  height: 12px;\n}\n.rtb-toggle.rtb-toggle--medium .rtb-toggle__text {\n  font-size: 14px;\n}\n.rtb-toggle.rtb-toggle--medium input[type='checkbox']:checked + .rtb-toggle__indicator::after {\n  transform: translateX(12px);\n}\n.rtb-toggle.rtb-toggle--medium .rtb-toggle__text {\n  margin-left: 10px;\n  line-height: 16px;\n}\n.rtb-toggle.rtb-toggle--animated input[type='checkbox'] + .rtb-toggle__indicator {\n  transition-delay: 0.05s;\n  transition: background-color 0.3s cubic-bezier(0.35, 0, 0.25, 1);\n}\n.rtb-toggle.rtb-toggle--animated input[type='checkbox'] + .rtb-toggle__indicator::after {\n  transition-delay: 0.05s;\n  transition: transform 0.3s cubic-bezier(0.35, 0, 0.25, 1);\n}\n.rtb-toggle:not(.rtb-toggle--disabled):hover input[type='checkbox'] + .rtb-toggle__indicator {\n  background-color: #bdbdbd;\n}\n.rtb-toggle:not(.rtb-toggle--disabled):hover input[type='checkbox']:checked + .rtb-toggle__indicator {\n  background-color: #455bed;\n}\n.rtb-toggle.rtb-toggle--disabled {\n  opacity: 0.2;\n}\n",""])},755:function(e,t,n){"use strict";var i=function(){function e(e){e._onFocus=function(t){e.failState=!1,e.onFocus&&e.onFocus({$event:t})},e._onChange=function(){e.failState=!1,e.onChange()},e.$watch("done",function(t){t&&setTimeout(function(){e.done=!1,e.$digest()},2e3)})}return e.$inject=["$scope"],e}();t.a=i},813:function(e,t){e.exports="#img__rtb-badge-cross"}}]);
//# sourceMappingURL=BoardJira.3ad76d954be2060e580a.js.map